  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
SQLite3::SQLException: no such table: clerks: SELECT  "clerks".* FROM "clerks"  WHERE "clerks"."email" = 'admin@important.me'  ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (4.9ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 10:33:47 UTC +00:00], ["email", "admin@important.me"], ["encrypted_password", "d8da180d773ed801ca5f5d849db5dc6b4dc28d6e09082aa5792af61b67dd56e0cdd4233e811de95964c5906a890620b91a5227a0a0b258e31e6cb8fc558df437"], ["password_salt", "$2a$10$r2krqMhZt8vu7nOtbVgjS."], ["updated_at", Wed, 12 Nov 2014 10:33:47 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "baskets";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'baskets';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "categories";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'categories';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "clerks";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM sqlite_sequence where name = 'clerks';
  [1m[36m (0.6ms)[0m  [1mDELETE FROM "items";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'items';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "orders";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'orders';
  [1m[36m (0.8ms)[0m  [1mDELETE FROM "products";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'products';[0m
  [1m[35m (0.6ms)[0m  DELETE FROM "purchases";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'purchases';
  [1m[36m (0.6ms)[0m  [1mDELETE FROM "suppliers";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'suppliers';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Started GET "/sign_up" for 127.0.0.1 at 2014-11-12 12:34:49 +0200
Processing by SessionsController#sign_up as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_up.haml within layouts/shop (491.6ms)
Completed 500 Internal Server Error in 2657ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:34:52 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (4.8ms)
Completed 500 Internal Server Error in 41ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/sign_up" for 127.0.0.1 at 2014-11-12 12:34:52 +0200
Processing by SessionsController#sign_up as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_up.haml within layouts/shop (4.1ms)
Completed 500 Internal Server Error in 23ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Started GET "/suppliers" for 127.0.0.1 at 2014-11-12 12:34:52 +0200
Processing by SuppliersController#index as HTML
Completed 500 Internal Server Error in 4ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/welcome" for 127.0.0.1 at 2014-11-12 12:34:52 +0200
Processing by ShopController#welcome as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."online" = 't' AND "categories"."category_id" IS NULL ORDER BY position[0m
  Rendered /Users/raisa/office_clerk/app/views/shop/welcome.html.haml (22.8ms)
Completed 500 Internal Server Error in 25ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Started GET "/page/tuotteista" for 127.0.0.1 at 2014-11-12 12:34:52 +0200
Processing by ShopController#page as HTML
  Parameters: {"id"=>"tuotteista"}
  Rendered /Users/raisa/office_clerk/app/views/shop/tuotteista.html.haml within layouts/shop (9.6ms)
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) ORDER BY created_at DESC LIMIT 50
Completed 500 Internal Server Error in 27ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Processing by SessionsController#sign_in as HTML
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.4ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.3ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:34:52 UTC +00:00], ["link", "some_name"], ["name", "some name"], ["updated_at", Wed, 12 Nov 2014 10:34:52 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 10:37:51 UTC +00:00], ["email", "admin@important.me"], ["encrypted_password", "8c48a14bdd0578464868ced35df48f47d55c69a8f7be5f82a356a9cb59da25b158964c7123110cc335b586d997baf7a6f5fa018a3259121f614b00a12036c201"], ["password_salt", "$2a$10$bhFNzYK4FhFCagCvStT8EO"], ["updated_at", Wed, 12 Nov 2014 10:37:51 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "baskets";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'baskets';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "categories";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'categories';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "clerks";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM sqlite_sequence where name = 'clerks';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "items";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'items';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "orders";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'orders';
  [1m[36m (0.8ms)[0m  [1mDELETE FROM "products";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'products';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "purchases";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'purchases';
  [1m[36m (0.6ms)[0m  [1mDELETE FROM "suppliers";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'suppliers';[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Started GET "/sign_up" for 127.0.0.1 at 2014-11-12 12:37:51 +0200
Processing by SessionsController#sign_up as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_up.haml within layouts/shop (345.6ms)
Completed 500 Internal Server Error in 431ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started GET "/suppliers" for 127.0.0.1 at 2014-11-12 12:37:52 +0200
Processing by SuppliersController#index as HTML
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:37:52 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (2.4ms)
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Started GET "/sign_up" for 127.0.0.1 at 2014-11-12 12:37:52 +0200
Processing by SessionsController#sign_up as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_up.haml within layouts/shop (2.1ms)
Completed 500 Internal Server Error in 15ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Load (0.3ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Processing by SessionsController#sign_in as HTML
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (12.3ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Started GET "/page/tuotteista" for 127.0.0.1 at 2014-11-12 12:37:52 +0200
Processing by ShopController#page as HTML
  Parameters: {"id"=>"tuotteista"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) ORDER BY created_at DESC LIMIT 50[0m
Completed 500 Internal Server Error in 19ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Started GET "/welcome" for 127.0.0.1 at 2014-11-12 12:37:52 +0200
Processing by ShopController#welcome as HTML
  [1m[35mCategory Load (0.1ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."online" = 't' AND "categories"."category_id" IS NULL ORDER BY position
Completed 500 Internal Server Error in 22ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:37:52 UTC +00:00], ["link", "some_name"], ["name", "some name"], ["updated_at", Wed, 12 Nov 2014 10:37:52 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["email", "admin@important.me"], ["encrypted_password", "2652229dcb3c1e8bfbc612013c1c3f5264f30d1eafc221cc7fb5ebeaa3be60f9c3bb466904683bc845b4333ce569083861ffbd48bc14df645bb80c2c0dc24d17"], ["password_salt", "$2a$10$CfJK7qQJQOJvAxBizv8DZO"], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "baskets";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'baskets';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "categories";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'categories';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "clerks";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM sqlite_sequence where name = 'clerks';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "items";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'items';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "orders";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'orders';
  [1m[36m (0.8ms)[0m  [1mDELETE FROM "products";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'products';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "purchases";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'purchases';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "suppliers";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'suppliers';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 5.0], ["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["inventory", 5], ["link", "product_1"], ["name", "product 1"], ["price", 10.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["name", "product 1"], ["price", 10.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 5.5], ["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["inventory", 5], ["link", "product_2"], ["name", "product 2"], ["price", 11.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["name", "product 2"], ["price", 11.0], ["product_id", 2], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["total_price", #<BigDecimal:7f98aa3d43d0,'0.32E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa3d4218,'0.32E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 1[0m  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:30.327320' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7f98aa4152b8,'0.1E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa415100,'0.1E1',9(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 2  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:30.331366' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7f98aa43d308,'0.32E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa43d150,'0.32E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "items" SET "basket_id" = NULL WHERE "items"."basket_id" = ? AND "items"."id" IN (2)[0m  [["basket_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7f98aa455778,'0.1E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa4555c0,'0.1E1',9(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 6.0], ["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["inventory", 5], ["link", "product_3"], ["name", "product 3"], ["price", 12.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["name", "product 3"], ["price", 12.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 6.5], ["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["inventory", 5], ["link", "product_4"], ["name", "product 4"], ["price", 13.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["name", "product 4"], ["price", 13.0], ["product_id", 2], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["total_price", #<BigDecimal:7f98aa4dca70,'0.38E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa4dc8b8,'0.38E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 1  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:30.350134' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7f98aa505808,'0.12E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa505650,'0.12E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 2[0m  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:30.352944' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7f98aa52d8f8,'0.38E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa52d740,'0.38E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 7.0], ["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["inventory", 5], ["link", "product_5"], ["name", "product 5"], ["price", 14.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["name", "product 5"], ["price", 14.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 7.5], ["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["inventory", 5], ["link", "product_6"], ["name", "product 6"], ["price", 15.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["name", "product 6"], ["price", 15.0], ["product_id", 2], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["total_price", #<BigDecimal:7f98aa5b5b40,'0.44E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa5b5988,'0.44E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 1[0m  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:30.368562' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7f98aa5de928,'0.14E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa5de770,'0.14E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 2  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:30.371369' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7f98aa6069c8,'0.44E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa606810,'0.44E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 8.0], ["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["inventory", 5], ["link", "product_7"], ["name", "product 7"], ["price", 16.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 8.5], ["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["inventory", 5], ["link", "product_8"], ["name", "product 8"], ["price", 17.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 9.0], ["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["inventory", 5], ["link", "product_9"], ["name", "product 9"], ["price", 18.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["total_price", #<BigDecimal:7f98aa697360,'0.51E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa6971a8,'0.51E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["name", "product 7"], ["price", 16.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:30.390202' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7f98aa6bf298,'0.16E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa6bf0e0,'0.16E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["name", "product 8"], ["price", 17.0], ["product_id", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:30.393361' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7f98aa6f61a8,'0.33E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa6f5ff0,'0.33E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["name", "product 9"], ["price", 18.0], ["product_id", 3], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:30.396350' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7f98aa72cc08,'0.51E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa72ca50,'0.51E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 9.5], ["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["inventory", 5], ["link", "product_10"], ["name", "product 10"], ["price", 19.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["name", "product 10"], ["price", 19.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 10.0], ["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["inventory", 5], ["link", "product_11"], ["name", "product 11"], ["price", 20.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["name", "product 11"], ["price", 20.0], ["product_id", 2], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["total_price", #<BigDecimal:7f98aa85ddc0,'0.59E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa85dc08,'0.59E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 1[0m  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:30.416378' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7f98aa886ba8,'0.19E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa8869f0,'0.19E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 2  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:30.419481' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7f98aa8aec48,'0.59E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa8aea90,'0.59E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "items" SET "basket_id" = NULL WHERE "items"."basket_id" = ? AND "items"."id" IN (2)[0m  [["basket_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7f98aa8c7310,'0.19E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa8c7158,'0.19E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 10.5], ["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["inventory", 5], ["link", "product_12"], ["name", "product 12"], ["price", 21.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC[0m  [["product_id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "ean", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 11.0], ["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["ean", "1234"], ["inventory", 5], ["link", "product_13"], ["name", "product 13"], ["price", 22.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "link", "name", "price", "product_id", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 11.0], ["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["link", ""], ["name", "my unique name"], ["price", 22.0], ["product_id", 1], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT SUM("products"."inventory") AS sum_id FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ?  [["product_id", 1]]
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "products" SET "inventory" = ?, "ean" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1  [["inventory", 0], ["ean", ""], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 11.5], ["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["inventory", 5], ["link", "product_14"], ["name", "product 14"], ["price", 23.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 12.0], ["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["inventory", 5], ["link", "product_15"], ["name", "product 15"], ["price", 24.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 12.5], ["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["inventory", 5], ["link", "product_16"], ["name", "product 16"], ["price", 25.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC  [["product_id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "products" SET "inventory" = ?, "deleted_on" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1  [["inventory", 0], ["deleted_on", Wed, 12 Nov 2014], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."id" = 1 ORDER BY created_at DESC LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 13.0], ["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["inventory", 5], ["link", "product_17"], ["name", "product 17"], ["price", 26.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "product_id", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 13.5], ["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["inventory", 5], ["link", ""], ["name", "product 18"], ["price", 27.0], ["product_id", 1], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SELECT SUM("products"."inventory") AS sum_id FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ?  [["product_id", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "products" SET "updated_at" = ?, "properties" = ? WHERE "products"."id" = 2[0m  [["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSELECT SUM("products"."inventory") AS sum_id FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ?[0m  [["product_id", 1]]
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 14.0], ["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["inventory", 5], ["link", "product_19"], ["name", "product 19"], ["price", 28.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 14.5], ["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["inventory", 5], ["link", "product_20"], ["name", "product 20"], ["price", 29.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "product_id", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 15.0], ["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["inventory", 5], ["link", ""], ["name", "product 21"], ["price", 30.0], ["product_id", 1], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SELECT SUM("products"."inventory") AS sum_id FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ?  [["product_id", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk1\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["email", "admin1@test.com"], ["encrypted_password", "975af7f3aebc75f7638fd72c37a3afa51665673f07351d0158351aa8e0fc35bf56c9db21590a3241596ede5eb1a1bd48c3865fff69f113ca273f691c335fdd9c"], ["password_salt", "$2a$10$HCqNZjPFpyXKxRziIvZO9e"], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "baskets"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by BasketsController#index as HTML
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by BasketsController#new as HTML
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by BasketsController#update as HTML
  Parameters: {"basket"=>{}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by BasketsController#update as HTML
  Parameters: {"basket"=>{}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by BasketsController#update as HTML
  Parameters: {"basket"=>{"some"=>"thing_to_stop_erros"}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "baskets"
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by BasketsController#destroy as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by BasketsController#destroy as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by BasketsController#show as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by BasketsController#create as HTML
  Parameters: {"basket"=>{}}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by BasketsController#create as HTML
  Parameters: {"basket"=>{}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "baskets"
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by BasketsController#create as HTML
  Parameters: {"basket"=>{}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by BasketsController#edit as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 15.5], ["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["inventory", 5], ["link", "product_22"], ["name", "product 22"], ["price", 31.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ? AND "items"."product_id" = 1 ORDER BY "items"."id" ASC LIMIT 1  [["basket_id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00], ["name", "product 22"], ["price", 31.0], ["product_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:30.988602' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7f98aa44d118,'0.31E2',9(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ? AND "items"."product_id" = 1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["basket_id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "items" SET "quantity" = ?, "updated_at" = ? WHERE "items"."id" = 1[0m  [["quantity", 2], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:30.993457' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7f98aa61e410,'0.62E2',9(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 16.0], ["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["inventory", 5], ["link", "product_23"], ["name", "product 23"], ["price", 32.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ? AND "items"."product_id" = 1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["basket_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["name", "product 23"], ["price", 32.0], ["product_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:31.009395' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7f98aaa09ef8,'0.32E2',9(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "online", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 16.5], ["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["inventory", 5], ["link", "product_24"], ["name", "product 24"], ["online", true], ["price", 33.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("created_at", "link", "name", "online", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["link", "gourmet1"], ["name", "Gourmet1"], ["online", true], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "products" SET "category_id" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1[0m  [["category_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/prod/no_such_thing" for 127.0.0.1 at 2014-11-12 12:43:31 +0200
Processing by ShopController#product as HTML
  Parameters: {"link"=>"no_such_thing"}
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) AND "products"."link" = 'no_such_thing' ORDER BY created_at DESC LIMIT 1[0m
Redirected to http://www.example.com/group/no_such_thing
Completed 302 Found in 14ms (ActiveRecord: 0.3ms)
Started GET "/group/no_such_thing" for 127.0.0.1 at 2014-11-12 12:43:31 +0200
Processing by ShopController#group as HTML
  Parameters: {"link"=>"no_such_thing"}
  [1m[35mCategory Load (0.1ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."online" = 't' AND "categories"."link" = 'no_such_thing' ORDER BY position LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."online" = 't' AND "categories"."category_id" IS NULL ORDER BY position[0m
Completed 500 Internal Server Error in 117ms
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "online", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 17.0], ["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["inventory", 5], ["link", "product_25"], ["name", "product 25"], ["online", true], ["price", 34.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "online", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["link", "gourmet2"], ["name", "Gourmet2"], ["online", true], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "products" SET "category_id" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1  [["category_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2014-11-12 12:43:31 +0200
Processing by ShopController#group as HTML
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."online" = 't' AND "categories"."link" IS NULL ORDER BY position LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."online" = 't' AND "categories"."category_id" IS NULL ORDER BY position[0m
Completed 500 Internal Server Error in 12ms
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "online", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 17.5], ["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["inventory", 5], ["link", "product_26"], ["name", "product 26"], ["online", true], ["price", 35.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "online", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["link", "gourmet3"], ["name", "Gourmet3"], ["online", true], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "products" SET "category_id" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1  [["category_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/prod/product_26" for 127.0.0.1 at 2014-11-12 12:43:31 +0200
Processing by ShopController#product as HTML
  Parameters: {"link"=>"product_26"}
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) AND "products"."link" = 'product_26' ORDER BY created_at DESC LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? ORDER BY position LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 24ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "online", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 18.0], ["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["inventory", 5], ["link", "product_27"], ["name", "product 27"], ["online", true], ["price", 36.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "online", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["link", "gourmet4"], ["name", "Gourmet4"], ["online", true], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "products" SET "category_id" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1  [["category_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/prod/product_27" for 127.0.0.1 at 2014-11-12 12:43:31 +0200
Processing by ShopController#product as HTML
  Parameters: {"link"=>"product_27"}
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) AND "products"."link" = 'product_27' ORDER BY created_at DESC LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? ORDER BY position LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "online", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 18.5], ["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["inventory", 5], ["link", "product_28"], ["name", "product 28"], ["online", true], ["price", 37.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "online", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["link", "gourmet5"], ["name", "Gourmet5"], ["online", true], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "products" SET "category_id" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1  [["category_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/prod/product_28" for 127.0.0.1 at 2014-11-12 12:43:31 +0200
Processing by ShopController#product as HTML
  Parameters: {"link"=>"product_28"}
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) AND "products"."link" = 'product_28' ORDER BY created_at DESC LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? ORDER BY position LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 20ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Started GET "/page/tuotteista" for 127.0.0.1 at 2014-11-12 12:43:31 +0200
Processing by ShopController#page as HTML
  Parameters: {"id"=>"tuotteista"}
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) ORDER BY created_at DESC LIMIT 50
Completed 500 Internal Server Error in 17ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Started GET "/welcome" for 127.0.0.1 at 2014-11-12 12:43:31 +0200
Processing by ShopController#welcome as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."online" = 't' AND "categories"."category_id" IS NULL ORDER BY position[0m
Completed 500 Internal Server Error in 22ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "online", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 19.0], ["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["inventory", 5], ["link", "product_29"], ["name", "product 29"], ["online", true], ["price", 38.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "online", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["link", "gourmet6"], ["name", "Gourmet6"], ["online", true], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "products" SET "category_id" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1  [["category_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/prod/product_29" for 127.0.0.1 at 2014-11-12 12:43:31 +0200
Processing by ShopController#product as HTML
  Parameters: {"link"=>"product_29"}
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) AND "products"."link" = 'product_29' ORDER BY created_at DESC LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? ORDER BY position LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 15ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "online", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 19.5], ["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["inventory", 5], ["link", "product_30"], ["name", "product 30"], ["online", true], ["price", 39.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "online", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["link", "gourmet7"], ["name", "Gourmet7"], ["online", true], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "products" SET "category_id" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1  [["category_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/prod/product_30" for 127.0.0.1 at 2014-11-12 12:43:31 +0200
Processing by ShopController#product as HTML
  Parameters: {"link"=>"product_30"}
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) AND "products"."link" = 'product_30' ORDER BY created_at DESC LIMIT 1
  [1m[36mCategory Load (0.0ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? ORDER BY position LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 19ms
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "online", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 20.0], ["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["inventory", 5], ["link", "product_31"], ["name", "product 31"], ["online", true], ["price", 40.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "online", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["link", "gourmet8"], ["name", "Gourmet8"], ["online", true], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "products" SET "category_id" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1  [["category_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/prod/product_31" for 127.0.0.1 at 2014-11-12 12:43:31 +0200
Processing by ShopController#product as HTML
  Parameters: {"link"=>"product_31"}
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) AND "products"."link" = 'product_31' ORDER BY created_at DESC LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? ORDER BY position LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 15ms
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "online", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 20.5], ["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["inventory", 5], ["link", "product_32"], ["name", "product 32"], ["online", true], ["price", 41.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "online", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["link", "gourmet9"], ["name", "Gourmet9"], ["online", true], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "products" SET "category_id" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1  [["category_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/group/gourmet9" for 127.0.0.1 at 2014-11-12 12:43:31 +0200
Processing by ShopController#group as HTML
  Parameters: {"link"=>"gourmet9"}
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."online" = 't' AND "categories"."link" = 'gourmet9' ORDER BY position LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."category_id" = ? AND "categories"."online" = 't' ORDER BY position[0m  [["category_id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."category_id" = ? AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) ORDER BY created_at DESC  [["category_id", 1]]
Completed 500 Internal Server Error in 24ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 21.0], ["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["inventory", 5], ["link", "product_33"], ["name", "product 33"], ["price", 42.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["total_price", #<BigDecimal:7f98a9f98370,'0.42E2',9(36)>], ["total_tax", #<BigDecimal:7f98a9f981b8,'0.42E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["name", "product 12"], ["price", 42.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:31.525426' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at DESC LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("address", "created_at", "email", "number", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["email", "test1@test.com"], ["number", "R201430000"], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["kori_type", "Order"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 21.5], ["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["inventory", 5], ["link", "product_34"], ["name", "product 34"], ["price", 43.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["total_price", #<BigDecimal:7f98a3ad74b8,'0.43E2',9(36)>], ["total_tax", #<BigDecimal:7f98a3ad43a8,'0.43E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["name", "product 13"], ["price", 43.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:31.587965' WHERE "baskets"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("address", "created_at", "email", "number", "updated_at") VALUES (?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["email", "test2@test.com"], ["number", "R201430000"], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Order"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 22.0], ["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["inventory", 5], ["link", "product_35"], ["name", "product 35"], ["price", 44.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["total_price", #<BigDecimal:7f98a5174658,'0.44E2',9(36)>], ["total_tax", #<BigDecimal:7f98a51742c0,'0.44E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["name", "product 14"], ["price", 44.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:31.601591' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("address", "created_at", "email", "number", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["email", "test3@test.com"], ["number", "R201430000"], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["kori_type", "Order"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test1@test.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test2@test.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test3@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk4\n"], ["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["email", "test3@test.com"], ["encrypted_password", "93b8c0332dfaa767e20fb2ef2f511075ee05777594a89207d1390e45a46776cf68b6a8a388c10d79855a1ce9fa84f64de5853a259639b169da6718e277d3bf22"], ["password_salt", "$2a$10$bF5Onjpb8M.nbk.XwbsmRe"], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test4@test.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test5@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk6\n"], ["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["email", "test5@test.com"], ["encrypted_password", "14df6c12394b796f22619b70b8bc42fcccceb89f8172ae0e390237b0bfddde9ffa1071f8ecf6454b0d87f7adfa72279b5efd3ecf99166c5c80296fa9d0d4ac30"], ["password_salt", "$2a$10$MFmAEc5J2IMAxfMPTeNh/O"], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test6@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk7\n"], ["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["email", "test6@test.com"], ["encrypted_password", "cfc2b6e4522c868c6ad8eb74d54fb1875674e01472e4cac74c3293bcd0ac025ddebcb72660597119dd2357e5bac19954fbdc43ba888a50f00b47b8e5dfc50818"], ["password_salt", "$2a$10$qRZydxLTMrKroDX4Gv8VM."], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE ("clerks"."email" = 'test6@test.com' AND "clerks"."id" != 2) LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "clerks" SET "password_salt" = ?, "encrypted_password" = ?, "updated_at" = ?, "address" = ? WHERE "clerks"."id" = 2[0m  [["password_salt", "$2a$10$MZt6xhf7zp0/nGtLaBwW8e"], ["encrypted_password", "860386a0eb13c3c03c8cb1ff8aa0f307ef413d4c529e819b44cf27f944cb4be6eadfeba5d701f77ba00de35e2e3b226b45bfa22923ab8fdec50e9d9eb676d7aa"], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk7\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test7@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk8\n"], ["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["email", "test7@test.com"], ["encrypted_password", "0e8fccc8cd65a864bcdaec24361b97184ec27ffa70f3557e59487bfd8c765fe5146e8524294a429c67898ed2d4cdd964eacae91c08fdfeca7780312f54678205"], ["password_salt", "$2a$10$g1LX.XkCCOFAXJV4ZvH.ZO"], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test8@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk9\n"], ["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["email", "test8@test.com"], ["encrypted_password", "567f173f34cb78aa222da4117e75d9cb7fdb96fbb5d80914630a95b4c018a59fe00bba4232efebbceb4d38a53227bb85c53b9ab02fe12e89f524f0139aa86cb2"], ["password_salt", "$2a$10$.UdOnhBxEoTFcX6Jn6RYVu"], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test9@test.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test10@test.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test11@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk12\n"], ["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["email", "test11@test.com"], ["encrypted_password", "5ab5a9c299ad4efee1771d5a48633c7b10d65744dbbe9d007ef9a883f4d308008d7c4ce3f773e49114f036b9c3b9664b40a4b80957c64af4bc017730d32ae9ff"], ["password_salt", "$2a$10$5kBJu8My8uo8tMk4sLsckO"], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test12@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk13\n"], ["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["email", "test12@test.com"], ["encrypted_password", "ec8d0bd49b5c1adc497509477cb253a87f517f7e3dcc2316b956b5d2df1dce3b9a115ee17ebe9b8d58d39cb5c6011e692a2d417def0b8c43b00eae72116ba0c6"], ["password_salt", "$2a$10$.8vbwwepj0cRcqHA.AsQMu"], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:31 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 17ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:31 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 12ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:31 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 12ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.3ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:31 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 13ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:31 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 18ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:31 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Started GET "/suppliers" for 127.0.0.1 at 2014-11-12 12:43:31 +0200
Processing by SuppliersController#index as HTML
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk14\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["email", "admin2@test.com"], ["encrypted_password", "48223463c4eff3e7420447d0355343a9ea105041dbaf7363e7c9591449b04d6e597615723c27ee8deb95a539c509763fdcb358e2638915852f98ab61e5f4f42c"], ["password_salt", "$2a$10$KEgm59Pw5AB58QLxHUbfFu"], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:31 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 17ms
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:31 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 15ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Started GET "/sign_up" for 127.0.0.1 at 2014-11-12 12:43:31 +0200
Processing by SessionsController#sign_up as HTML
Completed 500 Internal Server Error in 55ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Started GET "/sign_up" for 127.0.0.1 at 2014-11-12 12:43:31 +0200
Processing by SessionsController#sign_up as HTML
Completed 500 Internal Server Error in 89ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test13@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk15\n"], ["created_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00], ["email", "test13@test.com"], ["encrypted_password", "3c46e8c163f0c6c4173c0ecae73f96ddcfc97412401d6b5fec7c2aa00d1526edd4a1d6dd078a10a942ab168a8cff362d974c87a06283f9a01ed0f9a4f26411d8"], ["password_salt", "$2a$10$oG7fRytn0Yfwrvk9o4WZMu"], ["updated_at", Wed, 12 Nov 2014 10:43:31 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:31 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 14ms
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:32 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 17ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test14@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk16\n"], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["email", "test14@test.com"], ["encrypted_password", "5114b2d23bd7cd68a1e6b71ed5ac9b9853cb9fa5fd4c233591e6121c68774d11ddfb86f3a9c0753f542f09d35514c301bb571c1262b134d52384c98ff7d6d5f1"], ["password_salt", "$2a$10$k1sp54W0.vysygjEUhtVE."], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:32 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 15ms
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:32 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 17ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:32 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 13ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:32 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 16ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:32 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 18ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 22.5], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["inventory", 5], ["link", "product_36"], ["name", "product 36"], ["price", 45.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "product 15"], ["price", 45.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 23.0], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["inventory", 5], ["link", "product_37"], ["name", "product 37"], ["price", 46.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "product 16"], ["price", 46.0], ["product_id", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 23.5], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["inventory", 5], ["link", "product_38"], ["name", "product 38"], ["price", 47.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "product 17"], ["price", 47.0], ["product_id", 3], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 24.0], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["inventory", 5], ["link", "product_39"], ["name", "product 39"], ["price", 48.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "product 18"], ["price", 48.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 24.5], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["inventory", 5], ["link", "product_40"], ["name", "product 40"], ["price", 49.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "product 19"], ["price", 49.0], ["product_id", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 25.0], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["inventory", 5], ["link", "product_41"], ["name", "product 41"], ["price", 50.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "product 20"], ["price", 50.0], ["product_id", 3], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 25.5], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["inventory", 5], ["link", "product_42"], ["name", "product 42"], ["price", 51.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "product 21"], ["price", 51.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 26.0], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["inventory", 5], ["link", "product_43"], ["name", "product 43"], ["price", 52.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "product 22"], ["price", 52.0], ["product_id", 2], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 26.5], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["inventory", 5], ["link", "product_44"], ["name", "product 44"], ["price", 53.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "product 23"], ["price", 53.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 27.0], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["inventory", 5], ["link", "product_45"], ["name", "product 45"], ["price", 54.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "product 24"], ["price", 54.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 27.5], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["inventory", 5], ["link", "product_46"], ["name", "product 46"], ["price", 55.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "product 25"], ["price", 55.0], ["product_id", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 28.0], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["inventory", 5], ["link", "product_47"], ["name", "product 47"], ["price", 56.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "product 26"], ["price", 56.0], ["product_id", 3], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:32 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 15ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:32 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 13ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:32 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 19ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:32 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:32 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.3ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:32 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 17ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:32 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 17ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:32 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 57ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:32 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 19ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:32 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:32 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 15ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.3ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:32 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 16ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:32 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 15ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.4ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:32 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 16ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["link", "gourmet10"], ["name", "Gourmet10"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["link", "some_name"], ["name", "some name"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:32 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:32 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 20ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 28.5], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["inventory", 5], ["link", "product_48"], ["name", "product 48"], ["price", 57.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "product 27"], ["price", 57.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 29.0], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["inventory", 5], ["link", "product_49"], ["name", "product 49"], ["price", 58.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "product 28"], ["price", 58.0], ["product_id", 2], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["total_price", #<BigDecimal:7f98a7e1c570,'0.173E3',9(36)>], ["total_tax", #<BigDecimal:7f98a7e1c368,'0.173E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 1[0m  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:32.662273' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7f98a7e6f0e0,'0.57E2',9(36)>], ["total_tax", #<BigDecimal:7f98a7e6ee60,'0.57E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 2  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36mBasket Load (0.2ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.2ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:32.670323' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7f98a7eb4668,'0.173E3',9(36)>], ["total_tax", #<BigDecimal:7f98a7eb4190,'0.173E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1[0m  [["inventory", 6], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 2[0m  [["inventory", 7], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "locked" = ?, "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["locked", Wed, 12 Nov 2014], ["total_price", #<BigDecimal:7f98a7f57a48,'0.865E2',18(36)>], ["total_tax", #<BigDecimal:7f98a7f577a0,'0.865E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "price" = ?, "updated_at" = ? WHERE "items"."id" = 1  [["price", 28.5], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:32.682685' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "price" = ?, "updated_at" = ? WHERE "items"."id" = 2  [["price", 29.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:32.683950' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 29.5], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["inventory", 5], ["link", "product_50"], ["name", "product 50"], ["price", 59.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "product 29"], ["price", 59.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 30.0], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["inventory", 5], ["link", "product_51"], ["name", "product 51"], ["price", 60.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "product 30"], ["price", 60.0], ["product_id", 2], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["total_price", #<BigDecimal:7f98a9862628,'0.179E3',9(36)>], ["total_tax", #<BigDecimal:7f98a9862470,'0.179E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 1[0m  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:32.706753' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7f98a9899920,'0.59E2',9(36)>], ["total_tax", #<BigDecimal:7f98a9899740,'0.59E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 2  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:32.709543' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7f98a98db410,'0.179E3',9(36)>], ["total_tax", #<BigDecimal:7f98a98db1e0,'0.179E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1[0m  [["inventory", 6], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.2ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 2]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 2[0m  [["inventory", 7], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "baskets" SET "locked" = ?, "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["locked", Wed, 12 Nov 2014], ["total_price", #<BigDecimal:7f98a99831d8,'0.895E2',18(36)>], ["total_tax", #<BigDecimal:7f98a9982fa8,'0.895E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "items" SET "price" = ?, "updated_at" = ? WHERE "items"."id" = 1  [["price", 29.5], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:32.725438' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "price" = ?, "updated_at" = ? WHERE "items"."id" = 2  [["price", 30.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:32.726958' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ? ORDER BY "items"."id" ASC LIMIT 1  [["basket_id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ? ORDER BY "items"."id" DESC LIMIT 1  [["basket_id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 30.5], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["inventory", 5], ["link", "product_52"], ["name", "product 52"], ["price", 61.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "product 31"], ["price", 61.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 31.0], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["inventory", 5], ["link", "product_53"], ["name", "product 53"], ["price", 62.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "product 32"], ["price", 62.0], ["product_id", 2], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["total_price", #<BigDecimal:7f98a9aa11f0,'0.185E3',9(36)>], ["total_tax", #<BigDecimal:7f98a9aa0f98,'0.185E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 1  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:32.750267' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7f98a9ae09e0,'0.61E2',9(36)>], ["total_tax", #<BigDecimal:7f98a9ae04e0,'0.61E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 2[0m  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:32.754166' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7f98a9b23cb8,'0.185E3',9(36)>], ["total_tax", #<BigDecimal:7f98a9b23b00,'0.185E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1  [["inventory", 4], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 2[0m  [["inventory", 3], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "locked" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["locked", Wed, 12 Nov 2014], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ? ORDER BY "items"."id" ASC LIMIT 1[0m  [["basket_id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ? ORDER BY "items"."id" DESC LIMIT 1[0m  [["basket_id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 31.5], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["inventory", 5], ["link", "product_54"], ["name", "product 54"], ["price", 63.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "product 33"], ["price", 63.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 32.0], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["inventory", 5], ["link", "product_55"], ["name", "product 55"], ["price", 64.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "product 34"], ["price", 64.0], ["product_id", 2], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["total_price", #<BigDecimal:7f98a9ce22c0,'0.191E3',9(36)>], ["total_tax", #<BigDecimal:7f98a9ce2040,'0.191E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 1[0m  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:32.778021' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7f98a9d230b8,'0.63E2',9(36)>], ["total_tax", #<BigDecimal:7f98a9d22c58,'0.63E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 2  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:32.780851' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7f98a9d5b1c0,'0.191E3',9(36)>], ["total_tax", #<BigDecimal:7f98a9d5afb8,'0.191E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1[0m  [["inventory", 4], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 2]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 2  [["inventory", 3], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "locked" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["locked", Wed, 12 Nov 2014], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "purchases"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 32.5], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["inventory", 5], ["link", "product_56"], ["name", "product 56"], ["price", 65.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["total_price", #<BigDecimal:7f98a9ebaac0,'0.65E2',9(36)>], ["total_tax", #<BigDecimal:7f98a9eba8b8,'0.65E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "product 35"], ["price", 65.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:32.804749' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "purchase 1"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by PurchasesController#index as HTML
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by PurchasesController#new as HTML
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 33.0], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["inventory", 5], ["link", "product_57"], ["name", "product 57"], ["price", 66.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["total_price", #<BigDecimal:7f98aa053da0,'0.66E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa053bc0,'0.66E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "product 36"], ["price", 66.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:32.833394' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "purchase 2"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by PurchasesController#update as HTML
  Parameters: {"purchase"=>{"name"=>"purchase 2", "basket"=>"1"}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 33.5], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["inventory", 5], ["link", "product_58"], ["name", "product 58"], ["price", 67.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["total_price", #<BigDecimal:7f98aa187e38,'0.67E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa187c80,'0.67E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "product 37"], ["price", 67.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:32.849281' WHERE "baskets"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "purchase 3"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by PurchasesController#update as HTML
  Parameters: {"purchase"=>{"name"=>"purchase 3", "basket"=>"1"}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 34.0], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["inventory", 5], ["link", "product_59"], ["name", "product 59"], ["price", 68.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["total_price", #<BigDecimal:7f98aa2d1550,'0.68E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa2d1320,'0.68E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "product 38"], ["price", 68.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:32.867603' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "purchase 4"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by PurchasesController#update as HTML
  Parameters: {"purchase"=>{"supplier_id"=>nil}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 34.5], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["inventory", 5], ["link", "product_60"], ["name", "product 60"], ["price", 69.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["total_price", #<BigDecimal:7f98aa3f46f8,'0.69E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa3f41d0,'0.69E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "product 39"], ["price", 69.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:32.886669' WHERE "baskets"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "purchase 5"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by PurchasesController#update as HTML
  Parameters: {"purchase"=>{"supplier_id"=>nil}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 35.0], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["inventory", 5], ["link", "product_61"], ["name", "product 61"], ["price", 70.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["total_price", #<BigDecimal:7f98a9f8b710,'0.7E2',9(36)>], ["total_tax", #<BigDecimal:7f98a9f8b558,'0.7E1',9(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "product 40"], ["price", 70.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:32.906785' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "purchase 6"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by PurchasesController#show as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 35.5], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["inventory", 5], ["link", "product_62"], ["name", "product 62"], ["price", 71.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["total_price", #<BigDecimal:7f98aa4f4148,'0.71E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa4fff48,'0.71E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "product 41"], ["price", 71.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:32.927100' WHERE "baskets"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by PurchasesController#create as HTML
  Parameters: {"purchase"=>{"name"=>"purchase 7", "basket"=>"1"}}
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 36.0], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["inventory", 5], ["link", "product_63"], ["name", "product 63"], ["price", 72.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["total_price", #<BigDecimal:7f98aa5cdc18,'0.72E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa5cd9c0,'0.72E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "product 42"], ["price", 72.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:32.945124' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.3ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by PurchasesController#create as HTML
  Parameters: {"purchase"=>{"name"=>"purchase 8", "basket"=>"1"}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "purchases"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 36.5], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["inventory", 5], ["link", "product_64"], ["name", "product 64"], ["price", 73.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["total_price", #<BigDecimal:7f98aa86de50,'0.73E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa86dc98,'0.73E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "product 43"], ["price", 73.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:32.963441' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by PurchasesController#create as HTML
  Parameters: {"purchase"=>{"name"=>"purchase 9", "basket"=>"1"}}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by PurchasesController#create as HTML
  Parameters: {"purchase"=>{"supplier_id"=>nil}}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by PurchasesController#create as HTML
  Parameters: {"purchase"=>{"supplier_id"=>nil}}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 37.0], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["inventory", 5], ["link", "product_65"], ["name", "product 65"], ["price", 74.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["total_price", #<BigDecimal:7f98aa744df8,'0.74E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa744c40,'0.74E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "product 44"], ["price", 74.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:32.991499' WHERE "baskets"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00], ["name", "purchase 10"], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:32 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by PurchasesController#edit as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:33 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 15ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:33 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 12ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:33 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 13ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.3ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:33 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 104ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:33 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 13ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Processing by ClerksController#new as HTML
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Processing by ClerksController#create as HTML
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Processing by ClerksController#update as HTML
  Parameters: {"id"=>"ignored"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Processing by ClerksController#create as HTML
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Processing by ClerksController#edit as HTML
  Parameters: {"id"=>"ignored"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test15@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk17\n"], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["email", "test15@test.com"], ["encrypted_password", "6d7efdbccdedcd7f031a604a358a0cb7807fbd2fc7d8090f5c655453b6af23e05913306cecb6d0a38864ae8ca526e11fbc0797dc9deae90deb2ca970eefd0e1c"], ["password_salt", "$2a$10$YA.G2U3uOoR7oiBQbJNUSe"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:33 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 26ms
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 37.5], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["inventory", 5], ["link", "product_66"], ["name", "product 66"], ["price", 75.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by ProductsController#index as HTML
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by ProductsController#new as HTML
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 38.0], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["inventory", 5], ["link", "product_67"], ["name", "product 67"], ["price", 76.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"product 67", "price"=>"76", "inventory"=>"5"}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 38.5], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["inventory", 5], ["link", "product_68"], ["name", "product 68"], ["price", 77.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"product 68", "price"=>"77", "inventory"=>"5"}, "id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 39.0], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["inventory", 5], ["link", "product_69"], ["name", "product 69"], ["price", 78.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>""}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 39.5], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["inventory", 5], ["link", "product_70"], ["name", "product 70"], ["price", 79.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.3ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>""}, "id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "products" ("cost", "created_at", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["cost", 40.0], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["link", "product_71"], ["name", "product 71"], ["price", 80.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products" WHERE "products"."deleted_on" IS NULL
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by ProductsController#delete as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 40.5], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["inventory", 5], ["link", "product_72"], ["name", "product 72"], ["price", 81.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by ProductsController#delete as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 41.0], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["inventory", 5], ["link", "product_73"], ["name", "product 73"], ["price", 82.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>"product 74", "price"=>"83", "inventory"=>"5"}}
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>"product 75", "price"=>"84", "inventory"=>"5"}}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products" WHERE "products"."deleted_on" IS NULL
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>"product 76", "price"=>"85", "inventory"=>"5"}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>""}}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>""}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 43.0], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["inventory", 5], ["link", "product_77"], ["name", "product 77"], ["price", 86.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:33 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 13ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:33 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 13ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 43.5], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["inventory", 5], ["link", "product_78"], ["name", "product 78"], ["price", 87.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["total_price", #<BigDecimal:7f98a9ee3790,'0.87E2',9(36)>], ["total_tax", #<BigDecimal:7f98a9ee33f8,'0.87E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["name", "product 45"], ["price", 87.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:33.454897' WHERE "baskets"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("address", "created_at", "email", "number", "updated_at") VALUES (?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["email", "test4@test.com"], ["number", "R201430000"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Order"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by OrdersController#index as HTML
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by OrdersController#new as HTML
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 44.0], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["inventory", 5], ["link", "product_79"], ["name", "product 79"], ["price", 88.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["total_price", #<BigDecimal:7f98aa060e88,'0.88E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa060c30,'0.88E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["name", "product 46"], ["price", 88.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:33.481676' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at DESC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("address", "created_at", "email", "number", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["email", "test5@test.com"], ["number", "R201430000"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["kori_type", "Order"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 44.5], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["inventory", 5], ["link", "product_80"], ["name", "product 80"], ["price", 89.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["total_price", #<BigDecimal:7f98aa11a1d0,'0.89E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa11a018,'0.89E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 2], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["name", "product 47"], ["price", 89.0], ["product_id", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 2]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 2]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:33.499425' WHERE "baskets"."id" = 2
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"email"=>"test6@test.com", "shipment_tax"=>"0", "basket"=>"2"}, "id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 45.0], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["inventory", 5], ["link", "product_81"], ["name", "product 81"], ["price", 90.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["total_price", #<BigDecimal:7f98aa285470,'0.9E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa2852b8,'0.9E1',9(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["name", "product 48"], ["price", 90.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.2ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:33.516512' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at DESC LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("address", "created_at", "email", "number", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["email", "test7@test.com"], ["number", "R201430000"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["kori_type", "Order"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"paid_on"=>""}, "id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 45.5], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["inventory", 5], ["link", "product_82"], ["name", "product 82"], ["price", 91.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["total_price", #<BigDecimal:7f98aa3b4cd8,'0.91E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa3b4b20,'0.91E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["name", "product 49"], ["price", 91.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:33.535357' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("address", "created_at", "email", "number", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["email", "test8@test.com"], ["number", "R201430000"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["kori_type", "Order"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 46.0], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["inventory", 5], ["link", "product_83"], ["name", "product 83"], ["price", 92.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["total_price", #<BigDecimal:7f98aa8cdf80,'0.92E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa8cddc8,'0.92E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["name", "product 50"], ["price", 92.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:33.554774' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"email"=>"test9@test.com", "shipment_tax"=>"0", "basket"=>"1"}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 46.5], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["inventory", 5], ["link", "product_84"], ["name", "product 84"], ["price", 93.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["total_price", #<BigDecimal:7f98aa49e018,'0.93E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa49de38,'0.93E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["name", "product 51"], ["price", 93.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:33.568958' WHERE "baskets"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"email"=>"test10@test.com", "shipment_tax"=>"0", "basket"=>"1"}}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 47.0], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["inventory", 5], ["link", "product_85"], ["name", "product 85"], ["price", 94.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["total_price", #<BigDecimal:7f98aa585490,'0.94E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa5852b0,'0.94E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["name", "product 52"], ["price", 94.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:33.586750' WHERE "baskets"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"email"=>"test11@test.com", "shipment_tax"=>"0", "basket"=>"1"}}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"paid_on"=>""}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"paid_on"=>""}}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 47.5], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["inventory", 5], ["link", "product_86"], ["name", "product 86"], ["price", 95.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["total_price", #<BigDecimal:7f98aa6a7558,'0.95E2',9(36)>], ["total_tax", #<BigDecimal:7f98aa6a73a0,'0.95E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["name", "product 53"], ["price", 95.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:33.612773' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at DESC LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("address", "created_at", "email", "number", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["email", "test12@test.com"], ["number", "R201430000"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["kori_type", "Order"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:33 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 13ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:33 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 64ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:33 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 13ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:33 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 12ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:33 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 48.0], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["inventory", 5], ["link", "product_87"], ["name", "product 87"], ["price", 96.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["total_price", #<BigDecimal:7f98a7f4e240,'0.96E2',9(36)>], ["total_tax", #<BigDecimal:7f98a7f4df20,'0.96E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["name", "product 54"], ["price", 96.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:33.834427' WHERE "baskets"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["name", "purchase 11"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1[0m  [["inventory", 1], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "baskets" SET "locked" = ?, "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["locked", Wed, 12 Nov 2014], ["total_price", #<BigDecimal:7f98a9813a50,'-0.192E3',9(36)>], ["total_tax", #<BigDecimal:7f98a9813820,'-0.192E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "items" SET "quantity" = ?, "price" = ?, "updated_at" = ? WHERE "items"."id" = 1  [["quantity", -4], ["price", 48.0], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:33.843634' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "purchases" SET "ordered_on" = ?, "received_on" = ?, "updated_at" = ? WHERE "purchases"."id" = 1  [["ordered_on", Wed, 12 Nov 2014], ["received_on", Wed, 12 Nov 2014], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 48.5], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["inventory", 5], ["link", "product_88"], ["name", "product 88"], ["price", 97.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["total_price", #<BigDecimal:7f98a98b0cb0,'0.97E2',9(36)>], ["total_tax", #<BigDecimal:7f98a98b0af8,'0.97E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["name", "product 55"], ["price", 97.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:33.858724' WHERE "baskets"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["name", "purchase 12"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.3ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1[0m  [["inventory", 6], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "locked" = ?, "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["locked", Wed, 12 Nov 2014], ["total_price", #<BigDecimal:7f98a99621b8,'0.485E2',18(36)>], ["total_tax", #<BigDecimal:7f98a9961f88,'0.485E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "price" = ?, "updated_at" = ? WHERE "items"."id" = 1  [["price", 48.5], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:33.871153' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "purchases" SET "ordered_on" = ?, "received_on" = ?, "updated_at" = ? WHERE "purchases"."id" = 1  [["ordered_on", Wed, 12 Nov 2014], ["received_on", Wed, 12 Nov 2014], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 49.0], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["inventory", 5], ["link", "product_89"], ["name", "product 89"], ["price", 98.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["total_price", #<BigDecimal:7f98a9a01628,'0.98E2',9(36)>], ["total_tax", #<BigDecimal:7f98a9a01448,'0.98E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["name", "product 56"], ["price", 98.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:33.883814' WHERE "baskets"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["name", "purchase 13"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "purchases" SET "ordered_on" = ?, "updated_at" = ? WHERE "purchases"."id" = 1[0m  [["ordered_on", Wed, 12 Nov 2014], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 49.5], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["inventory", 5], ["link", "product_90"], ["name", "product 90"], ["price", 99.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["total_price", #<BigDecimal:7f98a9ae36b8,'0.99E2',9(36)>], ["total_tax", #<BigDecimal:7f98a9ae3500,'0.99E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["name", "product 57"], ["price", 99.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:33.898893' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["name", "purchase 14"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 50.0], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["inventory", 5], ["link", "product_91"], ["name", "product 91"], ["price", 100.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["total_price", #<BigDecimal:7f98a9ba01c8,'0.1E3',9(36)>], ["total_tax", #<BigDecimal:7f98a9babcd0,'0.1E2',9(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["name", "product 58"], ["price", 100.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:33.914230' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["name", "purchase 15"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1  [["inventory", 6], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "locked" = ?, "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["locked", Wed, 12 Nov 2014], ["total_price", #<BigDecimal:7f98a9c78b68,'0.5E2',9(36)>], ["total_tax", #<BigDecimal:7f98a9c78960,'0.5E1',9(36)>], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "items" SET "price" = ?, "updated_at" = ? WHERE "items"."id" = 1[0m  [["price", 50.0], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:43:33.921956' WHERE "baskets"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "purchases" SET "ordered_on" = ?, "received_on" = ?, "updated_at" = ? WHERE "purchases"."id" = 1[0m  [["ordered_on", Wed, 12 Nov 2014], ["received_on", Wed, 12 Nov 2014], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35mClerk Load (0.3ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "suppliers"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "suppliers" ("address", "created_at", "supplier_name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["supplier_name", "MyString"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by SuppliersController#index as HTML
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by SuppliersController#new as HTML
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "suppliers" ("address", "created_at", "supplier_name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["supplier_name", "MyString"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by SuppliersController#update as HTML
  Parameters: {"supplier"=>{"supplier_name"=>"MyString"}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "suppliers" ("address", "created_at", "supplier_name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["supplier_name", "MyString"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by SuppliersController#update as HTML
  Parameters: {"supplier"=>{"name"=>""}, "id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "suppliers" ("address", "created_at", "supplier_name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["supplier_name", "MyString"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by SuppliersController#update as HTML
  Parameters: {"supplier"=>{"name"=>""}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "suppliers" ("address", "created_at", "supplier_name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["supplier_name", "MyString"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "suppliers"[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by SuppliersController#destroy as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "suppliers" ("address", "created_at", "supplier_name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["supplier_name", "MyString"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by SuppliersController#destroy as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "suppliers" ("address", "created_at", "supplier_name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00], ["supplier_name", "MyString"], ["updated_at", Wed, 12 Nov 2014 10:43:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by SuppliersController#show as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by SuppliersController#create as HTML
  Parameters: {"supplier"=>{"supplier_name"=>"MyString"}}
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by SuppliersController#create as HTML
  Parameters: {"supplier"=>{"supplier_name"=>"MyString"}}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "suppliers"[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by SuppliersController#create as HTML
  Parameters: {"supplier"=>{"supplier_name"=>"MyString"}}
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by SuppliersController#create as HTML
  Parameters: {"supplier"=>{"name"=>""}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by SuppliersController#create as HTML
  Parameters: {"supplier"=>{"name"=>""}}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "suppliers" ("address", "created_at", "supplier_name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00], ["supplier_name", "MyString"], ["updated_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by SuppliersController#edit as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00], ["link", "gourmet11"], ["name", "Gourmet11"], ["updated_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by CategoriesController#index as HTML
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by CategoriesController#new as HTML
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00], ["link", "gourmet12"], ["name", "Gourmet12"], ["updated_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"name"=>"Gourmet13", "link"=>"gourmet13"}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00], ["link", "gourmet14"], ["name", "Gourmet14"], ["updated_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"name"=>"Gourmet15", "link"=>"gourmet15"}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00], ["link", "gourmet16"], ["name", "Gourmet16"], ["updated_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"name"=>""}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00], ["link", "gourmet17"], ["name", "Gourmet17"], ["updated_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"name"=>""}, "id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00], ["link", "gourmet18"], ["name", "Gourmet18"], ["updated_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by CategoriesController#destroy as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00], ["link", "gourmet19"], ["name", "Gourmet19"], ["updated_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by CategoriesController#destroy as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00], ["link", "gourmet20"], ["name", "Gourmet20"], ["updated_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Gourmet21", "link"=>"gourmet21"}}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Gourmet22", "link"=>"gourmet22"}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Gourmet23", "link"=>"gourmet23"}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>""}}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>""}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00], ["link", "gourmet24"], ["name", "Gourmet24"], ["updated_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by CategoriesController#edit as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:34 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:34 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 13ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:34 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 69ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:34 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:34 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 15ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:34 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 23ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:34 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 15ms
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.2ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin3@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk18\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00], ["email", "admin3@test.com"], ["encrypted_password", "14c5fbe852198c77d02866f7c3749f551a68d93d6b424a8a9036b14e257d0cda9473b1bb87ae6e93481707e6ce5ddd50a4851c4bc70e0fa8af8ca6563e1be72c"], ["password_salt", "$2a$10$1KkdYo8MIFdY4n2oMbUd8."], ["updated_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"admin1@test.com"}
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' ORDER BY "clerks"."id" ASC LIMIT 1
Redirected to http://test.host/baskets
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.2ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test16@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk19\n"], ["created_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00], ["email", "test16@test.com"], ["encrypted_password", "fcb9fac4b405d656f8b964c6e4b025b312d7f66f01a0240fad2843c257a1b16a99c0df63e8410f53e41378c0c4b271b7886fa5750c983b4498540f8481da9139"], ["password_salt", "$2a$10$8CUz4OZMh/fiFJ3lc0mqDO"], ["updated_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 'f' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"test16@test.com"}
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'test16@test.com' ORDER BY "clerks"."id" ASC LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Processing by SessionsController#sign_in as HTML
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test17@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk20\n"], ["created_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00], ["email", "test17@test.com"], ["encrypted_password", "b50570de0218d2cf65bc28851cc04bff849537143642bcf4da514eb36b61ea340d3b9e08105018f6987fb4e2614fc8837371bb105207d127968a285be13583d6"], ["password_salt", "$2a$10$5dmZ79OcMPL/Z1Kh00GiCu"], ["updated_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE ("clerks"."email" = 'test17@test.com' AND "clerks"."id" != 2) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'foo@bar@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.2ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'clerk@foo.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk22\n"], ["created_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00], ["email", "clerk@foo.com"], ["encrypted_password", "8470c4b4c52d9b07608fa8245a8218bfc97ff89c42177073d6f9784c8e43ba65ea77f43a63b21f33e77b024357844bda9c270ec78b5ede1fa9e893758ad1b2b6"], ["password_salt", "$2a$10$VFfSGJBJVW.W2mgt79XSq."], ["updated_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE ("clerks"."email" = 'clerk@foo.com' AND "clerks"."id" != 2) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'THE_USER@foo.bar.org' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk23\n"], ["created_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00], ["email", "THE_USER@foo.bar.org"], ["encrypted_password", "26ab43b056827d07cea9e76093789c3f8dd0db0e82c7a842773c43df1c063db2916ddcf8d1058d2e732cc7059be2ebb8bec4840c730d89f776e93a49ee7c3365"], ["password_salt", "$2a$10$.c8QqzpBk2Z9cTXUEeEY2e"], ["updated_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE ("clerks"."email" = 'THE_USER@foo.bar.org' AND "clerks"."id" != 3) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'first.last@foo.jp' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk24\n"], ["created_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00], ["email", "first.last@foo.jp"], ["encrypted_password", "a2ec55685c14a412acbdebb2122034168ebba2bca2dbdf120c23e0b173ed47957b6b68bde660a71cdf921bd64602a79c447a57d616387572b86ac7b82ad6f3de"], ["password_salt", "$2a$10$CqFpHGUPakykT.ZQY9o4Vu"], ["updated_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE ("clerks"."email" = 'first.last@foo.jp' AND "clerks"."id" != 4) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test18@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk25\n"], ["created_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00], ["email", "test18@test.com"], ["encrypted_password", "52c0f862ee47bd3af6382654d08a409b45e20750188caf9fa6a1bafb3de6280283cc0f6a33bac54f60184f23d17b1f6a80c8bbaa1fb2a44bde0fd3ad089ac6bc"], ["password_salt", "$2a$10$WydCy74QHRstRXiIq0mYqu"], ["updated_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'BIGMAIL@MAIL.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk26\n"], ["created_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00], ["email", "BIGMAIL@MAIL.com"], ["encrypted_password", "be6f431228a88ff66ce06aa6c9a49771994d0c97d85d52c6217af648023f25c95fa6222e43f6f78f08af2b7775608a4721c0f7821a769da7370765ea13c86592"], ["password_salt", "$2a$10$.u.vJAwkI0VH0PxofX/Kq."], ["updated_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'bigmail@mail.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk27\n"], ["created_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00], ["email", "bigmail@mail.com"], ["encrypted_password", "83c3b0a7a665034f76a5e541b8be5ab9e86a2534fe9cdbf96308f0e25d3e22b63e4c260ddbf744e3888d4362e8746038724ec33fb17e5fba72bd0865d80e7f40"], ["password_salt", "$2a$10$MCAht47cfKfQOwTHGTkGdO"], ["updated_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'bar@example.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk28\n"], ["created_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00], ["email", "bar@example.com"], ["encrypted_password", "5f5f01a66dc0c42b5e64322e8b06f9d15f1e596b90f4727e30ee8f551266ee0bd1e31fa69f3fa306be00a517c2e2c56f6ba28334d2b23aa9cbbf94b145c39183"], ["password_salt", "$2a$10$zrBz8t/P//il2g9RZignRu"], ["updated_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE ("clerks"."email" = 'bar@example.com' AND "clerks"."id" != 2) LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  UPDATE "clerks" SET "password_salt" = ?, "encrypted_password" = ?, "updated_at" = ?, "address" = ? WHERE "clerks"."id" = 2  [["password_salt", "$2a$10$qIkIpktrcMni/fvy6x5GA."], ["encrypted_password", "4de7b98909d53b5d0d6ba9ffc5ad959a82ae082dfb840c6a784cb9748cd2122990f68352b23d5d15c61ee4458ea080f22bd8aa98f12cd64661c813d3eaf4a916"], ["updated_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00], ["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk28\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'bar@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = '' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'sama@sama.net' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk31\n"], ["created_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00], ["email", "sama@sama.net"], ["encrypted_password", "fd620781b3abd9311f765be93441d2da460e005a2c288cca0185d2c8c6cf2cc2a97d4fcbbc778fa996cf43e4ff6c88bbc61df5ddbe8045adac7c534413f5e949"], ["password_salt", "$2a$10$PM9wMbtPKgmCKLaLYaOCKO"], ["updated_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'sama@sama.net' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'sama@sama.net' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'clerk@foo,com' LIMIT 1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'clerk_at_foo.org' LIMIT 1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'example.clerk@foo.' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:34 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 13ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:34 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:34 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 19ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:34 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:43:34 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 13ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "suppliers" ("address", "created_at", "supplier_name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00], ["supplier_name", "MyString"], ["updated_at", Wed, 12 Nov 2014 10:43:34 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 10:46:23 UTC +00:00], ["email", "admin@important.me"], ["encrypted_password", "78e3cf8a4db10ddb29609f6f9191d07310078a23cff2ffcdb4de0fc0c9a2acc2799a2aa4e795f1296670172109ec83f58a444cc12e8ee07c16f0df060e4bb4eb"], ["password_salt", "$2a$10$fIGno17dCWZdehj5xXTHfe"], ["updated_at", Wed, 12 Nov 2014 10:46:23 UTC +00:00]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "baskets";
  [1m[36m (0.3ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'baskets';
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "categories";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'categories';[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "clerks";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM sqlite_sequence where name = 'clerks';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "items";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'items';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "orders";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'orders';
  [1m[36m (0.8ms)[0m  [1mDELETE FROM "products";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'products';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "purchases";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'purchases';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "suppliers";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'suppliers';[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Started GET "/suppliers" for 127.0.0.1 at 2014-11-12 12:46:24 +0200
Processing by SuppliersController#index as HTML
Completed 500 Internal Server Error in 11ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Started GET "/sign_up" for 127.0.0.1 at 2014-11-12 12:46:24 +0200
Processing by SessionsController#sign_up as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_up.haml within layouts/shop (35.5ms)
Completed 500 Internal Server Error in 110ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:46:24 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (2.1ms)
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Started GET "/sign_up" for 127.0.0.1 at 2014-11-12 12:46:24 +0200
Processing by SessionsController#sign_up as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_up.haml within layouts/shop (2.1ms)
Completed 500 Internal Server Error in 15ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Started GET "/page/tuotteista" for 127.0.0.1 at 2014-11-12 12:46:24 +0200
Processing by ShopController#page as HTML
  Parameters: {"id"=>"tuotteista"}
  Rendered /Users/raisa/office_clerk/app/views/shop/tuotteista.html.haml within layouts/shop (3.9ms)
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) ORDER BY created_at DESC LIMIT 50[0m
Completed 500 Internal Server Error in 20ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Started GET "/welcome" for 127.0.0.1 at 2014-11-12 12:46:24 +0200
Processing by ShopController#welcome as HTML
  [1m[35mCategory Load (0.1ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."online" = 't' AND "categories"."category_id" IS NULL ORDER BY position
  Rendered /Users/raisa/office_clerk/app/views/shop/welcome.html.haml (20.3ms)
Completed 500 Internal Server Error in 22ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:46:24 UTC +00:00], ["link", "some_name"], ["name", "some name"], ["updated_at", Wed, 12 Nov 2014 10:46:24 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.3ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.2ms)
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 10:47:15 UTC +00:00], ["email", "admin@important.me"], ["encrypted_password", "44ce1894b9b4d08cc9b296b9aedc1154dd1cfbd6aa00c6239b0a16cfb6b11f222ffb7fa64c14240e1ef69ccfa00497ba9eabee94b11a01ec836e01af381085db"], ["password_salt", "$2a$10$pCZhkY2Q13Y99oau0ePtJu"], ["updated_at", Wed, 12 Nov 2014 10:47:15 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "baskets";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'baskets';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "categories";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'categories';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "clerks";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.6ms)[0m  DELETE FROM sqlite_sequence where name = 'clerks';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "items";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'items';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "orders";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'orders';
  [1m[36m (0.8ms)[0m  [1mDELETE FROM "products";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'products';[0m
  [1m[35m (0.6ms)[0m  DELETE FROM "purchases";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'purchases';
  [1m[36m (0.6ms)[0m  [1mDELETE FROM "suppliers";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'suppliers';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.2ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Started GET "/sign_up" for 127.0.0.1 at 2014-11-12 12:47:15 +0200
Processing by SessionsController#sign_up as HTML
Completed 500 Internal Server Error in 120ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/sign_up" for 127.0.0.1 at 2014-11-12 12:47:15 +0200
Processing by SessionsController#sign_up as HTML
Completed 500 Internal Server Error in 13ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:47:15 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 13ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Started GET "/suppliers" for 127.0.0.1 at 2014-11-12 12:47:15 +0200
Processing by SuppliersController#index as HTML
Completed 500 Internal Server Error in 3ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/page/tuotteista" for 127.0.0.1 at 2014-11-12 12:47:15 +0200
Processing by ShopController#page as HTML
  Parameters: {"id"=>"tuotteista"}
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) ORDER BY created_at DESC LIMIT 50[0m
Completed 500 Internal Server Error in 20ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Started GET "/welcome" for 127.0.0.1 at 2014-11-12 12:47:16 +0200
Processing by ShopController#welcome as HTML
  [1m[35mCategory Load (0.1ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."online" = 't' AND "categories"."category_id" IS NULL ORDER BY position
Completed 500 Internal Server Error in 31ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mClerk Load (0.3ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:47:16 UTC +00:00], ["link", "some_name"], ["name", "some name"], ["updated_at", Wed, 12 Nov 2014 10:47:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 10:47:32 UTC +00:00], ["email", "admin@important.me"], ["encrypted_password", "54731dd31044a7c7623d7d395bd93b83a8614de63c8eb7c190a31fb26ec45a9f3bc7d43f0c98bc4108eba7a2e1bf41715cdd6312d0a540cda8e173ea765a00a5"], ["password_salt", "$2a$10$EdiX1tSIuchiv8BxD2KqUe"], ["updated_at", Wed, 12 Nov 2014 10:47:32 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "baskets";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'baskets';
  [1m[36m (0.6ms)[0m  [1mDELETE FROM "categories";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'categories';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "clerks";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM sqlite_sequence where name = 'clerks';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "items";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'items';[0m
  [1m[35m (0.6ms)[0m  DELETE FROM "orders";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'orders';
  [1m[36m (0.9ms)[0m  [1mDELETE FROM "products";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'products';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "purchases";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'purchases';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "suppliers";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'suppliers';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Started GET "/sign_up" for 127.0.0.1 at 2014-11-12 12:47:32 +0200
Processing by SessionsController#sign_up as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_up.haml within layouts/shop (388.7ms)
Completed 500 Internal Server Error in 469ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Started GET "/sign_up" for 127.0.0.1 at 2014-11-12 12:47:33 +0200
Processing by SessionsController#sign_up as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_up.haml within layouts/shop (2.1ms)
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:47:33 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (2.3ms)
Completed 500 Internal Server Error in 13ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Started GET "/suppliers" for 127.0.0.1 at 2014-11-12 12:47:33 +0200
Processing by SuppliersController#index as HTML
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Started GET "/page/tuotteista" for 127.0.0.1 at 2014-11-12 12:47:33 +0200
Processing by ShopController#page as HTML
  Parameters: {"id"=>"tuotteista"}
  Rendered /Users/raisa/office_clerk/app/views/shop/tuotteista.html.haml within layouts/shop (3.9ms)
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) ORDER BY created_at DESC LIMIT 50
Completed 500 Internal Server Error in 19ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Started GET "/welcome" for 127.0.0.1 at 2014-11-12 12:47:33 +0200
Processing by ShopController#welcome as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."online" = 't' AND "categories"."category_id" IS NULL ORDER BY position[0m
  Rendered /Users/raisa/office_clerk/app/views/shop/welcome.html.haml (26.5ms)
Completed 500 Internal Server Error in 28ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Load (0.4ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.2ms)
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:47:33 UTC +00:00], ["link", "some_name"], ["name", "some name"], ["updated_at", Wed, 12 Nov 2014 10:47:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 10:47:59 UTC +00:00], ["email", "admin@important.me"], ["encrypted_password", "f22abdd014cf789d494430b8fc5ed1d6aed961e7e3818db9c43036ec4c9812996bc99806c9b0fd4589120d69e6109e0e37e553a6986576a98e99b5847b971870"], ["password_salt", "$2a$10$ZSD/XdQYpv5LdNFGuvI2O."], ["updated_at", Wed, 12 Nov 2014 10:47:59 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "baskets";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'baskets';
  [1m[36m (0.8ms)[0m  [1mDELETE FROM "categories";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'categories';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "clerks";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM sqlite_sequence where name = 'clerks';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "items";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'items';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "orders";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'orders';
  [1m[36m (0.8ms)[0m  [1mDELETE FROM "products";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'products';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "purchases";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'purchases';
  [1m[36m (0.6ms)[0m  [1mDELETE FROM "suppliers";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'suppliers';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk1\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 10:47:59 UTC +00:00], ["email", "admin1@test.com"], ["encrypted_password", "1182e29c978d1924bed86d69b3b9090ccc2edefe66f7ec13ccb765a13f33fe4677bccaf29f00f37fbd5176e9a537e4adab73adeb8f419412d4a54d194d67cf80"], ["password_salt", "$2a$10$ZQw50/DvCxeRHy/mVZiOg."], ["updated_at", Wed, 12 Nov 2014 10:47:59 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:47:59 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (346.0ms)
Completed 500 Internal Server Error in 425ms
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk2\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 10:47:59 UTC +00:00], ["email", "admin2@test.com"], ["encrypted_password", "b658ba200f1c49dacb74a2eee6aa229bca1bb385e2875435f56569cdd9b364981f4fd2acf814f89aa57bb50566a11c24e6eb43a21263125567211554f31eec2d"], ["password_salt", "$2a$10$dQ4nPvgzXn4xze6/.0Uzmu"], ["updated_at", Wed, 12 Nov 2014 10:47:59 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:47:59 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (1.4ms)
Completed 500 Internal Server Error in 12ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin3@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk3\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 10:47:59 UTC +00:00], ["email", "admin3@test.com"], ["encrypted_password", "43942da840bfaa78e3124752f22b8a3575d55d6fe5db1855ad43c4d2e825329d2f4707ab09c36cfc45af16023a0159d3ca68ca6883379a40718fdbe5ed8a8219"], ["password_salt", "$2a$10$FwXEdMKSk3dX7KfsNHYEK."], ["updated_at", Wed, 12 Nov 2014 10:47:59 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:47:59 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.9ms)
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin4@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk4\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 10:47:59 UTC +00:00], ["email", "admin4@test.com"], ["encrypted_password", "16d0b1803eb1c69ec1747d503badf2955a9160490a2d8ecedeb1d5db2dad65f5ac0f4984d4398526c9503fc3fdefb4b3100e6b125dbe8f9cbe6aa396ce8890da"], ["password_salt", "$2a$10$mJkHFuaE7zztNR9jcbjsAu"], ["updated_at", Wed, 12 Nov 2014 10:47:59 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:47:59 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (1.4ms)
Completed 500 Internal Server Error in 17ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin5@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk5\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 10:47:59 UTC +00:00], ["email", "admin5@test.com"], ["encrypted_password", "361f4c6385a9a5401b68757ded5e0af0c0f316b9218ceec2ff894bb6117573872c09acf8a3fb11723841d28745dd5bab9a8f42ec6ea08aa60b1a5e5119c65a6a"], ["password_salt", "$2a$10$CR7fgA7SXQ43Vyeo1wZJHe"], ["updated_at", Wed, 12 Nov 2014 10:47:59 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:47:59 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (1.0ms)
Completed 500 Internal Server Error in 18ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin6@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk6\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 10:47:59 UTC +00:00], ["email", "admin6@test.com"], ["encrypted_password", "17af7f40829dcb105236d139e1d5e5af9d06088db46815321afee7f5beb465c6054bb46a16be1f3f7c49cc1a0390aafbfd84381a1b90042d7cf45cb4d910dd9d"], ["password_salt", "$2a$10$g0mRliAD8.8bIuiUIKqeM."], ["updated_at", Wed, 12 Nov 2014 10:47:59 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "purchases"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 5.0], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["inventory", 5], ["link", "product_1"], ["name", "product 1"], ["price", 10.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["total_price", #<BigDecimal:7ffc8b0d1580,'0.1E2',9(36)>], ["total_tax", #<BigDecimal:7ffc8b0d1350,'0.1E1',9(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["name", "product 1"], ["price", 10.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:00.043992' WHERE "baskets"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["name", "purchase 1"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by PurchasesController#index as HTML
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by PurchasesController#new as HTML
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 5.5], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["inventory", 5], ["link", "product_2"], ["name", "product 2"], ["price", 11.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["total_price", #<BigDecimal:7ffc8b2a1270,'0.11E2',9(36)>], ["total_tax", #<BigDecimal:7ffc8b2a1090,'0.11E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["name", "product 2"], ["price", 11.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:00.077264' WHERE "baskets"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["name", "purchase 2"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by PurchasesController#show as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 6.0], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["inventory", 5], ["link", "product_3"], ["name", "product 3"], ["price", 12.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["total_price", #<BigDecimal:7ffc8adbbb48,'0.12E2',9(36)>], ["total_tax", #<BigDecimal:7ffc8adbb990,'0.12E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["name", "product 3"], ["price", 12.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:00.092759' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["name", "purchase 3"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by PurchasesController#update as HTML
  Parameters: {"purchase"=>{"name"=>"purchase 3", "basket"=>"1"}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 6.5], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["inventory", 5], ["link", "product_4"], ["name", "product 4"], ["price", 13.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["total_price", #<BigDecimal:7ffc8b190f98,'0.13E2',9(36)>], ["total_tax", #<BigDecimal:7ffc8b190de0,'0.13E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["name", "product 4"], ["price", 13.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:00.113691' WHERE "baskets"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["name", "purchase 4"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by PurchasesController#update as HTML
  Parameters: {"purchase"=>{"name"=>"purchase 4", "basket"=>"1"}, "id"=>"1"}
Completed 500 Internal Server Error in 42ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 7.0], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["inventory", 5], ["link", "product_5"], ["name", "product 5"], ["price", 14.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["total_price", #<BigDecimal:7ffc830c5710,'0.14E2',9(36)>], ["total_tax", #<BigDecimal:7ffc830cf9b8,'0.14E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["name", "product 5"], ["price", 14.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:00.173244' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["name", "purchase 5"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by PurchasesController#update as HTML
  Parameters: {"purchase"=>{"supplier_id"=>nil}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 7.5], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["inventory", 5], ["link", "product_6"], ["name", "product 6"], ["price", 15.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["total_price", #<BigDecimal:7ffc859dcd38,'0.15E2',9(36)>], ["total_tax", #<BigDecimal:7ffc859dc978,'0.15E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["name", "product 6"], ["price", 15.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:00.198989' WHERE "baskets"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["name", "purchase 6"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by PurchasesController#update as HTML
  Parameters: {"purchase"=>{"supplier_id"=>nil}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 8.0], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["inventory", 5], ["link", "product_7"], ["name", "product 7"], ["price", 16.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["total_price", #<BigDecimal:7ffc85d40a60,'0.16E2',9(36)>], ["total_tax", #<BigDecimal:7ffc85d405b0,'0.16E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["name", "product 7"], ["price", 16.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:00.219252' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by PurchasesController#create as HTML
  Parameters: {"purchase"=>{"name"=>"purchase 7", "basket"=>"1"}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 8.5], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["inventory", 5], ["link", "product_8"], ["name", "product 8"], ["price", 17.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["total_price", #<BigDecimal:7ffc85f225e0,'0.17E2',9(36)>], ["total_tax", #<BigDecimal:7ffc85f22360,'0.17E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["name", "product 8"], ["price", 17.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:00.237245' WHERE "baskets"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by PurchasesController#create as HTML
  Parameters: {"purchase"=>{"name"=>"purchase 8", "basket"=>"1"}}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "purchases"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 9.0], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["inventory", 5], ["link", "product_9"], ["name", "product 9"], ["price", 18.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["total_price", #<BigDecimal:7ffc879a3310,'0.18E2',9(36)>], ["total_tax", #<BigDecimal:7ffc879a2eb0,'0.18E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["name", "product 9"], ["price", 18.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:00.255463' WHERE "baskets"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by PurchasesController#create as HTML
  Parameters: {"purchase"=>{"name"=>"purchase 9", "basket"=>"1"}}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by PurchasesController#create as HTML
  Parameters: {"purchase"=>{"supplier_id"=>nil}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by PurchasesController#create as HTML
  Parameters: {"purchase"=>{"supplier_id"=>nil}}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 9.5], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["inventory", 5], ["link", "product_10"], ["name", "product 10"], ["price", 19.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["total_price", #<BigDecimal:7ffc87d44e10,'0.19E2',9(36)>], ["total_tax", #<BigDecimal:7ffc87d44be0,'0.19E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["name", "product 10"], ["price", 19.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:00.282207' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["name", "purchase 10"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by PurchasesController#edit as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin7@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk7\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["email", "admin7@test.com"], ["encrypted_password", "f260b985831de4ba9e6b12af544dbbad6a9a335f1b47ee6ea14691b03ec6d11308d311e83272dc4508e1d026b450f0a94e35a25d4a686df8e3b052336c9fc48c"], ["password_salt", "$2a$10$u6EotGmIpu1oV6sfOFaN5e"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"admin6@test.com"}
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin6@test.com' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Redirected to http://test.host/baskets
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test1@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk8\n"], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["email", "test1@test.com"], ["encrypted_password", "61ce3bb2ac8c82d344385b8f04ee5207a38389641226964cc319d17b686a5091371599c68b20c44ce9769eb5b320b91d8d7ff4efdcfb43de23ec0506c4b75d63"], ["password_salt", "$2a$10$7fdBMkZ.5UyvJ.OrD13l1."], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 'f' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"test1@test.com"}
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'test1@test.com' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Processing by SessionsController#sign_in as HTML
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Processing by ClerksController#new as HTML
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Processing by ClerksController#create as HTML
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Processing by ClerksController#create as HTML
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Processing by ClerksController#update as HTML
  Parameters: {"id"=>"ignored"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Processing by ClerksController#edit as HTML
  Parameters: {"id"=>"ignored"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test2@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk9\n"], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["email", "test2@test.com"], ["encrypted_password", "768c32e99331d4b43fdf337fe4b7a5feea8c47b554c55abcac75aac994afafa3d2fdfdba63f8dfaa9146f223699938fa424dc0adf83764f453e5deb90454c916"], ["password_salt", "$2a$10$ItsPUbt8/0PufUw4cfQukO"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:00 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 21ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 10.0], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["inventory", 5], ["link", "product_11"], ["name", "product 11"], ["price", 20.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["name", "product 11"], ["price", 20.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 10.5], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["inventory", 5], ["link", "product_12"], ["name", "product 12"], ["price", 21.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["name", "product 12"], ["price", 21.0], ["product_id", 2], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["total_price", #<BigDecimal:7ffc893aee30,'0.62E2',9(36)>], ["total_tax", #<BigDecimal:7ffc893aec50,'0.62E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 1[0m  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:00.401162' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7ffc893e7b40,'0.2E2',9(36)>], ["total_tax", #<BigDecimal:7ffc893e7988,'0.2E1',9(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 2  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:00.404120' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7ffc8941dce0,'0.62E2',9(36)>], ["total_tax", #<BigDecimal:7ffc8941db00,'0.62E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.2ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1[0m  [["inventory", 6], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 2]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 2[0m  [["inventory", 7], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "baskets" SET "locked" = ?, "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["locked", Wed, 12 Nov 2014], ["total_price", #<BigDecimal:7ffc894c6bd8,'0.31E2',9(36)>], ["total_tax", #<BigDecimal:7ffc894c6908,'0.31E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "price" = ?, "updated_at" = ? WHERE "items"."id" = 1  [["price", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:00.415968' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "price" = ?, "updated_at" = ? WHERE "items"."id" = 2  [["price", 10.5], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:00.417338' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 11.0], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["inventory", 5], ["link", "product_13"], ["name", "product 13"], ["price", 22.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["name", "product 13"], ["price", 22.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 11.5], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["inventory", 5], ["link", "product_14"], ["name", "product 14"], ["price", 23.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["name", "product 14"], ["price", 23.0], ["product_id", 2], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["total_price", #<BigDecimal:7ffc895bdac8,'0.68E2',9(36)>], ["total_tax", #<BigDecimal:7ffc895bd780,'0.68E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 1[0m  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:00.435703' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7ffc895f7ac0,'0.22E2',9(36)>], ["total_tax", #<BigDecimal:7ffc895f78b8,'0.22E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 2  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:00.438569' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7ffc8962f768,'0.68E2',9(36)>], ["total_tax", #<BigDecimal:7ffc8962f510,'0.68E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1[0m  [["inventory", 6], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 2[0m  [["inventory", 7], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "locked" = ?, "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["locked", Wed, 12 Nov 2014], ["total_price", #<BigDecimal:7ffc896d5af0,'0.34E2',9(36)>], ["total_tax", #<BigDecimal:7ffc896d5848,'0.34E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "price" = ?, "updated_at" = ? WHERE "items"."id" = 1  [["price", 11.0], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:00.448101' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "price" = ?, "updated_at" = ? WHERE "items"."id" = 2  [["price", 11.5], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:00.449349' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ? ORDER BY "items"."id" ASC LIMIT 1  [["basket_id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ? ORDER BY "items"."id" DESC LIMIT 1  [["basket_id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 12.0], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["inventory", 5], ["link", "product_15"], ["name", "product 15"], ["price", 24.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["name", "product 15"], ["price", 24.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 12.5], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["inventory", 5], ["link", "product_16"], ["name", "product 16"], ["price", 25.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["name", "product 16"], ["price", 25.0], ["product_id", 2], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["total_price", #<BigDecimal:7ffc897e4798,'0.74E2',9(36)>], ["total_tax", #<BigDecimal:7ffc897e4568,'0.74E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 1  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:00.466694' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7ffc8a828b90,'0.24E2',9(36)>], ["total_tax", #<BigDecimal:7ffc8a8289d8,'0.24E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 2[0m  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:00.472664' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7ffc8a8692d0,'0.74E2',9(36)>], ["total_tax", #<BigDecimal:7ffc8a869078,'0.74E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1  [["inventory", 4], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 2[0m  [["inventory", 3], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "locked" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["locked", Wed, 12 Nov 2014], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ? ORDER BY "items"."id" ASC LIMIT 1[0m  [["basket_id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ? ORDER BY "items"."id" DESC LIMIT 1[0m  [["basket_id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 13.0], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["inventory", 5], ["link", "product_17"], ["name", "product 17"], ["price", 26.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["name", "product 17"], ["price", 26.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 13.5], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["inventory", 5], ["link", "product_18"], ["name", "product 18"], ["price", 27.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["name", "product 18"], ["price", 27.0], ["product_id", 2], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["total_price", #<BigDecimal:7ffc8a9d2d88,'0.8E2',9(36)>], ["total_tax", #<BigDecimal:7ffc8a9d29f0,'0.8E1',9(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 1[0m  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:00.497444' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7ffc8aa0ad00,'0.26E2',9(36)>], ["total_tax", #<BigDecimal:7ffc8aa0aad0,'0.26E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 2  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:00.500259' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7ffc8aa4b828,'0.8E2',9(36)>], ["total_tax", #<BigDecimal:7ffc8aa4baf8,'0.8E1',9(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1[0m  [["inventory", 4], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 2]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 2  [["inventory", 3], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "locked" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["locked", Wed, 12 Nov 2014], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by ProductsController#new as HTML
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "products" ("cost", "created_at", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["cost", 14.0], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["link", "product_19"], ["name", "product 19"], ["price", 28.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products" WHERE "products"."deleted_on" IS NULL
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by ProductsController#delete as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 14.5], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["inventory", 5], ["link", "product_20"], ["name", "product 20"], ["price", 29.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by ProductsController#delete as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 15.0], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["inventory", 5], ["link", "product_21"], ["name", "product 21"], ["price", 30.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by ProductsController#index as HTML
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 15.5], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["inventory", 5], ["link", "product_22"], ["name", "product 22"], ["price", 31.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"product 22", "price"=>"31", "inventory"=>"5"}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 16.0], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["inventory", 5], ["link", "product_23"], ["name", "product 23"], ["price", 32.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"product 23", "price"=>"32", "inventory"=>"5"}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 16.5], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["inventory", 5], ["link", "product_24"], ["name", "product 24"], ["price", 33.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>""}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 17.0], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["inventory", 5], ["link", "product_25"], ["name", "product 25"], ["price", 34.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>""}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 17.5], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["inventory", 5], ["link", "product_26"], ["name", "product 26"], ["price", 35.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>"product 27", "price"=>"36", "inventory"=>"5"}}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>"product 28", "price"=>"37", "inventory"=>"5"}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products" WHERE "products"."deleted_on" IS NULL
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>"product 29", "price"=>"38", "inventory"=>"5"}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>""}}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>""}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 19.5], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["inventory", 5], ["link", "product_30"], ["name", "product 30"], ["price", 39.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "suppliers" ("address", "created_at", "supplier_name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["supplier_name", "MyString"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by SuppliersController#new as HTML
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "suppliers" ("address", "created_at", "supplier_name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["supplier_name", "MyString"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "suppliers"
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by SuppliersController#destroy as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "suppliers" ("address", "created_at", "supplier_name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["supplier_name", "MyString"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by SuppliersController#destroy as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "suppliers"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "suppliers" ("address", "created_at", "supplier_name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["supplier_name", "MyString"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by SuppliersController#index as HTML
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "suppliers" ("address", "created_at", "supplier_name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["supplier_name", "MyString"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by SuppliersController#update as HTML
  Parameters: {"supplier"=>{"supplier_name"=>"MyString"}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "suppliers" ("address", "created_at", "supplier_name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["supplier_name", "MyString"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by SuppliersController#update as HTML
  Parameters: {"supplier"=>{"name"=>""}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "suppliers" ("address", "created_at", "supplier_name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["supplier_name", "MyString"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by SuppliersController#update as HTML
  Parameters: {"supplier"=>{"name"=>""}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "suppliers" ("address", "created_at", "supplier_name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["supplier_name", "MyString"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by SuppliersController#show as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by SuppliersController#create as HTML
  Parameters: {"supplier"=>{"supplier_name"=>"MyString"}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by SuppliersController#create as HTML
  Parameters: {"supplier"=>{"supplier_name"=>"MyString"}}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "suppliers"[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by SuppliersController#create as HTML
  Parameters: {"supplier"=>{"supplier_name"=>"MyString"}}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by SuppliersController#create as HTML
  Parameters: {"supplier"=>{"name"=>""}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by SuppliersController#create as HTML
  Parameters: {"supplier"=>{"name"=>""}}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "suppliers" ("address", "created_at", "supplier_name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["supplier_name", "MyString"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by SuppliersController#edit as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/welcome" for 127.0.0.1 at 2014-11-12 12:48:00 +0200
Processing by ShopController#welcome as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."online" = 't' AND "categories"."category_id" IS NULL ORDER BY position[0m
Completed 500 Internal Server Error in 22ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "online", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 20.0], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["inventory", 5], ["link", "product_31"], ["name", "product 31"], ["online", true], ["price", 40.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "online", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["link", "gourmet1"], ["name", "Gourmet1"], ["online", true], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "products" SET "category_id" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1  [["category_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/prod/product_31" for 127.0.0.1 at 2014-11-12 12:48:00 +0200
Processing by ShopController#product as HTML
  Parameters: {"link"=>"product_31"}
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) AND "products"."link" = 'product_31' ORDER BY created_at DESC LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? ORDER BY position LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 27ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "online", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 20.5], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["inventory", 5], ["link", "product_32"], ["name", "product 32"], ["online", true], ["price", 41.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "online", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["link", "gourmet2"], ["name", "Gourmet2"], ["online", true], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "products" SET "category_id" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1  [["category_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/prod/product_32" for 127.0.0.1 at 2014-11-12 12:48:00 +0200
Processing by ShopController#product as HTML
  Parameters: {"link"=>"product_32"}
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) AND "products"."link" = 'product_32' ORDER BY created_at DESC LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? ORDER BY position LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 15ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "online", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 21.0], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["inventory", 5], ["link", "product_33"], ["name", "product 33"], ["online", true], ["price", 42.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "online", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["link", "gourmet3"], ["name", "Gourmet3"], ["online", true], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "products" SET "category_id" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1  [["category_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/prod/no_such_thing" for 127.0.0.1 at 2014-11-12 12:48:00 +0200
Processing by ShopController#product as HTML
  Parameters: {"link"=>"no_such_thing"}
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) AND "products"."link" = 'no_such_thing' ORDER BY created_at DESC LIMIT 1
Redirected to http://www.example.com/group/no_such_thing
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/group/no_such_thing" for 127.0.0.1 at 2014-11-12 12:48:00 +0200
Processing by ShopController#group as HTML
  Parameters: {"link"=>"no_such_thing"}
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."online" = 't' AND "categories"."link" = 'no_such_thing' ORDER BY position LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."online" = 't' AND "categories"."category_id" IS NULL ORDER BY position
Completed 500 Internal Server Error in 24ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "online", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 21.5], ["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["inventory", 5], ["link", "product_34"], ["name", "product 34"], ["online", true], ["price", 43.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("created_at", "link", "name", "online", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["link", "gourmet4"], ["name", "Gourmet4"], ["online", true], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "products" SET "category_id" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1[0m  [["category_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:00 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2014-11-12 12:48:01 +0200
Processing by ShopController#group as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."online" = 't' AND "categories"."link" IS NULL ORDER BY position LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."online" = 't' AND "categories"."category_id" IS NULL ORDER BY position
Completed 500 Internal Server Error in 17ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "online", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 22.0], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["inventory", 5], ["link", "product_35"], ["name", "product 35"], ["online", true], ["price", 44.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "categories" ("created_at", "link", "name", "online", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["link", "gourmet5"], ["name", "Gourmet5"], ["online", true], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "products" SET "category_id" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1[0m  [["category_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/prod/product_35" for 127.0.0.1 at 2014-11-12 12:48:01 +0200
Processing by ShopController#product as HTML
  Parameters: {"link"=>"product_35"}
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) AND "products"."link" = 'product_35' ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."id" = ? ORDER BY position LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 15ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "online", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 22.5], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["inventory", 5], ["link", "product_36"], ["name", "product 36"], ["online", true], ["price", 45.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "categories" ("created_at", "link", "name", "online", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["link", "gourmet6"], ["name", "Gourmet6"], ["online", true], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "products" SET "category_id" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1[0m  [["category_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/prod/product_36" for 127.0.0.1 at 2014-11-12 12:48:01 +0200
Processing by ShopController#product as HTML
  Parameters: {"link"=>"product_36"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) AND "products"."link" = 'product_36' ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mCategory Load (0.0ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."id" = ? ORDER BY position LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 16ms
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "online", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 23.0], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["inventory", 5], ["link", "product_37"], ["name", "product 37"], ["online", true], ["price", 46.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("created_at", "link", "name", "online", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["link", "gourmet7"], ["name", "Gourmet7"], ["online", true], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "products" SET "category_id" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1[0m  [["category_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/group/gourmet7" for 127.0.0.1 at 2014-11-12 12:48:01 +0200
Processing by ShopController#group as HTML
  Parameters: {"link"=>"gourmet7"}
  [1m[36mCategory Load (0.5ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."online" = 't' AND "categories"."link" = 'gourmet7' ORDER BY position LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."category_id" = ? AND "categories"."online" = 't' ORDER BY position  [["category_id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."category_id" = ? AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) ORDER BY created_at DESC[0m  [["category_id", 1]]
Completed 500 Internal Server Error in 29ms
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "online", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 23.5], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["inventory", 5], ["link", "product_38"], ["name", "product 38"], ["online", true], ["price", 47.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "online", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["link", "gourmet8"], ["name", "Gourmet8"], ["online", true], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "products" SET "category_id" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1  [["category_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/prod/product_38" for 127.0.0.1 at 2014-11-12 12:48:01 +0200
Processing by ShopController#product as HTML
  Parameters: {"link"=>"product_38"}
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) AND "products"."link" = 'product_38' ORDER BY created_at DESC LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? ORDER BY position LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 20ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "online", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 24.0], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["inventory", 5], ["link", "product_39"], ["name", "product 39"], ["online", true], ["price", 48.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "online", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["link", "gourmet9"], ["name", "Gourmet9"], ["online", true], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "products" SET "category_id" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1  [["category_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/prod/product_39" for 127.0.0.1 at 2014-11-12 12:48:01 +0200
Processing by ShopController#product as HTML
  Parameters: {"link"=>"product_39"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) AND "products"."link" = 'product_39' ORDER BY created_at DESC LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? ORDER BY position LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 15ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started GET "/page/tuotteista" for 127.0.0.1 at 2014-11-12 12:48:01 +0200
Processing by ShopController#page as HTML
  Parameters: {"id"=>"tuotteista"}
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) ORDER BY created_at DESC LIMIT 50
Completed 500 Internal Server Error in 23ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 24.5], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["inventory", 5], ["link", "product_40"], ["name", "product 40"], ["price", 49.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["total_price", #<BigDecimal:7ffc8b32a2a0,'0.49E2',9(36)>], ["total_tax", #<BigDecimal:7ffc8b32a0e8,'0.49E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["name", "product 19"], ["price", 49.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:01.273071' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at DESC LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("address", "created_at", "email", "number", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["email", "test1@test.com"], ["number", "R201430000"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["kori_type", "Order"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by OrdersController#index as HTML
Completed 500 Internal Server Error in 3ms
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by OrdersController#new as HTML
Completed 500 Internal Server Error in 15ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 25.0], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["inventory", 5], ["link", "product_41"], ["name", "product 41"], ["price", 50.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["total_price", #<BigDecimal:7ffc8b3aaf40,'0.5E2',9(36)>], ["total_tax", #<BigDecimal:7ffc8b3aad88,'0.5E1',9(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["name", "product 20"], ["price", 50.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:01.317602' WHERE "baskets"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("address", "created_at", "email", "number", "updated_at") VALUES (?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["email", "test2@test.com"], ["number", "R201430000"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Order"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 25.5], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["inventory", 5], ["link", "product_42"], ["name", "product 42"], ["price", 51.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["total_price", #<BigDecimal:7ffc8b2e8e40,'0.51E2',9(36)>], ["total_tax", #<BigDecimal:7ffc8b2e8c60,'0.51E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["name", "product 21"], ["price", 51.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.2ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:01.337509' WHERE "baskets"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("address", "created_at", "email", "number", "updated_at") VALUES (?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["email", "test3@test.com"], ["number", "R201430000"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Order"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 26.0], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["inventory", 5], ["link", "product_43"], ["name", "product 43"], ["price", 52.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["total_price", #<BigDecimal:7ffc8b4632c0,'0.52E2',9(36)>], ["total_tax", #<BigDecimal:7ffc8b462ff0,'0.52E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 2], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["name", "product 22"], ["price", 52.0], ["product_id", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 2]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:01.351071' WHERE "baskets"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"email"=>"test4@test.com", "shipment_tax"=>"0", "basket"=>"2"}, "id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 26.5], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["inventory", 5], ["link", "product_44"], ["name", "product 44"], ["price", 53.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["total_price", #<BigDecimal:7ffc89236f08,'0.53E2',9(36)>], ["total_tax", #<BigDecimal:7ffc89236cd8,'0.53E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["name", "product 23"], ["price", 53.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35mBasket Load (0.2ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:01.372030' WHERE "baskets"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("address", "created_at", "email", "number", "updated_at") VALUES (?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["email", "test5@test.com"], ["number", "R201430000"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Order"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"paid_on"=>""}, "id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 27.0], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["inventory", 5], ["link", "product_45"], ["name", "product 45"], ["price", 54.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["total_price", #<BigDecimal:7ffc8b0926a0,'0.54E2',9(36)>], ["total_tax", #<BigDecimal:7ffc8b0924e8,'0.54E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["name", "product 24"], ["price", 54.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:01.392251' WHERE "baskets"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"email"=>"test6@test.com", "shipment_tax"=>"0", "basket"=>"1"}}
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 27.5], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["inventory", 5], ["link", "product_46"], ["name", "product 46"], ["price", 55.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["total_price", #<BigDecimal:7ffc8b21a018,'0.55E2',9(36)>], ["total_tax", #<BigDecimal:7ffc8b219e60,'0.55E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["name", "product 25"], ["price", 55.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:01.411995' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"email"=>"test7@test.com", "shipment_tax"=>"0", "basket"=>"1"}}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 28.0], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["inventory", 5], ["link", "product_47"], ["name", "product 47"], ["price", 56.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["total_price", #<BigDecimal:7ffc8b0e2420,'0.56E2',9(36)>], ["total_tax", #<BigDecimal:7ffc8b0e21c8,'0.56E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["name", "product 26"], ["price", 56.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:01.430651' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"email"=>"test8@test.com", "shipment_tax"=>"0", "basket"=>"1"}}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"paid_on"=>""}}
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"paid_on"=>""}}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 28.5], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["inventory", 5], ["link", "product_48"], ["name", "product 48"], ["price", 57.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["total_price", #<BigDecimal:7ffc8ada9948,'0.57E2',9(36)>], ["total_tax", #<BigDecimal:7ffc8ada9718,'0.57E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["name", "product 27"], ["price", 57.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:01.460950' WHERE "baskets"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("address", "created_at", "email", "number", "updated_at") VALUES (?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["email", "test9@test.com"], ["number", "R201430000"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Order"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 29.0], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["inventory", 5], ["link", "product_49"], ["name", "product 49"], ["price", 58.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["total_price", #<BigDecimal:7ffc8aca2a40,'0.58E2',9(36)>], ["total_tax", #<BigDecimal:7ffc8aca2888,'0.58E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["name", "product 28"], ["price", 58.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:01.481548' WHERE "baskets"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("address", "created_at", "email", "number", "updated_at") VALUES (?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["email", "test10@test.com"], ["number", "R201430000"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Order"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 29.5], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["inventory", 5], ["link", "product_50"], ["name", "product 50"], ["price", 59.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["total_price", #<BigDecimal:7ffc8abd9668,'0.59E2',9(36)>], ["total_tax", #<BigDecimal:7ffc8abd9488,'0.59E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["name", "product 29"], ["price", 59.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:01.496850' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at DESC LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("address", "created_at", "email", "number", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["email", "test11@test.com"], ["number", "R201430000"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["kori_type", "Order"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 30.0], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["inventory", 5], ["link", "product_51"], ["name", "product 51"], ["price", 60.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["total_price", #<BigDecimal:7ffc8ab187b0,'0.6E2',9(36)>], ["total_tax", #<BigDecimal:7ffc8ab18558,'0.6E1',9(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["name", "product 30"], ["price", 60.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:01.515697' WHERE "baskets"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("address", "created_at", "email", "number", "updated_at") VALUES (?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["email", "test12@test.com"], ["number", "R201430000"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Order"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 30.5], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["inventory", 5], ["link", "product_52"], ["name", "product 52"], ["price", 61.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ? AND "items"."product_id" = 1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["basket_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["name", "product 52"], ["price", 61.0], ["product_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:01.539568' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7ffc8a9b23f8,'0.61E2',9(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ? AND "items"."product_id" = 1 ORDER BY "items"."id" ASC LIMIT 1  [["basket_id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "quantity" = ?, "updated_at" = ? WHERE "items"."id" = 1  [["quantity", 2], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:01.545089' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7ffc8a95b8a0,'0.122E3',9(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 31.0], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["inventory", 5], ["link", "product_53"], ["name", "product 53"], ["price", 62.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ? AND "items"."product_id" = 1 ORDER BY "items"."id" ASC LIMIT 1  [["basket_id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["name", "product 53"], ["price", 62.0], ["product_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:01.560818' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7ffc8a89b7f8,'0.62E2',9(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "ean", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 31.5], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["ean", "1234"], ["inventory", 5], ["link", "product_54"], ["name", "product 54"], ["price", 63.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "link", "name", "price", "product_id", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 31.5], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["link", ""], ["name", "my unique name"], ["price", 63.0], ["product_id", 1], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT SUM("products"."inventory") AS sum_id FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ?  [["product_id", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "products" SET "inventory" = ?, "ean" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1  [["inventory", 0], ["ean", ""], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 32.0], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["inventory", 5], ["link", "product_55"], ["name", "product 55"], ["price", 64.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC[0m  [["product_id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "products" SET "inventory" = ?, "deleted_on" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1[0m  [["inventory", 0], ["deleted_on", Wed, 12 Nov 2014], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."id" = 1 ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 32.5], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["inventory", 5], ["link", "product_56"], ["name", "product 56"], ["price", 65.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 33.0], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["inventory", 5], ["link", "product_57"], ["name", "product 57"], ["price", 66.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC  [["product_id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 33.5], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["inventory", 5], ["link", "product_58"], ["name", "product 58"], ["price", 67.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "product_id", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 34.0], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["inventory", 5], ["link", ""], ["name", "product 59"], ["price", 68.0], ["product_id", 1], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSELECT SUM("products"."inventory") AS sum_id FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ?[0m  [["product_id", 1]]
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 34.5], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["inventory", 5], ["link", "product_60"], ["name", "product 60"], ["price", 69.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 35.0], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["inventory", 5], ["link", "product_61"], ["name", "product 61"], ["price", 70.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 35.5], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["inventory", 5], ["link", "product_62"], ["name", "product 62"], ["price", 71.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "product_id", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 36.0], ["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["inventory", 5], ["link", ""], ["name", "product 63"], ["price", 72.0], ["product_id", 1], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SELECT SUM("products"."inventory") AS sum_id FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ?  [["product_id", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "products" SET "updated_at" = ?, "properties" = ? WHERE "products"."id" = 2[0m  [["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSELECT SUM("products"."inventory") AS sum_id FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ?[0m  [["product_id", 1]]
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:01 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 15ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:01 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["link", "gourmet10"], ["name", "Gourmet10"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["link", "some_name"], ["name", "some name"], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:01 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 19ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:01 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 15ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:01 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 16ms
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.3ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:01 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 19ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:01 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 18ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:01 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 17ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:01 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:01 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mClerk Load (0.3ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.4ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by BasketsController#new as HTML
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "baskets"[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by BasketsController#destroy as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by BasketsController#destroy as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "baskets"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by BasketsController#index as HTML
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 10:48:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by BasketsController#update as HTML
  Parameters: {"basket"=>{}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by BasketsController#update as HTML
  Parameters: {"basket"=>{}, "id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by BasketsController#update as HTML
  Parameters: {"basket"=>{"some"=>"thing_to_stop_erros"}, "id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by BasketsController#show as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by BasketsController#create as HTML
  Parameters: {"basket"=>{}}
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by BasketsController#create as HTML
  Parameters: {"basket"=>{}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "baskets"
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by BasketsController#create as HTML
  Parameters: {"basket"=>{}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by BasketsController#edit as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:02 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 13ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:02 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 16ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:02 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 18ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:02 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 17ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:02 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 19ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.2ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'bar@example.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk10\n"], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["email", "bar@example.com"], ["encrypted_password", "ec6eea8e3458beae00927984cabecb26f19d7e1e9857dfdc547f785b904d911b95cedaa14919678ff2962f0caf20c0ddf165034fc9cd1f9a4eb844669ebb3d3e"], ["password_salt", "$2a$10$Vnk9ARHqqem.E9BU5H.SrO"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE ("clerks"."email" = 'bar@example.com' AND "clerks"."id" != 2) LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "clerks" SET "password_salt" = ?, "encrypted_password" = ?, "updated_at" = ?, "address" = ? WHERE "clerks"."id" = 2[0m  [["password_salt", "$2a$10$E348eZgkrK6MbzmP7FG7Be"], ["encrypted_password", "ea3818892883331a8714aecee259e28e43308b95ac06f2321ecb8ef74d25659b0c3572682dd1afa73bc91043c1fab08b2998c900dbf56a833842428d6e33aa8f"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk10\n"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'bar@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test3@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk12\n"], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["email", "test3@test.com"], ["encrypted_password", "138c0b5a33dde2ab2dffc992063bbcb85dfc6f08f3403f735240155d09fa78326904f3e0c6208b19a0159b884fc871977c9f8512bdd6a3105afea789f098e4bb"], ["password_salt", "$2a$10$FxUdWHhWRYFOGVxBE4/tRO"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.2ms)[0m  SELECT 1 AS one FROM "clerks" WHERE ("clerks"."email" = 'test3@test.com' AND "clerks"."id" != 2) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.2ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'clerk@foo.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk13\n"], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["email", "clerk@foo.com"], ["encrypted_password", "631844f1df13d696c29948693a9a25ec649c637a4e350f37544365628e12e9622e7388733e12a03a6ed047a015da033fb2e2fdc71200c25cb16c25ea80007fc7"], ["password_salt", "$2a$10$HesgidX/gCZNsAVPpZPise"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE ("clerks"."email" = 'clerk@foo.com' AND "clerks"."id" != 2) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'THE_USER@foo.bar.org' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk14\n"], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["email", "THE_USER@foo.bar.org"], ["encrypted_password", "613d097c4ddf3d922cc107d53d19820422b007a4640bd4d10b5d1bf8dced9dc9cb39064062cabf05b19ba03ce3ff0cd7dd604e323bc6fbb0907fd33fd5d9c071"], ["password_salt", "$2a$10$nbhSUdIYJstopro7jc4wBu"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE ("clerks"."email" = 'THE_USER@foo.bar.org' AND "clerks"."id" != 3) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'first.last@foo.jp' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk15\n"], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["email", "first.last@foo.jp"], ["encrypted_password", "9182a26556a4cc280bdb4095dcf1884a76d4c3cea1a320dda3a31f9ab2d5ee5b015f47329a0a72b87841fce439dc10aa3a8061681f0de358ea9b5c1cacca467d"], ["password_salt", "$2a$10$FbNA5YOEIFwP/ylNebba2e"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE ("clerks"."email" = 'first.last@foo.jp' AND "clerks"."id" != 4) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'foo@bar@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.3ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'BIGMAIL@MAIL.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk17\n"], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["email", "BIGMAIL@MAIL.com"], ["encrypted_password", "de706c2d75ea9f70b8dc634c6337c42970210b69f96adbba16685ec4ac56ed1126fe83221abc85dfe6221c474610218ce4658f9a53b99ceea6eca1b38b8e4efa"], ["password_salt", "$2a$10$rhkpYJkuZjLBt5PM1JbehO"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'bigmail@mail.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk18\n"], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["email", "bigmail@mail.com"], ["encrypted_password", "220c1e77c6164271247668c8782c7523e47e4142437b13d3374e32d8490c96abbc9e4383e442f23a48df9387eb973a65a55c8eb9dddcc68aae5011409ab905d0"], ["password_salt", "$2a$10$QusS/azIq/DanuIUkuG3Je"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.2ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'sama@sama.net' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk19\n"], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["email", "sama@sama.net"], ["encrypted_password", "c420038f8777a928a6d460cd1a02567309a73b493c8c50238cc66dc4479b06c1ad16eaa69e579ed60a548264a419e744866652c018028cd33f0e0da64aa2cb0d"], ["password_salt", "$2a$10$4Xph/bttnUMjjx8RsKjoPO"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'sama@sama.net' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'sama@sama.net' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'clerk@foo,com' LIMIT 1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'clerk_at_foo.org' LIMIT 1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'example.clerk@foo.' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test4@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk24\n"], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["email", "test4@test.com"], ["encrypted_password", "3902b75403841d9e58c9b93434cdb7ec8e8b55f48cf6c0612019cb8a04c85af926f7aea03ae0889d4b9af1210574f48dc6545aba1ccf0333f14e154e00e07a64"], ["password_salt", "$2a$10$iLQJmOdWy8U28elZKzs/ue"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = '' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:02 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 13ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:02 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 13ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:02 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 13ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:02 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 19ms
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 36.5], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["inventory", 5], ["link", "product_64"], ["name", "product 64"], ["price", 73.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["total_price", #<BigDecimal:7ffc893beb78,'0.73E2',9(36)>], ["total_tax", #<BigDecimal:7ffc893be9c0,'0.73E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["name", "product 31"], ["price", 73.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:02.351387' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["name", "purchase 11"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1  [["inventory", 1], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "baskets" SET "locked" = ?, "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["locked", Wed, 12 Nov 2014], ["total_price", #<BigDecimal:7ffc8930f2e0,'-0.146E3',9(36)>], ["total_tax", #<BigDecimal:7ffc8930f088,'-0.146E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "items" SET "quantity" = ?, "price" = ?, "updated_at" = ? WHERE "items"."id" = 1[0m  [["quantity", -4], ["price", 36.5], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:02.365056' WHERE "baskets"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "purchases" SET "ordered_on" = ?, "received_on" = ?, "updated_at" = ? WHERE "purchases"."id" = 1[0m  [["ordered_on", Wed, 12 Nov 2014], ["received_on", Wed, 12 Nov 2014], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 37.0], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["inventory", 5], ["link", "product_65"], ["name", "product 65"], ["price", 74.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["total_price", #<BigDecimal:7ffc892660c8,'0.74E2',9(36)>], ["total_tax", #<BigDecimal:7ffc89265d30,'0.74E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["name", "product 32"], ["price", 74.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:02.378429' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["name", "purchase 12"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1  [["inventory", 6], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "locked" = ?, "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["locked", Wed, 12 Nov 2014], ["total_price", #<BigDecimal:7ffc891b7e38,'0.37E2',9(36)>], ["total_tax", #<BigDecimal:7ffc891b7c80,'0.37E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "items" SET "price" = ?, "updated_at" = ? WHERE "items"."id" = 1[0m  [["price", 37.0], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:02.394627' WHERE "baskets"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "purchases" SET "ordered_on" = ?, "received_on" = ?, "updated_at" = ? WHERE "purchases"."id" = 1[0m  [["ordered_on", Wed, 12 Nov 2014], ["received_on", Wed, 12 Nov 2014], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 37.5], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["inventory", 5], ["link", "product_66"], ["name", "product 66"], ["price", 75.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["total_price", #<BigDecimal:7ffc8911f7c8,'0.75E2',9(36)>], ["total_tax", #<BigDecimal:7ffc8911f610,'0.75E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["name", "product 33"], ["price", 75.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:02.406142' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["name", "purchase 13"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "purchases" SET "ordered_on" = ?, "updated_at" = ? WHERE "purchases"."id" = 1  [["ordered_on", Wed, 12 Nov 2014], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 38.0], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["inventory", 5], ["link", "product_67"], ["name", "product 67"], ["price", 76.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["total_price", #<BigDecimal:7ffc8905dfd8,'0.76E2',9(36)>], ["total_tax", #<BigDecimal:7ffc8905ddd0,'0.76E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["name", "product 34"], ["price", 76.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:02.426667' WHERE "baskets"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["name", "purchase 14"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 38.5], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["inventory", 5], ["link", "product_68"], ["name", "product 68"], ["price", 77.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["total_price", #<BigDecimal:7ffc8b0aa5e8,'0.77E2',9(36)>], ["total_tax", #<BigDecimal:7ffc8b0aa408,'0.77E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["name", "product 35"], ["price", 77.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:02.441966' WHERE "baskets"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["name", "purchase 15"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1[0m  [["inventory", 6], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "baskets" SET "locked" = ?, "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["locked", Wed, 12 Nov 2014], ["total_price", #<BigDecimal:7ffc8af01570,'0.385E2',18(36)>], ["total_tax", #<BigDecimal:7ffc8af01250,'0.385E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "price" = ?, "updated_at" = ? WHERE "items"."id" = 1  [["price", 38.5], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:02.453237' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "purchases" SET "ordered_on" = ?, "received_on" = ?, "updated_at" = ? WHERE "purchases"."id" = 1  [["ordered_on", Wed, 12 Nov 2014], ["received_on", Wed, 12 Nov 2014], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:02 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 16ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:02 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 18ms
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:02 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 19ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:02 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 13ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:02 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 39.0], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["inventory", 5], ["link", "product_69"], ["name", "product 69"], ["price", 78.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["name", "product 36"], ["price", 78.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 39.5], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["inventory", 5], ["link", "product_70"], ["name", "product 70"], ["price", 79.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["name", "product 37"], ["price", 79.0], ["product_id", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 40.0], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["inventory", 5], ["link", "product_71"], ["name", "product 71"], ["price", 80.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["name", "product 38"], ["price", 80.0], ["product_id", 3], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 40.5], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["inventory", 5], ["link", "product_72"], ["name", "product 72"], ["price", 81.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["name", "product 39"], ["price", 81.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 41.0], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["inventory", 5], ["link", "product_73"], ["name", "product 73"], ["price", 82.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["name", "product 40"], ["price", 82.0], ["product_id", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 41.5], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["inventory", 5], ["link", "product_74"], ["name", "product 74"], ["price", 83.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["name", "product 41"], ["price", 83.0], ["product_id", 3], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 42.0], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["inventory", 5], ["link", "product_75"], ["name", "product 75"], ["price", 84.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["name", "product 42"], ["price", 84.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 42.5], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["inventory", 5], ["link", "product_76"], ["name", "product 76"], ["price", 85.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["name", "product 43"], ["price", 85.0], ["product_id", 2], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 43.0], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["inventory", 5], ["link", "product_77"], ["name", "product 77"], ["price", 86.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["name", "product 44"], ["price", 86.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 43.5], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["inventory", 5], ["link", "product_78"], ["name", "product 78"], ["price", 87.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["name", "product 45"], ["price", 87.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 44.0], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["inventory", 5], ["link", "product_79"], ["name", "product 79"], ["price", 88.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["name", "product 46"], ["price", 88.0], ["product_id", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 44.5], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["inventory", 5], ["link", "product_80"], ["name", "product 80"], ["price", 89.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (13.1ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["name", "product 47"], ["price", 89.0], ["product_id", 3], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by CategoriesController#new as HTML
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["link", "gourmet11"], ["name", "Gourmet11"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by CategoriesController#destroy as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["link", "gourmet12"], ["name", "Gourmet12"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by CategoriesController#destroy as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["link", "gourmet13"], ["name", "Gourmet13"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by CategoriesController#index as HTML
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["link", "gourmet14"], ["name", "Gourmet14"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"name"=>"Gourmet15", "link"=>"gourmet15"}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["link", "gourmet16"], ["name", "Gourmet16"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"name"=>"Gourmet17", "link"=>"gourmet17"}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["link", "gourmet18"], ["name", "Gourmet18"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"name"=>""}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["link", "gourmet19"], ["name", "Gourmet19"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"name"=>""}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["link", "gourmet20"], ["name", "Gourmet20"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Gourmet21", "link"=>"gourmet21"}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Gourmet22", "link"=>"gourmet22"}}
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Gourmet23", "link"=>"gourmet23"}}
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>""}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>""}}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["link", "gourmet24"], ["name", "Gourmet24"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by CategoriesController#edit as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/sign_up" for 127.0.0.1 at 2014-11-12 12:48:02 +0200
Processing by SessionsController#sign_up as HTML
Completed 500 Internal Server Error in 47ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin8@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk26\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["email", "admin8@test.com"], ["encrypted_password", "28e5df857439aad90a0203d0dc3d6a0ca92b32368ad8b66d5f1fdfddb3e546bfd83d66a423fdff28dee57afab306876d72c34c3fd3f1d4c599ec9d665da67816"], ["password_salt", "$2a$10$uBwQGXUBFk/Xqcbl99mL9e"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:02 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 13ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Started GET "/sign_up" for 127.0.0.1 at 2014-11-12 12:48:02 +0200
Processing by SessionsController#sign_up as HTML
Completed 500 Internal Server Error in 18ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Started GET "/suppliers" for 127.0.0.1 at 2014-11-12 12:48:02 +0200
Processing by SuppliersController#index as HTML
Completed 500 Internal Server Error in 4ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.3ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:02 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test5@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk27\n"], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["email", "test5@test.com"], ["encrypted_password", "63364423f3f5fdcd69168324ac8a6162f413f1c90a37a6d0d695f2b19e66ce48284e9799356bac11b77b823f94ada4d2e6910e69545b0106a6464d3ea50b79bb"], ["password_salt", "$2a$10$JiTlVG8ORLT.TPJtODvmYu"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:02 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 19ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:02 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 13ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test6@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk28\n"], ["created_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00], ["email", "test6@test.com"], ["encrypted_password", "3820ab2ddf951fff8e572f777c66c502779e7e5d75f0f3a65ffa3dac9cb1786e7ab1d6892584e086c0501146bc64bcc820882d0e74e06d75acec8c178a5a801b"], ["password_salt", "$2a$10$HdmwPBIxRml7sr2EQhgILO"], ["updated_at", Wed, 12 Nov 2014 10:48:02 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:02 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 15ms
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:02 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 19ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:03 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test7@test.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test8@test.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test9@test.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.2ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test10@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk32\n"], ["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["email", "test10@test.com"], ["encrypted_password", "a034b575f5307fabff262f2e4a28f8c848a62b60e5f63408764589d1da7dc0fa4189b29f25b7f57545a66ea2e165616bcbb087067510a9999cd2c3dfc9d8e6f5"], ["password_salt", "$2a$10$7spUNfUdZpy02Gg7t30fvu"], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.2ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test11@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk33\n"], ["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["email", "test11@test.com"], ["encrypted_password", "06d5b7c3352ff28709ea2bc67dffac1a24e685defa2eb51319b38ff061ec0bf2d5fc6460321c45b4ec6777e4d9baeeda2a78fd033e7041c4d8760cbd1aa95923"], ["password_salt", "$2a$10$mSVg8GxegBCONmOL9KuZpu"], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.2ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test12@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk34\n"], ["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["email", "test12@test.com"], ["encrypted_password", "170fb8ea0a319839e51e7809333b0860df013f97fbc6b6baad25014656cf1568d539eb0e9b179b46f6e8f8dfb9b3b069d213454e61bf079776b9f4ff81f5c87e"], ["password_salt", "$2a$10$we5vmZwFaCdvDOKcoBCHw."], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE ("clerks"."email" = 'test12@test.com' AND "clerks"."id" != 2) LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "clerks" SET "password_salt" = ?, "encrypted_password" = ?, "updated_at" = ?, "address" = ? WHERE "clerks"."id" = 2[0m  [["password_salt", "$2a$10$iTN1j8H8SsEPX4A.iShJHu"], ["encrypted_password", "a5203047e5e9dee81dffffc4f364c6bdecaba2a661f2266159d9fe7225703f6c2a0e3a593e00d084e438f77f9faadb88f1ac778f1908f19834eb388a3120142d"], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk34\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test13@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk35\n"], ["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["email", "test13@test.com"], ["encrypted_password", "48b264a9d65a2776dbbd02d2e8daefdadbed27ffd8aff04111d44c963c39e8780e1e2d88089b00e7a5c30dd2089153c8c1d8ee2754f927232c2d6fae5ac83766"], ["password_salt", "$2a$10$8ElxGpWYZEoZ5ehqnMQ9vu"], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test14@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk36\n"], ["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["email", "test14@test.com"], ["encrypted_password", "f760191436f0e7be42710fb32a48b90070e467b053ed95c6e954e9accfdda12bba8f072271dd7689781f174a16e31798ff37350a9d9868611926766228aa9231"], ["password_salt", "$2a$10$.x2IwnKMyLcQBpqBFb4Fwu"], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test15@test.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test16@test.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test17@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk39\n"], ["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["email", "test17@test.com"], ["encrypted_password", "2fb8f0241303e45150f383097ae6c93a1f21a9c8781c300446b5039fb82c0bc01ef724aa3e020eeb8b1a4bc06299f2ab4866990e9276925bb7913b64eab16e66"], ["password_salt", "$2a$10$peYgZx427IpB/mFwDRitXe"], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test18@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk40\n"], ["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["email", "test18@test.com"], ["encrypted_password", "ca1d4aab32340ae935aa32eb05543b57a4f970b446e1b93b6bb149e1d77d3d04b7c231a10c6c777f9492cf56dbcffe7c9b07ae825550fae0817d464cc408ab1d"], ["password_salt", "$2a$10$DE7ZhshE3a6tnkD72JDZR."], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Load (0.3ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:03 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 16ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:03 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 16ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:03 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 15ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:03 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mClerk Load (0.4ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:03 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 16ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 45.0], ["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["inventory", 5], ["link", "product_81"], ["name", "product 81"], ["price", 90.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["name", "product 48"], ["price", 90.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 45.5], ["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["inventory", 5], ["link", "product_82"], ["name", "product 82"], ["price", 91.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["name", "product 49"], ["price", 91.0], ["product_id", 2], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["total_price", #<BigDecimal:7ffc85c38a28,'0.272E3',9(36)>], ["total_tax", #<BigDecimal:7ffc85c38820,'0.272E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 1  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:03.223273' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7ffc858e1ca8,'0.9E2',9(36)>], ["total_tax", #<BigDecimal:7ffc858e11e0,'0.9E1',9(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 2[0m  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:03.226445' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7ffc8593e4d0,'0.272E3',9(36)>], ["total_tax", #<BigDecimal:7ffc8593d990,'0.272E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "items" SET "basket_id" = NULL WHERE "items"."basket_id" = ? AND "items"."id" IN (2)  [["basket_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7ffc85a2f2b8,'0.9E2',9(36)>], ["total_tax", #<BigDecimal:7ffc85a2e7f0,'0.9E1',9(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 46.0], ["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["inventory", 5], ["link", "product_83"], ["name", "product 83"], ["price", 92.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["name", "product 50"], ["price", 92.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 46.5], ["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["inventory", 5], ["link", "product_84"], ["name", "product 84"], ["price", 93.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["name", "product 51"], ["price", 93.0], ["product_id", 2], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["total_price", #<BigDecimal:7ffc837491b8,'0.278E3',9(36)>], ["total_tax", #<BigDecimal:7ffc83748f10,'0.278E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 1[0m  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:03.255449' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7ffc83658268,'0.92E2',9(36)>], ["total_tax", #<BigDecimal:7ffc83653ad8,'0.92E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 2  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:03.259564' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7ffc83567b60,'0.278E3',9(36)>], ["total_tax", #<BigDecimal:7ffc83567700,'0.278E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 47.0], ["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["inventory", 5], ["link", "product_85"], ["name", "product 85"], ["price", 94.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["name", "product 52"], ["price", 94.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 47.5], ["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["inventory", 5], ["link", "product_86"], ["name", "product 86"], ["price", 95.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["name", "product 53"], ["price", 95.0], ["product_id", 2], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["total_price", #<BigDecimal:7ffc82b26840,'0.284E3',9(36)>], ["total_tax", #<BigDecimal:7ffc82b26228,'0.284E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 1  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:03.285894' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7ffc8b4339d0,'0.94E2',9(36)>], ["total_tax", #<BigDecimal:7ffc8b4337c8,'0.94E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 2[0m  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:03.303912' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7ffc8b4c9f98,'0.284E3',9(36)>], ["total_tax", #<BigDecimal:7ffc8b4c9b60,'0.284E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 48.0], ["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["inventory", 5], ["link", "product_87"], ["name", "product 87"], ["price", 96.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 48.5], ["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["inventory", 5], ["link", "product_88"], ["name", "product 88"], ["price", 97.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 49.0], ["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["inventory", 5], ["link", "product_89"], ["name", "product 89"], ["price", 98.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["total_price", #<BigDecimal:7ffc8b31bde0,'0.291E3',9(36)>], ["total_tax", #<BigDecimal:7ffc8b31bb88,'0.291E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["name", "product 54"], ["price", 96.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:03.328391' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7ffc8ae2bd58,'0.96E2',9(36)>], ["total_tax", #<BigDecimal:7ffc8ae2bba0,'0.96E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["name", "product 55"], ["price", 97.0], ["product_id", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:03.332618' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7ffc8b2e8508,'0.193E3',9(36)>], ["total_tax", #<BigDecimal:7ffc8b2e82d8,'0.193E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["name", "product 56"], ["price", 98.0], ["product_id", 3], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:03.337455' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7ffc8b51ba50,'0.291E3',9(36)>], ["total_tax", #<BigDecimal:7ffc8b51b7d0,'0.291E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 49.5], ["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["inventory", 5], ["link", "product_90"], ["name", "product 90"], ["price", 99.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["name", "product 57"], ["price", 99.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 50.0], ["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["inventory", 5], ["link", "product_91"], ["name", "product 91"], ["price", 100.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["name", "product 58"], ["price", 100.0], ["product_id", 2], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00], ["total_price", #<BigDecimal:7ffc8b4028d0,'0.299E3',9(36)>], ["total_tax", #<BigDecimal:7ffc8b4026c8,'0.299E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 1  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:03.358911' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7ffc8b3d1bb8,'0.99E2',9(36)>], ["total_tax", #<BigDecimal:7ffc8b3d19d8,'0.99E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 2[0m  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 10:48:03.362172' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7ffc8b339fc0,'0.299E3',9(36)>], ["total_tax", #<BigDecimal:7ffc8b339e08,'0.299E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "basket_id" = NULL WHERE "items"."basket_id" = ? AND "items"."id" IN (2)  [["basket_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7ffc894b4320,'0.99E2',9(36)>], ["total_tax", #<BigDecimal:7ffc894b4118,'0.99E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 10:48:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:03 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:03 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 15ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:03 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:03 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 19ms
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:03 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 19ms
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:03 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 15ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:03 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 16ms
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.3ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:03 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 13ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:03 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:03 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 26ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:03 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:03 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 20ms
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:03 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 19ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:03 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 13ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 10:48:26 UTC +00:00], ["email", "admin@important.me"], ["encrypted_password", "5ce2bb51d8614fac7ce632c910e53808999929fa73db6c0d92949544312a43b5bb1b4ed75abc2cfce792705c9b894b679c424144130c6a8a77f36f579c20a1f7"], ["password_salt", "$2a$10$iz7VzkEwQJXy0GWRqiyApu"], ["updated_at", Wed, 12 Nov 2014 10:48:26 UTC +00:00]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "baskets";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'baskets';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "categories";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'categories';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "clerks";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM sqlite_sequence where name = 'clerks';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "items";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'items';[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "orders";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'orders';
  [1m[36m (0.8ms)[0m  [1mDELETE FROM "products";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'products';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "purchases";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'purchases';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "suppliers";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'suppliers';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk1\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 10:48:26 UTC +00:00], ["email", "admin1@test.com"], ["encrypted_password", "e9c64bce8da48ea2b4a222461fa3afaaf10055e6ea57d1ce0c8ed4f3af353e9e6a85156928d6c48309acab85bf97d08ffe1e419bd00cef5e7c44a6ebab04a81d"], ["password_salt", "$2a$10$WrUm.QY8q2koADbfJqJcmu"], ["updated_at", Wed, 12 Nov 2014 10:48:26 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:26 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (275.9ms)
Completed 500 Internal Server Error in 354ms
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk2\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 10:48:26 UTC +00:00], ["email", "admin2@test.com"], ["encrypted_password", "948589b845ce5f24b3e197642c189037fd8bbcd00ca0224f3f81cd45b409333bec4846668ca0acae4732a79e9b2103f112750892b51e225d298b4e9ee7985429"], ["password_salt", "$2a$10$hthzHs/.NYy0BvOhuAgiau"], ["updated_at", Wed, 12 Nov 2014 10:48:26 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:26 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.8ms)
Completed 500 Internal Server Error in 56ms
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin3@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk3\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 10:48:26 UTC +00:00], ["email", "admin3@test.com"], ["encrypted_password", "12494aea3d83e34659d9661bb85da5e0249aa72787b9086c7020234635569a1491746d2051b509096aae0601180ded75679400c9c9b8416b7663bd92470053b6"], ["password_salt", "$2a$10$JdrIwzp0hR9EOENh8nOOQu"], ["updated_at", Wed, 12 Nov 2014 10:48:26 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 12:48:26 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (1.0ms)
Completed 500 Internal Server Error in 12ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:21:02 UTC +00:00], ["email", "admin@important.me"], ["encrypted_password", "175057065c91353b4f23dd6afda7376c602066c3984ae601297fc6436a8d3056ddb1aab62d9dbbb3e20283ade2d923bd6df6838180ab863ea05de45196721544"], ["password_salt", "$2a$10$GHpw8MB0totMhk5iSEHaE."], ["updated_at", Wed, 12 Nov 2014 11:21:02 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "baskets";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'baskets';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "categories";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'categories';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "clerks";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM sqlite_sequence where name = 'clerks';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "items";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'items';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "orders";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'orders';
  [1m[36m (0.8ms)[0m  [1mDELETE FROM "products";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'products';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "purchases";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'purchases';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "suppliers";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'suppliers';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk1\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:21:02 UTC +00:00], ["email", "admin1@test.com"], ["encrypted_password", "b8ddff8b2565f7d6e0eedfb157cb5b1dfe48287a2410bf73ddbc552dc8ab3515a9454c418d1a107bdb2a55932e56294f0cab5ca49336e64e0a5394116dc40871"], ["password_salt", "$2a$10$BDU91UX.5Zfkk2Dir77LUu"], ["updated_at", Wed, 12 Nov 2014 11:21:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:02 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (341.2ms)
Completed 500 Internal Server Error in 418ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk2\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:21:02 UTC +00:00], ["email", "admin2@test.com"], ["encrypted_password", "0cb938861899683271d42f404a0d843cc1582830afdf058e25124a629ed4f16d6afe88c56cb94d65d9530c10616847188acf029890d3ddd2beebb7f2074e6c5a"], ["password_salt", "$2a$10$063LY8oxjttqAMWwQEoIne"], ["updated_at", Wed, 12 Nov 2014 11:21:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:02 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.7ms)
Completed 500 Internal Server Error in 11ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin3@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk3\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:21:02 UTC +00:00], ["email", "admin3@test.com"], ["encrypted_password", "6c52f1650870fddeb633fa1be7202d69d6ca7c53473acbc1ccdb9d04b800dc1ed288be26695bfa18add337c31c355ca918a7e011709411422bc932e7eb9a9f90"], ["password_salt", "$2a$10$RMlkiKNL/51qHjsc72trje"], ["updated_at", Wed, 12 Nov 2014 11:21:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:02 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.8ms)
Completed 500 Internal Server Error in 17ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin4@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk4\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:21:02 UTC +00:00], ["email", "admin4@test.com"], ["encrypted_password", "d640f65aad88ccc5b6b5b618d293e0fd60694e8ad88bf3012399c72dedd0f5c0be482b3786d5bfb8ef2f1f43e0869adc4f2d902cd91d2101a0a59fa345885cba"], ["password_salt", "$2a$10$xOJxjx2MEeHtsuEPxebRLO"], ["updated_at", Wed, 12 Nov 2014 11:21:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:02 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.7ms)
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Load (0.3ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin5@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk5\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:21:02 UTC +00:00], ["email", "admin5@test.com"], ["encrypted_password", "5ccbe1ed2f53b06d846c063a37de677372aaff86b0c18eeb10f9d241e33ba055949ca6316cc32e69a1238d4641aa8763264197147c4633a528654da7ac50d54e"], ["password_salt", "$2a$10$ngrYw4Is2ZvOrk4/JMvlxe"], ["updated_at", Wed, 12 Nov 2014 11:21:02 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:02 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.7ms)
Completed 500 Internal Server Error in 12ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.2ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin6@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk6\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["email", "admin6@test.com"], ["encrypted_password", "bd23525a24c0d8a689c5fa6c20f1d309f42f267fed604a060188c9a7871b7c9d173755d51b105e7b8595b7278f8ece3281abf680a6e7965ad9be08b547c3fbf0"], ["password_salt", "$2a$10$B0jXNINAv0uKV5IXPeCAb."], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:03 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.9ms)
Completed 500 Internal Server Error in 11ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin7@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk7\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["email", "admin7@test.com"], ["encrypted_password", "79923d619d85282b4b2996f2504cb80e7d255811df1b25775d17d032c1ced45bfc6e144762ed6be9635f916bf18e4269c4629c64acbcb97addeed52486e4d8e8"], ["password_salt", "$2a$10$YSDjmDOkHpEc3hBsGUSfe."], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:03 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.7ms)
Completed 500 Internal Server Error in 13ms
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin8@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk8\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["email", "admin8@test.com"], ["encrypted_password", "ccf349753881589c92e57d1e35d5a08859a466e2f55780991f8804976ce40c8fb379d60e2538fc5b85e20a8039530308956455f1b62554872e83fd804054f789"], ["password_salt", "$2a$10$njgfHsiBwRTB7MpnX.k3Ie"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:03 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (2.3ms)
Completed 500 Internal Server Error in 16ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin9@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk9\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["email", "admin9@test.com"], ["encrypted_password", "d717e703f843b8674e827bb79126c1ab2f921b8f682d7c73de70374beb954647cfd26ca3201adc218597965136313a0e3660a8f8ca7369976b6716f87f177197"], ["password_salt", "$2a$10$PAunNpR567NiylZbxqLyJ."], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:03 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.8ms)
Completed 500 Internal Server Error in 17ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin10@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk10\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["email", "admin10@test.com"], ["encrypted_password", "8547d2619563c2abf5b3ce0a8c19602c5bd54d20235f0c010b9ba131fe66362c60df6d1f9986bd9de7c6be5d6ef4776e3e9f0655411b4a390d4a0dd10ae3aac4"], ["password_salt", "$2a$10$pQ1B9m46CbI.tE4CAti7ce"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:03 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (1.5ms)
Completed 500 Internal Server Error in 57ms
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin11@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk11\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["email", "admin11@test.com"], ["encrypted_password", "72c137f8be6beb452dae1754beb70a713dd3b26ad1765c4080eb84eb5476453eb43b04773a6dbc6cc00f72e077380d62afa668e9dfbbe6ca6265f48c94638f1d"], ["password_salt", "$2a$10$KsKsBmI70.JUxDbWpXZop."], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:03 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.8ms)
Completed 500 Internal Server Error in 11ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin12@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk12\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["email", "admin12@test.com"], ["encrypted_password", "970e5593817d39f155d94528d1e796de4c0b58b46b74ae7adede047bd11cae9cc6f431176c81f1b6f44a0c3054457d11e0c21540075defaf8b51cc087c6bb0b9"], ["password_salt", "$2a$10$d806ENdizqmcScVlDgzate"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:03 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.8ms)
Completed 500 Internal Server Error in 12ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin13@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk13\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["email", "admin13@test.com"], ["encrypted_password", "89afa4abd07453fa4dd109738cd30fe5e020516493ca11ba518c252338abf8dadec276877e7fd671eb67eafceb7ff5f3200f00043f42a3aec985ef3d398c923a"], ["password_salt", "$2a$10$x7cV54mzaPChn.yQxlYbLe"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:03 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.8ms)
Completed 500 Internal Server Error in 15ms
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin14@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk14\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["email", "admin14@test.com"], ["encrypted_password", "7267544cc7b26d3351fd2d8d47ca1bcba4c207f302bf9750932b4384a310e2c21f4d859f07c332681dfe94b78a5f257268faa33dcbc39b776397a51d43069520"], ["password_salt", "$2a$10$lZwvDdntzInZVpZqKxETZe"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:03 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.8ms)
Completed 500 Internal Server Error in 15ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin15@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk15\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["email", "admin15@test.com"], ["encrypted_password", "7cc32f24c7b450653d87ed7732341c5da97e310d1797b669e7938a64c20c694db6d9233b79fa7d7a3d88a9000a2375a1c087daa7c0cd7699bdbc2526ebcd4fe9"], ["password_salt", "$2a$10$Yoe4kOlMEH6Q35qC5PL3S."], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:03 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.8ms)
Completed 500 Internal Server Error in 16ms
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin16@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk16\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["email", "admin16@test.com"], ["encrypted_password", "08b4b7705f743868d0edfe1dcb734e1535e9306917911b86208251e931ec2968be94cddecc8cf30f26817db19d222a205c4e46046c0caba5e94505437fdbd3ab"], ["password_salt", "$2a$10$ZPc/PVsHSCzzZo73r.jUGO"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:03 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.9ms)
Completed 500 Internal Server Error in 15ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin17@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk17\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["email", "admin17@test.com"], ["encrypted_password", "dd8913e8c86da88894cad88bea2fe4342ba7ea58b50c23a167999a2e9ffa5e50c39643b547e9d54e1df119b8426d7dc324724d64fe5d5c50f6b5d16aca51933d"], ["password_salt", "$2a$10$q5H54tUFcnouLARkGXqizu"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:03 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.8ms)
Completed 500 Internal Server Error in 16ms
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin18@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk18\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["email", "admin18@test.com"], ["encrypted_password", "aa17454bc4e389b6ea990c6bc1aa13cf4cfaa2bbe7379c7efc1c4a3891c67380cbb9849752e606d065700d36ec471cab56904337e44c7a8eec4c23fceaea054b"], ["password_salt", "$2a$10$9kdprle2mQBUA91zaLGtRO"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:03 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (1.1ms)
Completed 500 Internal Server Error in 15ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.4ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin19@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk19\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["email", "admin19@test.com"], ["encrypted_password", "f144dc69db5678d9ff43a7ec5dba5f977c51c31eabf512f3fee316e6c8a3ca107e7f4f1a37aadbf5b8bf5ae56c7c72eccd00144d39d6c17149abdc677447bc0d"], ["password_salt", "$2a$10$Cg240gOlTigVb.DlmF1nI."], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:03 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.8ms)
Completed 500 Internal Server Error in 12ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin20@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk20\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["email", "admin20@test.com"], ["encrypted_password", "9ffbd0eb9c394e11742feb89a7b430f94b1e29c4d7fe86d6b27b99c4b9e8ea10548f02f7a9e4d2005980b93517181541905d03c8137c5b6eba9bbf925d2d89ee"], ["password_salt", "$2a$10$jP62FCN.HOIBE5htSI2nk."], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:03 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.8ms)
Completed 500 Internal Server Error in 17ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin21@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk21\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["email", "admin21@test.com"], ["encrypted_password", "457927e9c1d7c64028a8ddc6ad5811dc6cc6c46dd180a52e4d1531cbf8f2eef04759355e71bcc14f9c0a351fc2aa052d466ed4e25a879c4a474f3febe3280c1c"], ["password_salt", "$2a$10$GFKkRQYQgwagvQMNjWurMO"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:03 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.7ms)
Completed 500 Internal Server Error in 17ms
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin22@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk22\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["email", "admin22@test.com"], ["encrypted_password", "c435aae8953254b3442e124f32e65e9ed9d29d9b7fdf041808f3b9dbc74b3191d8bf90bdfc967f9bc552e9f7643fd7cd08a03aa750e3fa264ac39689aaf1d50e"], ["password_salt", "$2a$10$h/wKJ8v72dw.ryYN4JhjVu"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:03 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.8ms)
Completed 500 Internal Server Error in 17ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 5.0], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["inventory", 5], ["link", "product_1"], ["name", "product 1"], ["price", 10.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["total_price", #<BigDecimal:7fd4694811c0,'0.1E2',9(36)>], ["total_tax", #<BigDecimal:7fd469481008,'0.1E1',9(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["name", "product 1"], ["price", 10.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:03.523606' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at DESC LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("address", "created_at", "email", "number", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["email", "test1@test.com"], ["number", "R201430000"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["kori_type", "Order"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 5.5], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["inventory", 5], ["link", "product_2"], ["name", "product 2"], ["price", 11.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["total_price", #<BigDecimal:7fd4695b1c98,'0.11E2',9(36)>], ["total_tax", #<BigDecimal:7fd4695b19a0,'0.11E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["name", "product 2"], ["price", 11.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:03.542082' WHERE "baskets"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("address", "created_at", "email", "number", "updated_at") VALUES (?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["email", "test2@test.com"], ["number", "R201430000"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Order"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 6.0], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["inventory", 5], ["link", "product_3"], ["name", "product 3"], ["price", 12.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["total_price", #<BigDecimal:7fd46968bc68,'0.12E2',9(36)>], ["total_tax", #<BigDecimal:7fd46968ba60,'0.12E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["name", "product 3"], ["price", 12.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:03.558132' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at DESC LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("address", "created_at", "email", "number", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["email", "test3@test.com"], ["number", "R201430000"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["kori_type", "Order"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 6.5], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["inventory", 5], ["link", "product_4"], ["name", "product 4"], ["price", 13.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mItem Load (0.2ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ? AND "items"."product_id" = 1 ORDER BY "items"."id" ASC LIMIT 1[0m  [["basket_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["name", "product 4"], ["price", 13.0], ["product_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:03.584267' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7fd4697da948,'0.13E2',9(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ? AND "items"."product_id" = 1 ORDER BY "items"."id" ASC LIMIT 1  [["basket_id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "quantity" = ?, "updated_at" = ? WHERE "items"."id" = 1  [["quantity", 2], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:03.589087' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7fd469839f88,'0.26E2',9(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 7.0], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["inventory", 5], ["link", "product_5"], ["name", "product 5"], ["price", 14.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ? AND "items"."product_id" = 1 ORDER BY "items"."id" ASC LIMIT 1  [["basket_id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["name", "product 5"], ["price", 14.0], ["product_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:03.600443' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7fd4698eb350,'0.14E2',9(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.3ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin23@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk23\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["email", "admin23@test.com"], ["encrypted_password", "7d245ebe45fc49844b30b27414011deef1516986666f747e30f166438ba54a71736090903280ef86b46d8535467d555ceccf55230e1e8d2a28249f894b6720be"], ["password_salt", "$2a$10$WCVeTLSfuHy//9JkaES11e"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"admin23@test.com"}
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin23@test.com' ORDER BY "clerks"."id" ASC LIMIT 1
Redirected to http://test.host/baskets
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test1@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk24\n"], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["email", "test1@test.com"], ["encrypted_password", "2897159bbbce1908302e5d4afb85820866126b02dbba9632dd8247952358cbd522f63111987c78825ddc7e41b80a9ba4f8e8211f2f91b7917a9865c423ee166d"], ["password_salt", "$2a$10$aAZXMFDk9DqPut.SO6/HWe"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 'f' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"test1@test.com"}
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'test1@test.com' ORDER BY "clerks"."id" ASC LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 7.5], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["inventory", 5], ["link", "product_6"], ["name", "product 6"], ["price", 15.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["total_price", #<BigDecimal:7fd469ca36c8,'0.15E2',9(36)>], ["total_tax", #<BigDecimal:7fd469ca3510,'0.15E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["name", "product 4"], ["price", 15.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:03.657302' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["name", "purchase 1"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 8.0], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["inventory", 5], ["link", "product_7"], ["name", "product 7"], ["price", 16.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["total_price", #<BigDecimal:7fd469df2ce0,'0.16E2',9(36)>], ["total_tax", #<BigDecimal:7fd469df2a38,'0.16E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["name", "product 5"], ["price", 16.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:03.671476' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["name", "purchase 2"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1  [["inventory", 6], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "baskets" SET "locked" = ?, "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["locked", Wed, 12 Nov 2014], ["total_price", #<BigDecimal:7fd469eaa110,'0.8E1',9(36)>], ["total_tax", #<BigDecimal:7fd469ea9e40,'0.8E0',9(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "items" SET "price" = ?, "updated_at" = ? WHERE "items"."id" = 1[0m  [["price", 8.0], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:03.681591' WHERE "baskets"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "purchases" SET "ordered_on" = ?, "received_on" = ?, "updated_at" = ? WHERE "purchases"."id" = 1[0m  [["ordered_on", Wed, 12 Nov 2014], ["received_on", Wed, 12 Nov 2014], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 8.5], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["inventory", 5], ["link", "product_8"], ["name", "product 8"], ["price", 17.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["total_price", #<BigDecimal:7fd469f40750,'0.17E2',9(36)>], ["total_tax", #<BigDecimal:7fd469f40598,'0.17E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["name", "product 6"], ["price", 17.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:03.692748' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["name", "purchase 3"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "purchases" SET "ordered_on" = ?, "updated_at" = ? WHERE "purchases"."id" = 1  [["ordered_on", Wed, 12 Nov 2014], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 9.0], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["inventory", 5], ["link", "product_9"], ["name", "product 9"], ["price", 18.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["total_price", #<BigDecimal:7fd469fe9ee0,'0.18E2',9(36)>], ["total_tax", #<BigDecimal:7fd469fe9cd8,'0.18E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["name", "product 7"], ["price", 18.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:03.708944' WHERE "baskets"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["name", "purchase 4"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1[0m  [["inventory", 1], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "locked" = ?, "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["locked", Wed, 12 Nov 2014], ["total_price", #<BigDecimal:7fd46477c1e0,'-0.36E2',9(36)>], ["total_tax", #<BigDecimal:7fd46477c028,'-0.36E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "quantity" = ?, "price" = ?, "updated_at" = ? WHERE "items"."id" = 1  [["quantity", -4], ["price", 9.0], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:03.717341' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "purchases" SET "ordered_on" = ?, "received_on" = ?, "updated_at" = ? WHERE "purchases"."id" = 1  [["ordered_on", Wed, 12 Nov 2014], ["received_on", Wed, 12 Nov 2014], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 9.5], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["inventory", 5], ["link", "product_10"], ["name", "product 10"], ["price", 19.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["total_price", #<BigDecimal:7fd469b6b490,'0.19E2',9(36)>], ["total_tax", #<BigDecimal:7fd469b6b2d8,'0.19E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["name", "product 8"], ["price", 19.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:03.731783' WHERE "baskets"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["name", "purchase 5"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1[0m  [["inventory", 6], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "locked" = ?, "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["locked", Wed, 12 Nov 2014], ["total_price", #<BigDecimal:7fd469d63ab8,'0.95E1',18(36)>], ["total_tax", #<BigDecimal:7fd469d63900,'0.95E0',9(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "price" = ?, "updated_at" = ? WHERE "items"."id" = 1  [["price", 9.5], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:03.739539' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "purchases" SET "ordered_on" = ?, "received_on" = ?, "updated_at" = ? WHERE "purchases"."id" = 1  [["ordered_on", Wed, 12 Nov 2014], ["received_on", Wed, 12 Nov 2014], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin24@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk25\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["email", "admin24@test.com"], ["encrypted_password", "b03ed883240c5a4d0752444777e1bab6b6a4ea441d3e728456b4bea2b464c18daf22f1c463d28d6852ce515944802d20aea625c5743e32cee88d5e7d85c36c47"], ["password_salt", "$2a$10$tTf9Etyy3mmNc0gITsEtge"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:03 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 13ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin25@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk26\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["email", "admin25@test.com"], ["encrypted_password", "ea205756afaa662a842d02748f171e2bac242b8a1d8223b8ec16c766c5654d15f08131c68b299e9ef5014c7024b3046d1f1d94be2b83eae7dfd765c4763bcec1"], ["password_salt", "$2a$10$sEtMdx1lsg612Pph14O1re"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:03 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 12ms
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin26@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk27\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["email", "admin26@test.com"], ["encrypted_password", "e91a4aef88e84119306549b98f9440461ed4ad28508bd11dbe220872326e90cd308a06a9d22ee3466bc884ea92ddbba6b108e1a160980dcbc7010948fceb65b6"], ["password_salt", "$2a$10$1cfxvUYi.jnOOBsIV83wTu"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "baskets"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by BasketsController#index as HTML
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by BasketsController#new as HTML
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "baskets"[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by BasketsController#create as HTML
  Parameters: {"basket"=>{}}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by BasketsController#create as HTML
  Parameters: {"basket"=>{}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by BasketsController#create as HTML
  Parameters: {"basket"=>{}}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by BasketsController#update as HTML
  Parameters: {"basket"=>{}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by BasketsController#update as HTML
  Parameters: {"basket"=>{}, "id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by BasketsController#update as HTML
  Parameters: {"basket"=>{"some"=>"thing_to_stop_erros"}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by BasketsController#show as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "baskets"
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by BasketsController#destroy as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by BasketsController#destroy as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by BasketsController#edit as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 10.0], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["inventory", 5], ["link", "product_11"], ["name", "product 11"], ["price", 20.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC[0m  [["product_id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "products" SET "inventory" = ?, "deleted_on" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1[0m  [["inventory", 0], ["deleted_on", Wed, 12 Nov 2014], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."id" = 1 ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 10.5], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["inventory", 5], ["link", "product_12"], ["name", "product 12"], ["price", 21.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 11.0], ["created_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00], ["inventory", 5], ["link", "product_13"], ["name", "product 13"], ["price", 22.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:03 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 11.5], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["inventory", 5], ["link", "product_14"], ["name", "product 14"], ["price", 23.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC[0m  [["product_id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "ean", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 12.0], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["ean", "1234"], ["inventory", 5], ["link", "product_15"], ["name", "product 15"], ["price", 24.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("cost", "created_at", "link", "name", "price", "product_id", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 12.0], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["link", ""], ["name", "my unique name"], ["price", 24.0], ["product_id", 1], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT SUM("products"."inventory") AS sum_id FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ?  [["product_id", 1]]
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "products" SET "inventory" = ?, "ean" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1  [["inventory", 0], ["ean", ""], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 12.5], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["inventory", 5], ["link", "product_16"], ["name", "product 16"], ["price", 25.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 13.0], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["inventory", 5], ["link", "product_17"], ["name", "product 17"], ["price", 26.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "product_id", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 13.5], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["inventory", 5], ["link", ""], ["name", "product 18"], ["price", 27.0], ["product_id", 1], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SELECT SUM("products"."inventory") AS sum_id FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ?  [["product_id", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "products" SET "updated_at" = ?, "properties" = ? WHERE "products"."id" = 2[0m  [["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSELECT SUM("products"."inventory") AS sum_id FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ?[0m  [["product_id", 1]]
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 14.0], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["inventory", 5], ["link", "product_19"], ["name", "product 19"], ["price", 28.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "product_id", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 14.5], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["inventory", 5], ["link", ""], ["name", "product 20"], ["price", 29.0], ["product_id", 1], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SELECT SUM("products"."inventory") AS sum_id FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ?  [["product_id", 1]]
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "suppliers" ("address", "created_at", "supplier_name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["supplier_name", "MyString"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:04 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 11ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:04 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 12ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:04 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 12ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "baskets" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Processing by ClerksController#new as HTML
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Processing by ClerksController#create as HTML
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by ClerksController#create as HTML
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by ClerksController#update as HTML
  Parameters: {"id"=>"ignored"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Processing by ClerksController#edit as HTML
  Parameters: {"id"=>"ignored"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test2@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk28\n"], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["email", "test2@test.com"], ["encrypted_password", "297ea3cb4f23517b0d6958b223fb8c9391febee5edc5c60c2b40e7569d3bc004bedbe07734c265e240b93200b5de9aaaea502db7b6cbbdfa94cea968bf737345"], ["password_salt", "$2a$10$vqw4a2Y62zR76GR8o5frP."], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:04 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 23ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test3@test.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test4@test.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test5@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk31\n"], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["email", "test5@test.com"], ["encrypted_password", "aa189e9226cd7450e3ff93795ada3030aef93fb3bbbe921c930345d1f8405cabda48bebca810346ebf1d18c668711b1657cb9b3a8cba8e16d16d16b5c3236ffa"], ["password_salt", "$2a$10$Jgkn.7mhZoNMBmI8EcxSFu"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test6@test.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test7@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk33\n"], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["email", "test7@test.com"], ["encrypted_password", "b7d4baa29262f55f76126627e1fb3c6718dbb985fb64069cd5356da4c291f8c204b7b91c2289f0b24db6d7fb6a0bcacb1affe409e533a8d4b4198d6496506e98"], ["password_salt", "$2a$10$XJ/7S4sxzypMgX6gMmx/Re"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test8@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk34\n"], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["email", "test8@test.com"], ["encrypted_password", "2813883e482e6750594fdb65efa730e313c25e1d5ef66125a310f95ca44d8508e903b085431e32464ec187b82fa0aedfc58fa6e31d40915a9adec0feda4cd5e9"], ["password_salt", "$2a$10$DDXUn6npgYybHdWRoRFojO"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE ("clerks"."email" = 'test8@test.com' AND "clerks"."id" != 2) LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "clerks" SET "password_salt" = ?, "encrypted_password" = ?, "updated_at" = ?, "address" = ? WHERE "clerks"."id" = 2[0m  [["password_salt", "$2a$10$HDy3MK1T82JdbAOhRlqzl."], ["encrypted_password", "468c41465cd47e8787f12b5feedde0b0502fff4a3cdc22dbc6f9c34f55e6a05d8637ea530a293ca75bfc0aca52196904a643c7e158d8ed702d3a3c35a831d183"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk34\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.2ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test9@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk35\n"], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["email", "test9@test.com"], ["encrypted_password", "b2dc6316b7661e8bce2a61a7a6bee5312967deaa55091e3476293f1458ab5e5d25b8a545ad8b7b9b8124d936e9b1771362137aa4093241331fdcddc15e73260b"], ["password_salt", "$2a$10$Zwf/Ed3C/08N0rwcQkaas."], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.2ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test10@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk36\n"], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["email", "test10@test.com"], ["encrypted_password", "5a4ec2bcf8eeda559f328a67412069b34ec2f1ca6d12db7f4cbc04de42cc011775d2a222674955c216b686fe017339a0007131b2502e398209719ff6efd39f5a"], ["password_salt", "$2a$10$kI3PySTLe941tDwAaFpDv."], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test11@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk37\n"], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["email", "test11@test.com"], ["encrypted_password", "fa4ce6c6800b9fae87b9ba65948727a2f0b66e25a7a5b4ea04e9e8622443095b738aaa684f064e481626ccd4ddb775b3f447d18d1e320452d0f5da057372cd82"], ["password_salt", "$2a$10$4ZPedU/zez3TXU3s/mzlCu"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test12@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk38\n"], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["email", "test12@test.com"], ["encrypted_password", "0d39440561374a1fb34f742c66aebda21e8a9f05eb936d018f7e96a58126be31493c5f3b6077ea6b0c6729a281b1d6d5f9272b02d17783d2b07df10500217bf1"], ["password_salt", "$2a$10$eQ.uBj5GdGKtODfA.bWdXu"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test13@test.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test14@test.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "online", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 15.0], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["inventory", 5], ["link", "product_21"], ["name", "product 21"], ["online", true], ["price", 30.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "categories" ("created_at", "link", "name", "online", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["link", "gourmet1"], ["name", "Gourmet1"], ["online", true], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "products" SET "category_id" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1[0m  [["category_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/prod/product_21" for 127.0.0.1 at 2014-11-12 13:21:04 +0200
Processing by ShopController#product as HTML
  Parameters: {"link"=>"product_21"}
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) AND "products"."link" = 'product_21' ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."id" = ? ORDER BY position LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 22ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "online", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 15.5], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["inventory", 5], ["link", "product_22"], ["name", "product 22"], ["online", true], ["price", 31.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("created_at", "link", "name", "online", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["link", "gourmet2"], ["name", "Gourmet2"], ["online", true], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "products" SET "category_id" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1[0m  [["category_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/prod/product_22" for 127.0.0.1 at 2014-11-12 13:21:04 +0200
Processing by ShopController#product as HTML
  Parameters: {"link"=>"product_22"}
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) AND "products"."link" = 'product_22' ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."id" = ? ORDER BY position LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 15ms
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "online", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 16.0], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["inventory", 5], ["link", "product_23"], ["name", "product 23"], ["online", true], ["price", 32.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "categories" ("created_at", "link", "name", "online", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["link", "gourmet3"], ["name", "Gourmet3"], ["online", true], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.2ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "products" SET "category_id" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1[0m  [["category_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2014-11-12 13:21:04 +0200
Processing by ShopController#group as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."online" = 't' AND "categories"."link" IS NULL ORDER BY position LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."online" = 't' AND "categories"."category_id" IS NULL ORDER BY position
Completed 500 Internal Server Error in 19ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "online", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 16.5], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["inventory", 5], ["link", "product_24"], ["name", "product 24"], ["online", true], ["price", 33.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "categories" ("created_at", "link", "name", "online", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["link", "gourmet4"], ["name", "Gourmet4"], ["online", true], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "products" SET "category_id" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1[0m  [["category_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/prod/no_such_thing" for 127.0.0.1 at 2014-11-12 13:21:04 +0200
Processing by ShopController#product as HTML
  Parameters: {"link"=>"no_such_thing"}
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) AND "products"."link" = 'no_such_thing' ORDER BY created_at DESC LIMIT 1[0m
Redirected to http://www.example.com/group/no_such_thing
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/group/no_such_thing" for 127.0.0.1 at 2014-11-12 13:21:04 +0200
Processing by ShopController#group as HTML
  Parameters: {"link"=>"no_such_thing"}
  [1m[35mCategory Load (0.1ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."online" = 't' AND "categories"."link" = 'no_such_thing' ORDER BY position LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."online" = 't' AND "categories"."category_id" IS NULL ORDER BY position[0m
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "online", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 17.0], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["inventory", 5], ["link", "product_25"], ["name", "product 25"], ["online", true], ["price", 34.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "online", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["link", "gourmet5"], ["name", "Gourmet5"], ["online", true], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "products" SET "category_id" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1  [["category_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/prod/product_25" for 127.0.0.1 at 2014-11-12 13:21:04 +0200
Processing by ShopController#product as HTML
  Parameters: {"link"=>"product_25"}
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) AND "products"."link" = 'product_25' ORDER BY created_at DESC LIMIT 1
  [1m[36mCategory Load (0.0ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? ORDER BY position LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 15ms
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "online", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 17.5], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["inventory", 5], ["link", "product_26"], ["name", "product 26"], ["online", true], ["price", 35.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "online", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["link", "gourmet6"], ["name", "Gourmet6"], ["online", true], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "products" SET "category_id" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1  [["category_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/prod/product_26" for 127.0.0.1 at 2014-11-12 13:21:04 +0200
Processing by ShopController#product as HTML
  Parameters: {"link"=>"product_26"}
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) AND "products"."link" = 'product_26' ORDER BY created_at DESC LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? ORDER BY position LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 15ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "online", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 18.0], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["inventory", 5], ["link", "product_27"], ["name", "product 27"], ["online", true], ["price", 36.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "online", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["link", "gourmet7"], ["name", "Gourmet7"], ["online", true], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "products" SET "category_id" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1  [["category_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/prod/product_27" for 127.0.0.1 at 2014-11-12 13:21:04 +0200
Processing by ShopController#product as HTML
  Parameters: {"link"=>"product_27"}
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) AND "products"."link" = 'product_27' ORDER BY created_at DESC LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? ORDER BY position LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 16ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Started GET "/page/tuotteista" for 127.0.0.1 at 2014-11-12 13:21:04 +0200
Processing by ShopController#page as HTML
  Parameters: {"id"=>"tuotteista"}
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) ORDER BY created_at DESC LIMIT 50
Completed 500 Internal Server Error in 25ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "online", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 18.5], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["inventory", 5], ["link", "product_28"], ["name", "product 28"], ["online", true], ["price", 37.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "categories" ("created_at", "link", "name", "online", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["link", "gourmet8"], ["name", "Gourmet8"], ["online", true], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "products" SET "category_id" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1[0m  [["category_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/prod/product_28" for 127.0.0.1 at 2014-11-12 13:21:04 +0200
Processing by ShopController#product as HTML
  Parameters: {"link"=>"product_28"}
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) AND "products"."link" = 'product_28' ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."id" = ? ORDER BY position LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 21ms
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Started GET "/welcome" for 127.0.0.1 at 2014-11-12 13:21:04 +0200
Processing by ShopController#welcome as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."online" = 't' AND "categories"."category_id" IS NULL ORDER BY position[0m
Completed 500 Internal Server Error in 24ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "online", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 19.0], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["inventory", 5], ["link", "product_29"], ["name", "product 29"], ["online", true], ["price", 38.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "online", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["link", "gourmet9"], ["name", "Gourmet9"], ["online", true], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "products" SET "category_id" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1  [["category_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/group/gourmet9" for 127.0.0.1 at 2014-11-12 13:21:04 +0200
Processing by ShopController#group as HTML
  Parameters: {"link"=>"gourmet9"}
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories" WHERE "categories"."online" = 't' AND "categories"."link" = 'gourmet9' ORDER BY position LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories" WHERE "categories"."category_id" = ? AND "categories"."online" = 't' ORDER BY position[0m  [["category_id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."category_id" = ? AND "products"."online" = 't' AND "products"."product_id" IS NULL AND (inventory > 0) ORDER BY created_at DESC  [["category_id", 1]]
Completed 500 Internal Server Error in 29ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:04 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:04 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 13ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:04 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 17ms
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.4ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:04 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 13ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mClerk Load (0.5ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "suppliers"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "suppliers" ("address", "created_at", "supplier_name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["supplier_name", "MyString"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by SuppliersController#index as HTML
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by SuppliersController#new as HTML
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "suppliers"
  [1m[36mClerk Load (0.3ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by SuppliersController#create as HTML
  Parameters: {"supplier"=>{"supplier_name"=>"MyString"}}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by SuppliersController#create as HTML
  Parameters: {"supplier"=>{"supplier_name"=>"MyString"}}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by SuppliersController#create as HTML
  Parameters: {"supplier"=>{"supplier_name"=>"MyString"}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by SuppliersController#create as HTML
  Parameters: {"supplier"=>{"name"=>""}}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by SuppliersController#create as HTML
  Parameters: {"supplier"=>{"name"=>""}}
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "suppliers" ("address", "created_at", "supplier_name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["supplier_name", "MyString"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by SuppliersController#update as HTML
  Parameters: {"supplier"=>{"supplier_name"=>"MyString"}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "suppliers" ("address", "created_at", "supplier_name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["supplier_name", "MyString"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by SuppliersController#update as HTML
  Parameters: {"supplier"=>{"name"=>""}, "id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "suppliers" ("address", "created_at", "supplier_name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["supplier_name", "MyString"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by SuppliersController#update as HTML
  Parameters: {"supplier"=>{"name"=>""}, "id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "suppliers" ("address", "created_at", "supplier_name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["supplier_name", "MyString"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by SuppliersController#show as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "suppliers" ("address", "created_at", "supplier_name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["supplier_name", "MyString"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "suppliers"[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by SuppliersController#destroy as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "suppliers" ("address", "created_at", "supplier_name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["supplier_name", "MyString"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by SuppliersController#destroy as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "suppliers" ("address", "created_at", "supplier_name", "updated_at") VALUES (?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["supplier_name", "MyString"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by SuppliersController#edit as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin27@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk41\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00], ["email", "admin27@test.com"], ["encrypted_password", "f541384b736a78896ea84403571f02d1c93f22601ce97c9c4ef88fbe32fd7f632215a98929449a38fdbbfc6fa5043dedb666327c00b6c1ca307019d445e90b3a"], ["password_salt", "$2a$10$WDptNK./sZhROVLXLu6Ecu"], ["updated_at", Wed, 12 Nov 2014 11:21:04 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:04 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 15ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/suppliers" for 127.0.0.1 at 2014-11-12 13:21:04 +0200
Processing by SuppliersController#index as HTML
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:04 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 13ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:04 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Started GET "/sign_up" for 127.0.0.1 at 2014-11-12 13:21:04 +0200
Processing by SessionsController#sign_up as HTML
Completed 500 Internal Server Error in 63ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test15@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk42\n"], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["email", "test15@test.com"], ["encrypted_password", "8b0abffa0b169400e7957557045ceb7cfd1a33afa4f7b9481a2fc3e31a9827bbf2ee93f942d6eb3e4a7f67e180cc832a51a55c7d5c34523575ebf8c686e8979b"], ["password_salt", "$2a$10$zvlFIpNY7A.kML3or3TEdu"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:05 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 13ms
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Started GET "/sign_up" for 127.0.0.1 at 2014-11-12 13:21:05 +0200
Processing by SessionsController#sign_up as HTML
Completed 500 Internal Server Error in 20ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test16@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk43\n"], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["email", "test16@test.com"], ["encrypted_password", "b89eb99eb3946b9a82669db9822f3a7c357ff531752b42051ed38ad9da1de619c111b502c23461dadc4ed27bfffe2ff032df7b9c6d0eaf033007eea04b0e167e"], ["password_salt", "$2a$10$VWxTQS7g7yomSmdIHiX9d."], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:05 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["link", "gourmet10"], ["name", "Gourmet10"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["link", "some_name"], ["name", "some name"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.3ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:05 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 21ms
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:05 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 19.5], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["inventory", 5], ["link", "product_30"], ["name", "product 30"], ["price", 39.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 20.0], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["inventory", 5], ["link", "product_31"], ["name", "product 31"], ["price", 40.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 20.5], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["inventory", 5], ["link", "product_32"], ["name", "product 32"], ["price", 41.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["total_price", #<BigDecimal:7fd469eebb88,'0.12E3',9(36)>], ["total_tax", #<BigDecimal:7fd469eeb980,'0.12E2',9(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["name", "product 9"], ["price", 39.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:05.207156' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7fd4690490a8,'0.39E2',9(36)>], ["total_tax", #<BigDecimal:7fd469048ef0,'0.39E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["name", "product 10"], ["price", 40.0], ["product_id", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:05.210804' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7fd46a2b9508,'0.79E2',9(36)>], ["total_tax", #<BigDecimal:7fd46a2b9350,'0.79E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["name", "product 11"], ["price", 41.0], ["product_id", 3], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:05.214887' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7fd46a140d98,'0.12E3',9(36)>], ["total_tax", #<BigDecimal:7fd46a140b40,'0.12E2',9(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 21.0], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["inventory", 5], ["link", "product_33"], ["name", "product 33"], ["price", 42.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["name", "product 12"], ["price", 42.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 21.5], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["inventory", 5], ["link", "product_34"], ["name", "product 34"], ["price", 43.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["name", "product 13"], ["price", 43.0], ["product_id", 2], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["total_price", #<BigDecimal:7fd469bc91a8,'0.128E3',9(36)>], ["total_tax", #<BigDecimal:7fd469bc8ff0,'0.128E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 1[0m  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:05.237625' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7fd4699fb768,'0.42E2',9(36)>], ["total_tax", #<BigDecimal:7fd4699fb5b0,'0.42E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 2  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36mBasket Load (0.2ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:05.246821' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7fd46477d978,'0.128E3',9(36)>], ["total_tax", #<BigDecimal:7fd46477d720,'0.128E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 22.0], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["inventory", 5], ["link", "product_35"], ["name", "product 35"], ["price", 44.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["name", "product 14"], ["price", 44.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 22.5], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["inventory", 5], ["link", "product_36"], ["name", "product 36"], ["price", 45.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["name", "product 15"], ["price", 45.0], ["product_id", 2], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["total_price", #<BigDecimal:7fd46a1c10d8,'0.134E3',9(36)>], ["total_tax", #<BigDecimal:7fd46a1c0f20,'0.134E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 1  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:05.263935' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7fd46a1896d8,'0.44E2',9(36)>], ["total_tax", #<BigDecimal:7fd46a189520,'0.44E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 2[0m  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:05.267178' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7fd46a1527c8,'0.134E3',9(36)>], ["total_tax", #<BigDecimal:7fd46a152610,'0.134E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 23.0], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["inventory", 5], ["link", "product_37"], ["name", "product 37"], ["price", 46.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["name", "product 16"], ["price", 46.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 23.5], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["inventory", 5], ["link", "product_38"], ["name", "product 38"], ["price", 47.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["name", "product 17"], ["price", 47.0], ["product_id", 2], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["total_price", #<BigDecimal:7fd469f81818,'0.14E3',9(36)>], ["total_tax", #<BigDecimal:7fd469f813b8,'0.14E2',9(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 1[0m  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:05.286362' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7fd4690581c0,'0.46E2',9(36)>], ["total_tax", #<BigDecimal:7fd469033f78,'0.46E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 2  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:05.290120' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7fd469fea110,'0.14E3',9(36)>], ["total_tax", #<BigDecimal:7fd469fe9f58,'0.14E2',9(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "items" SET "basket_id" = NULL WHERE "items"."basket_id" = ? AND "items"."id" IN (2)[0m  [["basket_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7fd469fc2d40,'0.46E2',9(36)>], ["total_tax", #<BigDecimal:7fd469fc2b88,'0.46E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 24.0], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["inventory", 5], ["link", "product_39"], ["name", "product 39"], ["price", 48.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["name", "product 18"], ["price", 48.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 24.5], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["inventory", 5], ["link", "product_40"], ["name", "product 40"], ["price", 49.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["name", "product 19"], ["price", 49.0], ["product_id", 2], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["total_price", #<BigDecimal:7fd469f30710,'0.146E3',9(36)>], ["total_tax", #<BigDecimal:7fd469f30530,'0.146E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 1  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:05.310546' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7fd469f08058,'0.48E2',9(36)>], ["total_tax", #<BigDecimal:7fd469edbeb8,'0.48E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 2[0m  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:05.314098' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7fd469ea3680,'0.146E3',9(36)>], ["total_tax", #<BigDecimal:7fd469ea34a0,'0.146E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "basket_id" = NULL WHERE "items"."basket_id" = ? AND "items"."id" IN (2)  [["basket_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7fd469e8a2c0,'0.48E2',9(36)>], ["total_tax", #<BigDecimal:7fd469e8a0e0,'0.48E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Load (0.3ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:05 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 16ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:05 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 16ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:05 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 15ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:05 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 20ms
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:05 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 25.0], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["inventory", 5], ["link", "product_41"], ["name", "product 41"], ["price", 50.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by ProductsController#index as HTML
Completed 500 Internal Server Error in 4ms
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by ProductsController#new as HTML
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "products" WHERE "products"."deleted_on" IS NULL
  [1m[36mClerk Load (0.3ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>"product 42", "price"=>"51", "inventory"=>"5"}}
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>"product 43", "price"=>"52", "inventory"=>"5"}}
Completed 500 Internal Server Error in 3ms
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>"product 44", "price"=>"53", "inventory"=>"5"}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>""}}
Completed 500 Internal Server Error in 3ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Load (0.4ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"name"=>""}}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 27.0], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["inventory", 5], ["link", "product_45"], ["name", "product 45"], ["price", 54.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"product 45", "price"=>"54", "inventory"=>"5"}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 27.5], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["inventory", 5], ["link", "product_46"], ["name", "product 46"], ["price", 55.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>"product 46", "price"=>"55", "inventory"=>"5"}, "id"=>"1"}
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 28.0], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["inventory", 5], ["link", "product_47"], ["name", "product 47"], ["price", 56.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>""}, "id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 28.5], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["inventory", 5], ["link", "product_48"], ["name", "product 48"], ["price", 57.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"name"=>""}, "id"=>"1"}
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 29.0], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["inventory", 5], ["link", "product_49"], ["name", "product 49"], ["price", 58.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 29.5], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["link", "product_50"], ["name", "product 50"], ["price", 59.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products" WHERE "products"."deleted_on" IS NULL[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by ProductsController#delete as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 30.0], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["inventory", 5], ["link", "product_51"], ["name", "product 51"], ["price", 60.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by ProductsController#delete as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 30.5], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["inventory", 5], ["link", "product_52"], ["name", "product 52"], ["price", 61.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:05 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:05 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 15ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 31.0], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["inventory", 5], ["link", "product_53"], ["name", "product 53"], ["price", 62.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["name", "product 20"], ["price", 62.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 31.5], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["inventory", 5], ["link", "product_54"], ["name", "product 54"], ["price", 63.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["name", "product 21"], ["price", 63.0], ["product_id", 2], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["total_price", #<BigDecimal:7fd469d681f8,'0.188E3',9(36)>], ["total_tax", #<BigDecimal:7fd469cf3f38,'0.188E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 1[0m  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:05.649689' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7fd469c5b9b8,'0.62E2',9(36)>], ["total_tax", #<BigDecimal:7fd469c5b760,'0.62E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 2  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36mBasket Load (0.2ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:05.656632' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7fd469aa0a88,'0.188E3',9(36)>], ["total_tax", #<BigDecimal:7fd469aa08d0,'0.188E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1[0m  [["inventory", 4], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 2]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 2  [["inventory", 3], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "locked" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["locked", Wed, 12 Nov 2014], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ? ORDER BY "items"."id" ASC LIMIT 1  [["basket_id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ? ORDER BY "items"."id" DESC LIMIT 1  [["basket_id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 32.0], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["inventory", 5], ["link", "product_55"], ["name", "product 55"], ["price", 64.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["name", "product 22"], ["price", 64.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 32.5], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["inventory", 5], ["link", "product_56"], ["name", "product 56"], ["price", 65.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["name", "product 23"], ["price", 65.0], ["product_id", 2], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["total_price", #<BigDecimal:7fd465f7deb0,'0.194E3',9(36)>], ["total_tax", #<BigDecimal:7fd465f7dac8,'0.194E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 1  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:05.691471' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7fd465f18c40,'0.64E2',9(36)>], ["total_tax", #<BigDecimal:7fd465f18768,'0.64E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 2[0m  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:05.694717' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7fd465eb9858,'0.194E3',9(36)>], ["total_tax", #<BigDecimal:7fd465eb8e58,'0.194E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1  [["inventory", 6], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 2]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 2  [["inventory", 7], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "baskets" SET "locked" = ?, "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["locked", Wed, 12 Nov 2014], ["total_price", #<BigDecimal:7fd465d0bb50,'0.97E2',9(36)>], ["total_tax", #<BigDecimal:7fd465d0b2e0,'0.97E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "items" SET "price" = ?, "updated_at" = ? WHERE "items"."id" = 1[0m  [["price", 32.0], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:05.709919' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "items" SET "price" = ?, "updated_at" = ? WHERE "items"."id" = 2[0m  [["price", 32.5], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:05.713538' WHERE "baskets"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 33.0], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["inventory", 5], ["link", "product_57"], ["name", "product 57"], ["price", 66.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["name", "product 24"], ["price", 66.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 33.5], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["inventory", 5], ["link", "product_58"], ["name", "product 58"], ["price", 67.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["name", "product 25"], ["price", 67.0], ["product_id", 2], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["total_price", #<BigDecimal:7fd465ab0f40,'0.2E3',9(36)>], ["total_tax", #<BigDecimal:7fd465ab0ae0,'0.2E2',9(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 1  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:05.732141' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7fd465a3a4f8,'0.66E2',9(36)>], ["total_tax", #<BigDecimal:7fd465a39d78,'0.66E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 2[0m  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:05.737004' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7fd4659c2a20,'0.2E3',9(36)>], ["total_tax", #<BigDecimal:7fd4659c25e8,'0.2E2',9(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1  [["inventory", 6], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 2]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 2  [["inventory", 7], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "locked" = ?, "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["locked", Wed, 12 Nov 2014], ["total_price", #<BigDecimal:7fd46587a348,'0.1E3',9(36)>], ["total_tax", #<BigDecimal:7fd465879c18,'0.1E2',9(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "items" SET "price" = ?, "updated_at" = ? WHERE "items"."id" = 1[0m  [["price", 33.0], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:05.749788' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "items" SET "price" = ?, "updated_at" = ? WHERE "items"."id" = 2[0m  [["price", 33.5], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:05.751087' WHERE "baskets"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBasket Load (0.1ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ? ORDER BY "items"."id" ASC LIMIT 1[0m  [["basket_id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ? ORDER BY "items"."id" DESC LIMIT 1[0m  [["basket_id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 34.0], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["inventory", 5], ["link", "product_59"], ["name", "product 59"], ["price", 68.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["name", "product 26"], ["price", 68.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 34.5], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["inventory", 5], ["link", "product_60"], ["name", "product 60"], ["price", 69.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["name", "product 27"], ["price", 69.0], ["product_id", 2], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["total_price", #<BigDecimal:7fd4643150e8,'0.206E3',9(36)>], ["total_tax", #<BigDecimal:7fd464314e90,'0.206E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 1[0m  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:05.769504' WHERE "baskets"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["total_price", #<BigDecimal:7fd464224350,'0.68E2',9(36)>], ["total_tax", #<BigDecimal:7fd46421fb70,'0.68E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "items" SET "basket_id" = ?, "updated_at" = ? WHERE "items"."id" = 2  [["basket_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:05.772699' WHERE "baskets"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "total_price" = ?, "total_tax" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["total_price", #<BigDecimal:7fd464134ad0,'0.206E3',9(36)>], ["total_tax", #<BigDecimal:7fd46412f7b0,'0.206E2',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1  [["product_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 1[0m  [["inventory", 4], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "products" WHERE "products"."deleted_on" IS NULL AND "products"."product_id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["product_id", 2]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "products" SET "inventory" = ?, "updated_at" = ?, "properties" = ? WHERE "products"."id" = 2  [["inventory", 3], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "locked" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["locked", Wed, 12 Nov 2014], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:05 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:05 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 13ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:05 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 69ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:05 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 13ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:05 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'BIGMAIL@MAIL.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk44\n"], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["email", "BIGMAIL@MAIL.com"], ["encrypted_password", "054e86de27138302769e541064ac98a5784c70c6dd51575060f8ebc86407d9c5825cbf8a412720303689ab3ac1ea9177c3f379c86faeb949e58aa21b6ebf5a71"], ["password_salt", "$2a$10$OQK.99Q3ZQawIcj0P2A2ou"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'bigmail@mail.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk45\n"], ["created_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00], ["email", "bigmail@mail.com"], ["encrypted_password", "a20cbb526141ab1d1d4e7b7344a7230d27a0a2756d659c854716e8dad52ee235e948cc8247f947c4de496488ce99607ecb90bacc90b3345d481c7e3efd78a176"], ["password_salt", "$2a$10$NvUIdDjC6TpYitZFQ.DVOu"], ["updated_at", Wed, 12 Nov 2014 11:21:05 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'sama@sama.net' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk46\n"], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["email", "sama@sama.net"], ["encrypted_password", "f3e9010552dc93a36a491ff8ec5efebf4dce1eb11520a8decfeb3323aafce2ef1891d643b50fba47ca7c8fc17407204b1b4da11ac4be47e991a4216fd9efd71a"], ["password_salt", "$2a$10$JdIXwUQfRX57UKQG1C82qu"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'sama@sama.net' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'sama@sama.net' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test17@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk48\n"], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["email", "test17@test.com"], ["encrypted_password", "30c609832413647f1aa034712a890c9fafb5d55a232d99123004e2973cce9c2eb357d437330da2ea4b6ef538b0551797eb6c96353f0b4b30a6c11d81942831c1"], ["password_salt", "$2a$10$NUE16G2Q2m39P4SASuB/rO"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'clerk@foo.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk49\n"], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["email", "clerk@foo.com"], ["encrypted_password", "622f8779ef11594d754d2378cc0e9334f0153c9113726633615e57e561dca24a02129aebba489845c2a6153441418c877ef5edc6000e8dd3e8d120cc94b9f099"], ["password_salt", "$2a$10$65PtZCU5KgPsgI41HLoeFu"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE ("clerks"."email" = 'clerk@foo.com' AND "clerks"."id" != 2) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'THE_USER@foo.bar.org' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk50\n"], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["email", "THE_USER@foo.bar.org"], ["encrypted_password", "b2b82a9eba9c5502bae0a335d721df93622cbd5ed6c802aad9338d808c1993149c262653bdf29e0293cef313e38dbf3920844ce9e1ef0bf0f7bdfe2562efde04"], ["password_salt", "$2a$10$gaUY/pFE8zJi0rRKnkPAc."], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE ("clerks"."email" = 'THE_USER@foo.bar.org' AND "clerks"."id" != 3) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'first.last@foo.jp' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk51\n"], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["email", "first.last@foo.jp"], ["encrypted_password", "8902f841a1ac90cb7aab193e39332502be269a2d8a9c69a9fbddf0cfc3a1a667bf43f40554e860c649cebba3995bcf9a364b93cc044f367bf7f7013b964c73c2"], ["password_salt", "$2a$10$0NIZK79X2vKgfV5fNGM/uO"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE ("clerks"."email" = 'first.last@foo.jp' AND "clerks"."id" != 4) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.2ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'test18@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk52\n"], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["email", "test18@test.com"], ["encrypted_password", "b8c244817f53ca46fbdcb8c38d3a034f17525ad246e6a1b50b3353890f6c97b1fd8bfc839e2fb4d6c7c4ad069bf91e042b0223e43903eca4376f8874bfadaeb6"], ["password_salt", "$2a$10$ekCjmPMznpEIrM60eXoW3O"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE ("clerks"."email" = 'test18@test.com' AND "clerks"."id" != 2) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'foo@bar@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = '' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'bar@example.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk55\n"], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["email", "bar@example.com"], ["encrypted_password", "1ab1ce8614f3d0501dcc9126a67bcd9c552a0caa80c0a555f61e43b06a849c4cf2534eeee8fa634ad1fca2bed10c4b11236688f537759a8d86456516fdf2abd8"], ["password_salt", "$2a$10$LCiFLrCIS7XIRSVLm4B06u"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE ("clerks"."email" = 'bar@example.com' AND "clerks"."id" != 2) LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  UPDATE "clerks" SET "password_salt" = ?, "encrypted_password" = ?, "updated_at" = ?, "address" = ? WHERE "clerks"."id" = 2  [["password_salt", "$2a$10$2fq6ZBHHMoms6IiJN8FdYe"], ["encrypted_password", "5eef6458bc8f0d1c4e5c308b1ba9ef69c59261a8a6f257f9e822e5e2a2ed9810b2bdca8fb844a5d23384599295068debfe1af5fb5cf1e07d2d0fb2408d7e8fce"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk55\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'bar@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'clerk@foo,com' LIMIT 1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'clerk_at_foo.org' LIMIT 1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'example.clerk@foo.' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "purchases"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 35.0], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_61"], ["name", "product 61"], ["price", 70.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["total_price", #<BigDecimal:7fd4696d2af0,'0.7E2',9(36)>], ["total_tax", #<BigDecimal:7fd4696d2848,'0.7E1',9(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 28"], ["price", 70.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:06.078868' WHERE "baskets"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "purchase 6"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by PurchasesController#index as HTML
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by PurchasesController#new as HTML
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "purchases"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 35.5], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_62"], ["name", "product 62"], ["price", 71.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["total_price", #<BigDecimal:7fd469538370,'0.71E2',9(36)>], ["total_tax", #<BigDecimal:7fd4695381b8,'0.71E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 29"], ["price", 71.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:06.106568' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by PurchasesController#create as HTML
  Parameters: {"purchase"=>{"name"=>"purchase 7", "basket"=>"1"}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 36.0], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_63"], ["name", "product 63"], ["price", 72.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["total_price", #<BigDecimal:7fd46941b578,'0.72E2',9(36)>], ["total_tax", #<BigDecimal:7fd46941b2f8,'0.72E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 30"], ["price", 72.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:06.121612' WHERE "baskets"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by PurchasesController#create as HTML
  Parameters: {"purchase"=>{"name"=>"purchase 8", "basket"=>"1"}}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 36.5], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_64"], ["name", "product 64"], ["price", 73.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["total_price", #<BigDecimal:7fd4692fbaa8,'0.73E2',9(36)>], ["total_tax", #<BigDecimal:7fd4692fb620,'0.73E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 31"], ["price", 73.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:06.140094' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by PurchasesController#create as HTML
  Parameters: {"purchase"=>{"name"=>"purchase 9", "basket"=>"1"}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by PurchasesController#create as HTML
  Parameters: {"purchase"=>{"supplier_id"=>nil}}
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by PurchasesController#create as HTML
  Parameters: {"purchase"=>{"supplier_id"=>nil}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 37.0], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_65"], ["name", "product 65"], ["price", 74.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["total_price", #<BigDecimal:7fd4690bb4c8,'0.74E2',9(36)>], ["total_tax", #<BigDecimal:7fd4690bb310,'0.74E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 32"], ["price", 74.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:06.170637' WHERE "baskets"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "purchase 10"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by PurchasesController#show as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 37.5], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_66"], ["name", "product 66"], ["price", 75.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["total_price", #<BigDecimal:7fd464774530,'0.75E2',9(36)>], ["total_tax", #<BigDecimal:7fd464774378,'0.75E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 33"], ["price", 75.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:06.191549' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "purchase 11"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by PurchasesController#update as HTML
  Parameters: {"purchase"=>{"name"=>"purchase 11", "basket"=>"1"}, "id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 38.0], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_67"], ["name", "product 67"], ["price", 76.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["total_price", #<BigDecimal:7fd46464f560,'0.76E2',9(36)>], ["total_tax", #<BigDecimal:7fd46464f060,'0.76E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 34"], ["price", 76.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:06.209718' WHERE "baskets"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "purchase 12"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by PurchasesController#update as HTML
  Parameters: {"purchase"=>{"name"=>"purchase 12", "basket"=>"1"}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 38.5], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_68"], ["name", "product 68"], ["price", 77.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["total_price", #<BigDecimal:7fd46a2dddb8,'0.77E2',9(36)>], ["total_tax", #<BigDecimal:7fd46a2ddc00,'0.77E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 35"], ["price", 77.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:06.227576' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "purchase 13"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by PurchasesController#update as HTML
  Parameters: {"purchase"=>{"supplier_id"=>nil}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 39.0], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_69"], ["name", "product 69"], ["price", 78.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["total_price", #<BigDecimal:7fd4669e6e38,'0.78E2',9(36)>], ["total_tax", #<BigDecimal:7fd4669e6b40,'0.78E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 36"], ["price", 78.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:06.245880' WHERE "baskets"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "purchase 14"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by PurchasesController#update as HTML
  Parameters: {"purchase"=>{"supplier_id"=>nil}, "id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 39.5], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_70"], ["name", "product 70"], ["price", 79.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["total_price", #<BigDecimal:7fd465fc61b0,'0.79E2',9(36)>], ["total_tax", #<BigDecimal:7fd465fc5df0,'0.79E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 37"], ["price", 79.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:06.266556' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "purchases" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "purchase 15"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Purchase"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by PurchasesController#edit as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 40.0], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_71"], ["name", "product 71"], ["price", 80.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 38"], ["price", 80.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 40.5], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_72"], ["name", "product 72"], ["price", 81.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 39"], ["price", 81.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 41.0], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_73"], ["name", "product 73"], ["price", 82.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 40"], ["price", 82.0], ["product_id", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 41.5], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_74"], ["name", "product 74"], ["price", 83.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 41"], ["price", 83.0], ["product_id", 3], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 42.0], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_75"], ["name", "product 75"], ["price", 84.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 42"], ["price", 84.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 42.5], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_76"], ["name", "product 76"], ["price", 85.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 43"], ["price", 85.0], ["product_id", 2], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 43.0], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_77"], ["name", "product 77"], ["price", 86.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 44"], ["price", 86.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 43.5], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_78"], ["name", "product 78"], ["price", 87.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 45"], ["price", 87.0], ["product_id", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 44.0], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_79"], ["name", "product 79"], ["price", 88.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 46"], ["price", 88.0], ["product_id", 3], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 44.5], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_80"], ["name", "product 80"], ["price", 89.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 47"], ["price", 89.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 45.0], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_81"], ["name", "product 81"], ["price", 90.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 48"], ["price", 90.0], ["product_id", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 45.5], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_82"], ["name", "product 82"], ["price", 91.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("created_at", "name", "price", "product_id", "quantity", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 49"], ["price", 91.0], ["product_id", 3], ["quantity", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["link", "gourmet11"], ["name", "Gourmet11"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by CategoriesController#index as HTML
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by CategoriesController#new as HTML
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "categories"[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Gourmet12", "link"=>"gourmet12"}}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.3ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Gourmet13", "link"=>"gourmet13"}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Gourmet14", "link"=>"gourmet14"}}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>""}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>""}}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["link", "gourmet15"], ["name", "Gourmet15"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"name"=>"Gourmet16", "link"=>"gourmet16"}, "id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["link", "gourmet17"], ["name", "Gourmet17"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"name"=>"Gourmet18", "link"=>"gourmet18"}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["link", "gourmet19"], ["name", "Gourmet19"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"name"=>""}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["link", "gourmet20"], ["name", "Gourmet20"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"name"=>""}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["link", "gourmet21"], ["name", "Gourmet21"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["link", "gourmet22"], ["name", "Gourmet22"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "categories"
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by CategoriesController#destroy as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["link", "gourmet23"], ["name", "Gourmet23"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by CategoriesController#destroy as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "categories" ("created_at", "link", "name", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["link", "gourmet24"], ["name", "Gourmet24"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by CategoriesController#edit as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:06 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 15ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:06 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 15ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:06 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 15ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:06 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 22ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:21:06 +0200
Processing by SessionsController#sign_in as HTML
Completed 500 Internal Server Error in 13ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mClerk Load (0.3ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 46.0], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_83"], ["name", "product 83"], ["price", 92.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["total_price", #<BigDecimal:7fd46976af30,'0.92E2',9(36)>], ["total_tax", #<BigDecimal:7fd46976ad28,'0.92E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 50"], ["price", 92.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:06.631362' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("address", "created_at", "email", "number", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["email", "test4@test.com"], ["number", "R201430000"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1  [["kori_type", "Order"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.5ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by OrdersController#index as HTML
Completed 500 Internal Server Error in 3ms
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by OrdersController#new as HTML
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 46.5], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_84"], ["name", "product 84"], ["price", 93.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["total_price", #<BigDecimal:7fd4695a9430,'0.93E2',9(36)>], ["total_tax", #<BigDecimal:7fd4695a9228,'0.93E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 51"], ["price", 93.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:06.666919' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"email"=>"test5@test.com", "shipment_tax"=>"0", "basket"=>"1"}}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 47.0], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_85"], ["name", "product 85"], ["price", 94.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["total_price", #<BigDecimal:7fd469489140,'0.94E2',9(36)>], ["total_tax", #<BigDecimal:7fd469488f60,'0.94E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 52"], ["price", 94.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:06.683498' WHERE "baskets"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"email"=>"test6@test.com", "shipment_tax"=>"0", "basket"=>"1"}}
Completed 500 Internal Server Error in 3ms
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 47.5], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_86"], ["name", "product 86"], ["price", 95.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["total_price", #<BigDecimal:7fd4693526c8,'0.95E2',9(36)>], ["total_tax", #<BigDecimal:7fd469352510,'0.95E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 53"], ["price", 95.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:06.707473' WHERE "baskets"."id" = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"email"=>"test7@test.com", "shipment_tax"=>"0", "basket"=>"1"}}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"paid_on"=>""}}
Completed 500 Internal Server Error in 4ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"paid_on"=>""}}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 48.0], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_87"], ["name", "product 87"], ["price", 96.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["total_price", #<BigDecimal:7fd46910bba8,'0.96E2',9(36)>], ["total_tax", #<BigDecimal:7fd46910b6f8,'0.96E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 54"], ["price", 96.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:06.738358' WHERE "baskets"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("address", "created_at", "email", "number", "updated_at") VALUES (?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["email", "test8@test.com"], ["number", "R201430000"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Order"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 48.5], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_88"], ["name", "product 88"], ["price", 97.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["total_price", #<BigDecimal:7fd4647b5be8,'0.97E2',9(36)>], ["total_tax", #<BigDecimal:7fd4647b5990,'0.97E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 55"], ["price", 97.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:06.760023' WHERE "baskets"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("address", "created_at", "email", "number", "updated_at") VALUES (?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["email", "test9@test.com"], ["number", "R201430000"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Order"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["cost", 49.0], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_89"], ["name", "product 89"], ["price", 98.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["total_price", #<BigDecimal:7fd4646c64d0,'0.98E2',9(36)>], ["total_tax", #<BigDecimal:7fd4646c6188,'0.98E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["basket_id", 2], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 56"], ["price", 98.0], ["product_id", 2], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36mBasket Load (0.0ms)[0m  [1mSELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", 2]]
  [1m[35mItem Load (0.0ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:06.773713' WHERE "baskets"."id" = 2[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"email"=>"test10@test.com", "shipment_tax"=>"0", "basket"=>"2"}, "id"=>"1"}
Completed 500 Internal Server Error in 2ms
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 49.5], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_90"], ["name", "product 90"], ["price", 99.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["total_price", #<BigDecimal:7fd4645cc1b0,'0.99E2',9(36)>], ["total_tax", #<BigDecimal:7fd4645c7ef8,'0.99E1',18(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 57"], ["price", 99.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:06.792391' WHERE "baskets"."id" = 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("address", "created_at", "email", "number", "updated_at") VALUES (?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["email", "test11@test.com"], ["number", "R201430000"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Order"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"paid_on"=>""}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("cost", "created_at", "inventory", "link", "name", "price", "properties", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["cost", 50.0], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["inventory", 5], ["link", "product_91"], ["name", "product 91"], ["price", 100.0], ["properties", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "total_price", "total_tax", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["total_price", #<BigDecimal:7fd469d78530,'0.1E3',9(36)>], ["total_tax", #<BigDecimal:7fd469d78328,'0.1E2',9(36)>], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "items" ("basket_id", "created_at", "name", "price", "product_id", "tax", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["basket_id", 1], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["name", "product 58"], ["price", 100.0], ["product_id", 1], ["tax", 10.0], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35mBasket Load (0.0ms)[0m  SELECT "baskets".* FROM "baskets" WHERE "baskets"."id" = ? ORDER BY created_at DESC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.0ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "baskets" SET "updated_at" = '2014-11-12 11:21:06.810725' WHERE "baskets"."id" = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("address", "created_at", "email", "number", "updated_at") VALUES (?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["created_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00], ["email", "test12@test.com"], ["number", "R201430000"], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "baskets" SET "kori_type" = ?, "kori_id" = ?, "updated_at" = ? WHERE "baskets"."id" = 1[0m  [["kori_type", "Order"], ["kori_id", 1], ["updated_at", Wed, 12 Nov 2014 11:21:06 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:34:33 UTC +00:00], ["email", "admin@important.me"], ["encrypted_password", "5f3ada6ea9ce3b71061fc7ec69e31d671c8ba263c90c8d7c0a95fbc20a5933c4bc9f477e22d1af99168fa99efe6d6ebe16166ce71d162e9c54f7ef91ea6329ee"], ["password_salt", "$2a$10$94VDhnS.F.O5WYVX0bKlse"], ["updated_at", Wed, 12 Nov 2014 11:34:33 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "baskets";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'baskets';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "categories";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'categories';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "clerks";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM sqlite_sequence where name = 'clerks';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "items";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'items';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "orders";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'orders';
  [1m[36m (0.9ms)[0m  [1mDELETE FROM "products";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'products';[0m
  [1m[35m (0.6ms)[0m  DELETE FROM "purchases";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'purchases';
  [1m[36m (0.6ms)[0m  [1mDELETE FROM "suppliers";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'suppliers';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk1\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:34:33 UTC +00:00], ["email", "admin1@test.com"], ["encrypted_password", "a0eeb321eace8a316c96e3a24fcee058e17d6c0db549bdbe131fba1d8b7c0b83afee66a92cef8eb77b43b0c5b2a6ef367a711febd3b90e29970c20dbd6d38b44"], ["password_salt", "$2a$10$UN3mPXQeHgQLCTZQ9h.NGu"], ["updated_at", Wed, 12 Nov 2014 11:34:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:34:33 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (270.1ms)
Completed 500 Internal Server Error in 347ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk2\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:34:33 UTC +00:00], ["email", "admin2@test.com"], ["encrypted_password", "07a42aada6acbcfe390972f6bfc090dcf276cb29d99aee5160946e158c86e74b65e60c04fd824e6893eb2a5aeb4f88da9ac0754959f1db459c98917885c288cd"], ["password_salt", "$2a$10$8HEm6gy/vuY0yEQ872.Q6u"], ["updated_at", Wed, 12 Nov 2014 11:34:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:34:33 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.8ms)
Completed 500 Internal Server Error in 47ms
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:35:58 UTC +00:00], ["email", "admin@important.me"], ["encrypted_password", "3ebcfbc798a24aa2719b92cd719fb5b577cc3114dd6b74f2e599e58e714adb94233ab012226161fc21418e42c99abb930ae1a8849df13995d74ce8199d7beecf"], ["password_salt", "$2a$10$O5blG.iBWv9C2zZjL0jE/u"], ["updated_at", Wed, 12 Nov 2014 11:35:58 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "baskets";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'baskets';
  [1m[36m (0.6ms)[0m  [1mDELETE FROM "categories";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'categories';[0m
  [1m[35m (0.6ms)[0m  DELETE FROM "clerks";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.6ms)[0m  DELETE FROM sqlite_sequence where name = 'clerks';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "items";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'items';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "orders";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'orders';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "products";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'products';[0m
  [1m[35m (0.6ms)[0m  DELETE FROM "purchases";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'purchases';
  [1m[36m (0.6ms)[0m  [1mDELETE FROM "suppliers";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'suppliers';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk1\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:35:59 UTC +00:00], ["email", "admin1@test.com"], ["encrypted_password", "261a3870f64eaeb1e15ac3bad64971ad2f7f244522a01eadd05275e4ab71e2359235ed4516a5e6bbc0691266cad7e3e247b543238f9a663ab18fd51428770eaa"], ["password_salt", "$2a$10$jnQllsrCYa9Tg5T2SGh3dO"], ["updated_at", Wed, 12 Nov 2014 11:35:59 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:35:59 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (271.2ms)
Completed 500 Internal Server Error in 375ms
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk2\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:35:59 UTC +00:00], ["email", "admin2@test.com"], ["encrypted_password", "1356e4048fe1c853e3280c3fd9f7e7ee6d53daeb7f37bb5df3959f8823d1c4ee98fe51faa89069b275e5a558c897a83159987acf99d785de13b1479987cc180a"], ["password_salt", "$2a$10$9xy6z6xEqNXtr7xPaFMceu"], ["updated_at", Wed, 12 Nov 2014 11:35:59 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 13:35:59 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.7ms)
Completed 500 Internal Server Error in 12ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (3.1ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:37:31 UTC +00:00], ["email", "admin@important.me"], ["encrypted_password", "1e951a4d76f23a5d18a5e82115285dfda3ddb6b98e9b02677b01e407f16176c768541efdd36eb072c5056baf4be6854133978cc7181827ff95738d1dc20cfc10"], ["password_salt", "$2a$10$/40fOqPXPHLXiFOQOwdDzu"], ["updated_at", Wed, 12 Nov 2014 11:37:31 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "baskets";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'baskets';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "categories";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'categories';[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "clerks";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM sqlite_sequence where name = 'clerks';
  [1m[36m (0.8ms)[0m  [1mDELETE FROM "items";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'items';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "orders";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'orders';
  [1m[36m (0.8ms)[0m  [1mDELETE FROM "products";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'products';[0m
  [1m[35m (0.6ms)[0m  DELETE FROM "purchases";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'purchases';
  [1m[36m (0.6ms)[0m  [1mDELETE FROM "suppliers";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'suppliers';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk1\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:37:31 UTC +00:00], ["email", "admin1@test.com"], ["encrypted_password", "0022d1bc88cd661c0ddf2100035dea0e4c1914cf21cb57045db3428a9dae880cfb183a2d414cc98fcebb7bb3d77d6e91f48d0d163631faf5853f817c2d2ad6dd"], ["password_salt", "$2a$10$.Vqmp7WuujOsOvk1xdG3te"], ["updated_at", Wed, 12 Nov 2014 11:37:31 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk2\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:37:31 UTC +00:00], ["email", "admin2@test.com"], ["encrypted_password", "61d6f2f2ef451bf17f1dfbe24b162df5f01841f00dc646006bfb6a68810429c4a7fb7c6001823622ed70c4b429a7b7bc648142e087635fd7492ddb235218ee39"], ["password_salt", "$2a$10$OK2JFWx.LF8ckp2fOIhrwO"], ["updated_at", Wed, 12 Nov 2014 11:37:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:41:35 UTC +00:00], ["email", "admin@important.me"], ["encrypted_password", "874038d6e7a526fbb5ba68a4c7d346b17fd8affb89ea46d99ff2eab01f8a32038785f7cc436557845036bd666f3df313884f501f6572f65a797967b7b17f27d4"], ["password_salt", "$2a$10$6jskFrnL0wYBKCrt83IhBu"], ["updated_at", Wed, 12 Nov 2014 11:41:35 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "baskets";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'baskets';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "categories";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'categories';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "clerks";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM sqlite_sequence where name = 'clerks';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "items";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'items';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "orders";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'orders';
  [1m[36m (0.8ms)[0m  [1mDELETE FROM "products";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'products';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "purchases";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'purchases';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "suppliers";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'suppliers';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk1\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:41:36 UTC +00:00], ["email", "admin1@test.com"], ["encrypted_password", "303e368f3a7090c485478bba3dce7e3f9b2eadf71cadd0618dae95adccfc10a448b0581937af34b2a8016f81e03c81894a32a9a0307ee732a7b3582c3d3d996e"], ["password_salt", "$2a$10$de5clcoAbhXGuNL8C1uEse"], ["updated_at", Wed, 12 Nov 2014 11:41:36 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk2\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:41:36 UTC +00:00], ["email", "admin2@test.com"], ["encrypted_password", "640b6258283de3bece5723eb8e6e506dbc12c4292f621b7dc655e20656a8887523d722b8171030119628945a03f91081a93c54d210c23e72f7127c0905ba3cb8"], ["password_salt", "$2a$10$1LyPU.NbcDkSaAyXKdMnUO"], ["updated_at", Wed, 12 Nov 2014 11:41:36 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:44:18 UTC +00:00], ["email", "admin@important.me"], ["encrypted_password", "a25d32716ef5d7e062d6497d46911498fea1ee6e768d1e8e80b129c8cf071bdc8f97c9ce4bda85c3436c297268b28402801f2c94d5d9ded31c4203f2a99c2dc0"], ["password_salt", "$2a$10$YQCD11a6hXjfuj03v12e6."], ["updated_at", Wed, 12 Nov 2014 11:44:18 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "baskets";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'baskets';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "categories";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'categories';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "clerks";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM sqlite_sequence where name = 'clerks';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "items";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'items';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "orders";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'orders';
  [1m[36m (0.8ms)[0m  [1mDELETE FROM "products";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'products';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "purchases";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'purchases';
  [1m[36m (0.6ms)[0m  [1mDELETE FROM "suppliers";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'suppliers';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk1\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:44:18 UTC +00:00], ["email", "admin1@test.com"], ["encrypted_password", "8adf81bc0fdf33ca7100ae8b6a3eedc7fa80dd33c6d9341eaeff15783474ce3076be9e3ac594a0cdba38f68c6018065fe170a704cb38963b91737a889206a52d"], ["password_salt", "$2a$10$ofZRQyWEW7GJ1FHV1vYDBu"], ["updated_at", Wed, 12 Nov 2014 11:44:18 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk2\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:44:18 UTC +00:00], ["email", "admin2@test.com"], ["encrypted_password", "ba3fea01b52ae8db16eb2236609687f4f461a13fdbe9ec3820fc8c1eb14cf3f0549d1055d16398939c7c09cf689b5335a385a56a3f2c04baa3656dd1c21a86fa"], ["password_salt", "$2a$10$vNhE1ATAk/vjawKGA99sae"], ["updated_at", Wed, 12 Nov 2014 11:44:18 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:48:31 UTC +00:00], ["email", "admin@important.me"], ["encrypted_password", "aacdb0f2a011c4afe7832e907c5324e66e7e22f13281f0b2695fb60f4a5000393fc4b20017a5cc3dfc5d258373b322d8b6847c933fb5e72d6e634703f397cb5d"], ["password_salt", "$2a$10$YlswYDCutett/wLxqEc/8."], ["updated_at", Wed, 12 Nov 2014 11:48:31 UTC +00:00]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "baskets";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'baskets';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "categories";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'categories';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "clerks";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM sqlite_sequence where name = 'clerks';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "items";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'items';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "orders";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'orders';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "products";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'products';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "purchases";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'purchases';
  [1m[36m (0.6ms)[0m  [1mDELETE FROM "suppliers";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'suppliers';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk1\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:48:31 UTC +00:00], ["email", "admin1@test.com"], ["encrypted_password", "11fd375042b8e56557d2374768da4073dadff5aa6c44b8e8096355409152624d9f9bdaf5a5cca0bb2f18e748998eb17351ace92d019630484a5f1790d2dd3d23"], ["password_salt", "$2a$10$l/WmQ16hHqSki1yoyX2Z1O"], ["updated_at", Wed, 12 Nov 2014 11:48:31 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk2\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 11:48:31 UTC +00:00], ["email", "admin2@test.com"], ["encrypted_password", "77b81fd8fd9bc0963029269b9652e9838e1db77fb454372df9ee4670f0508114d06a98b701a79bdeb97eb3d31f2fac4d68ee739a4db5a0313e8fb89ad7a63ab8"], ["password_salt", "$2a$10$HaqgAIhzJHemXriGLQOXtu"], ["updated_at", Wed, 12 Nov 2014 11:48:31 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (3.1ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:11:01 UTC +00:00], ["email", "admin@important.me"], ["encrypted_password", "af224661c0e4bb9c8e44d8cb073b02694b7f14953315752ba84aa6f31c095ca32da6522b927b3ddda9a49c1ec04e9f14c9798e0f0db39198aea52303e77c485b"], ["password_salt", "$2a$10$JjCsZpkIhA6LuzeXoDRnge"], ["updated_at", Wed, 12 Nov 2014 12:11:01 UTC +00:00]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "baskets";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'baskets';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "categories";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'categories';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "clerks";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM sqlite_sequence where name = 'clerks';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "items";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'items';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "orders";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'orders';
  [1m[36m (0.8ms)[0m  [1mDELETE FROM "products";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'products';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "purchases";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'purchases';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "suppliers";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'suppliers';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk1\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:11:01 UTC +00:00], ["email", "admin1@test.com"], ["encrypted_password", "434ccb0617ccca75beb7d4c9a5c2d61d1a9ae45f93d1bfa05b5abdfc6cd727d68dab56fca0d99635d6241ca31950fea8b9b26a2576545346a469a49f05c8afd8"], ["password_salt", "$2a$10$u40WKFLMZjF15KC8dwQRee"], ["updated_at", Wed, 12 Nov 2014 12:11:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk2\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:11:01 UTC +00:00], ["email", "admin2@test.com"], ["encrypted_password", "55cef130de0787113e16da4e11013b23284021026be009aab49b271c248decaf1b6b6f0b6851ff3945bcd210fe7571d39c29d87991d3bdcc7b2c54521755d5e5"], ["password_salt", "$2a$10$uW5Inv7nujfNQKUrQRr9.u"], ["updated_at", Wed, 12 Nov 2014 12:11:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (3.7ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:18:19 UTC +00:00], ["email", "admin@important.me"], ["encrypted_password", "279c8d526126b16bc15436d3287bf290e0415b8958238d0fe73be01039e7104694730c243e9d0fdeab722fc8ba9450ec7d22a97308178bf28f6d56edf2f72f73"], ["password_salt", "$2a$10$68G3cqdFk7JFhlgbYTw5QO"], ["updated_at", Wed, 12 Nov 2014 12:18:19 UTC +00:00]]
  [1m[36m (4.6ms)[0m  [1mcommit transaction[0m
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "baskets";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'baskets';
  [1m[36m (0.8ms)[0m  [1mDELETE FROM "categories";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'categories';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "clerks";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.6ms)[0m  DELETE FROM sqlite_sequence where name = 'clerks';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "items";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'items';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "orders";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'orders';
  [1m[36m (0.8ms)[0m  [1mDELETE FROM "products";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'products';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "purchases";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'purchases';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "suppliers";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'suppliers';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk1\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:20:56 UTC +00:00], ["email", "admin1@test.com"], ["encrypted_password", "7f2465347bae15eda0600327a68ea44b8287fadb17b725cf606e77fc7433d8b02b581ad2f6d4045fdd5e33b5dba04d14686d8f2036929f668a7d302a611e9928"], ["password_salt", "$2a$10$mN4TpDO/PjjrwocumHLC6u"], ["updated_at", Wed, 12 Nov 2014 12:20:56 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk2\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:20:56 UTC +00:00], ["email", "admin2@test.com"], ["encrypted_password", "a10bd6913610a4e09594b545998a4df6e467d790bf725c3f0c1e130d9af177db7d7631244c042405a6466340e7b8ba105cd9f2a3a289f46c7f9c7198ebd4816c"], ["password_salt", "$2a$10$tj9Tr8z/m6BsXOKSHFfIxu"], ["updated_at", Wed, 12 Nov 2014 12:20:56 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:21:24 UTC +00:00], ["email", "admin@important.me"], ["encrypted_password", "cdd84ec06215f9215bce3c9727a402969bad0ae7ecf58f8ef56296ea1328127c3c59aa0fe08f85787586fb108a02e0aa654ffaf79d239787c86c3ee155fd8dcc"], ["password_salt", "$2a$10$3CXmdY9ytwpcu8Jx981NCu"], ["updated_at", Wed, 12 Nov 2014 12:21:24 UTC +00:00]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "baskets";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'baskets';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "categories";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'categories';[0m
  [1m[35m (0.5ms)[0m  DELETE FROM "clerks";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.5ms)[0m  DELETE FROM sqlite_sequence where name = 'clerks';
  [1m[36m (0.5ms)[0m  [1mDELETE FROM "items";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'items';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "orders";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'orders';
  [1m[36m (0.8ms)[0m  [1mDELETE FROM "products";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'products';[0m
  [1m[35m (0.6ms)[0m  DELETE FROM "purchases";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'purchases';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "suppliers";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'suppliers';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk1\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:21:24 UTC +00:00], ["email", "admin1@test.com"], ["encrypted_password", "69c9d27ffeb96b91cf76615ecb95cc91c943baffbf9b8e06446ce1c7823ca564aa040aeee67c4dc097bda766f7e46f344708f6ad9df8651d9e00a42cf68d8ad5"], ["password_salt", "$2a$10$B2Qc/TbWl5wrakNwU.yTQu"], ["updated_at", Wed, 12 Nov 2014 12:21:24 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:21:24 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (278.7ms)
Completed 500 Internal Server Error in 293ms
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (28.1ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk2\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:21:25 UTC +00:00], ["email", "admin2@test.com"], ["encrypted_password", "f3c0323952b1052b816b6643d91c667f8202c5b23575d246897878e52f1788d3db00dc57b0146daadb6c60d90080c04050d7b42f83b08c9c87af826851f5cfaf"], ["password_salt", "$2a$10$w4vh5g3Bkyy7Dv5Db.NJ9."], ["updated_at", Wed, 12 Nov 2014 12:21:25 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:21:25 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (9.8ms)
Completed 500 Internal Server Error in 10ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:22:42 UTC +00:00], ["email", "admin@important.me"], ["encrypted_password", "d86e1624f0588e43297d7f4f95892fa26ca9fec2127efb920ea20497ec60abf12dff4b1cf8c798a19d837e5b6175529eefd6d6ea23d8b5f17075d5768ccb258d"], ["password_salt", "$2a$10$iOvUApPWhwWV.VPTM7Vlae"], ["updated_at", Wed, 12 Nov 2014 12:22:42 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "baskets";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'baskets';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "categories";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'categories';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "clerks";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM sqlite_sequence where name = 'clerks';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "items";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'items';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "orders";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'orders';
  [1m[36m (0.9ms)[0m  [1mDELETE FROM "products";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'products';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "purchases";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'purchases';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "suppliers";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'suppliers';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk1\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:22:42 UTC +00:00], ["email", "admin1@test.com"], ["encrypted_password", "aae32f2dd0ad8d30f98c1f99d23ab0a9cf74f559bef4086f1ac679111c14af24a79f1aeaddb9b0c6a784385c7a6980dea8127ea30e93bd289e1c9af285975156"], ["password_salt", "$2a$10$Isj3fP15Jtef3XWqETUKqO"], ["updated_at", Wed, 12 Nov 2014 12:22:42 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk2\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:22:42 UTC +00:00], ["email", "admin2@test.com"], ["encrypted_password", "97f0ad3312363ab6ee9b548283c7019bfb1bd4689590c9bad6c6216dfc30112829cd29b4e6fc86fd6b4b14ac59b20d17699b14955ed28c01411beb1b7199869e"], ["password_salt", "$2a$10$o8tNJbmQBCm.j80CrhgOS."], ["updated_at", Wed, 12 Nov 2014 12:22:42 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (3.7ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:26:19 UTC +00:00], ["email", "admin@important.me"], ["encrypted_password", "94a55b32adb0c7bfd9cebe1a84ee09abde897a95c8d1d323b673d2250d93ed1435878b3ec344203a6a86d83f6f4dbfd902b8585a7991d97fc7ba946dd77070a9"], ["password_salt", "$2a$10$ACOBZT9yr.aUGwzzaRp0W."], ["updated_at", Wed, 12 Nov 2014 12:26:19 UTC +00:00]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "baskets";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'baskets';
  [1m[36m (0.9ms)[0m  [1mDELETE FROM "categories";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'categories';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "clerks";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM sqlite_sequence where name = 'clerks';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "items";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'items';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "orders";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'orders';
  [1m[36m (0.8ms)[0m  [1mDELETE FROM "products";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'products';[0m
  [1m[35m (0.6ms)[0m  DELETE FROM "purchases";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'purchases';
  [1m[36m (0.6ms)[0m  [1mDELETE FROM "suppliers";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'suppliers';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk1\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:26:19 UTC +00:00], ["email", "admin1@test.com"], ["encrypted_password", "eeae522883c12ea97e72fc6c1edca4ab0b845045887dfb9cbdbbaf34addf49ddae94d01d70044896161696ce3d52ee25393e97534209ebea770738b0da335e1a"], ["password_salt", "$2a$10$PjquXa/AkvXei.71VYdpxe"], ["updated_at", Wed, 12 Nov 2014 12:26:19 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk2\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:26:19 UTC +00:00], ["email", "admin2@test.com"], ["encrypted_password", "f46c402703f7e412fd6077eacc857194fbbaceb91b437d9130258d63eb33e61c5fc2538ad26d94425331d7109c61ae0219a36695d94c36041c03b7866ade10c5"], ["password_salt", "$2a$10$YNHAmR8GGYl.V81stiJ9Hu"], ["updated_at", Wed, 12 Nov 2014 12:26:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:26:39 UTC +00:00], ["email", "admin@important.me"], ["encrypted_password", "60c1eccd6bae60932e9334c3dce9d7f469bf0efa49df52719c76413b17a316febbb77cdaa7326730934dc9251fb6a07d4bad4a03ff1a23ab0f85a03718ac6757"], ["password_salt", "$2a$10$wOEf6frrQQmq01U.K1.3qu"], ["updated_at", Wed, 12 Nov 2014 12:26:39 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "baskets";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'baskets';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "categories";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'categories';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "clerks";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM sqlite_sequence where name = 'clerks';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "items";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'items';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "orders";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'orders';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "products";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'products';[0m
  [1m[35m (0.6ms)[0m  DELETE FROM "purchases";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'purchases';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "suppliers";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'suppliers';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk1\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:26:39 UTC +00:00], ["email", "admin1@test.com"], ["encrypted_password", "8f3fc980c66656485a7e2a3e0daf28398be0355c17c09b1e41ca62ba4830ec4502efc85801a01a780f3dbd8da4cd32d41c3725d26298e96d57c4b99d7794551a"], ["password_salt", "$2a$10$vhFgPqGWgZGxR06kpZkqPO"], ["updated_at", Wed, 12 Nov 2014 12:26:39 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:26:39 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (287.6ms)
Completed 500 Internal Server Error in 303ms
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk2\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:26:40 UTC +00:00], ["email", "admin2@test.com"], ["encrypted_password", "66ac1d91a56b291437220528ad62dfc327dbdde36f4e2700e1d025e33251dcf60e6ec0787541327fc33988a745ded78964199182654fe1f8fb90c3c29f4b80aa"], ["password_salt", "$2a$10$vMYqcXMYCAEZhxw12IeDQO"], ["updated_at", Wed, 12 Nov 2014 12:26:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:26:40 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (7.1ms)
Completed 500 Internal Server Error in 8ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:26:59 UTC +00:00], ["email", "admin@important.me"], ["encrypted_password", "86d28ecb2e03cc52dc2d955d56332e81b379c540152228dba24bd0fa930f64407bc3130be00c11627f50f77881f61f86a603f04ae3885969af365d164d0c8510"], ["password_salt", "$2a$10$IX.UIoM5dlgBSj.Vfzx/0O"], ["updated_at", Wed, 12 Nov 2014 12:26:59 UTC +00:00]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "baskets";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'baskets';
  [1m[36m (0.8ms)[0m  [1mDELETE FROM "categories";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'categories';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "clerks";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.6ms)[0m  DELETE FROM sqlite_sequence where name = 'clerks';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "items";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'items';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "orders";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'orders';
  [1m[36m (0.8ms)[0m  [1mDELETE FROM "products";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'products';[0m
  [1m[35m (0.6ms)[0m  DELETE FROM "purchases";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'purchases';
  [1m[36m (0.6ms)[0m  [1mDELETE FROM "suppliers";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'suppliers';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk1\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:26:59 UTC +00:00], ["email", "admin1@test.com"], ["encrypted_password", "1bd3eacfa6016eaeed09476d2c7fbe7b79a1410654ff09f2543795371a11172babb1cba54a6dcf6ad2bd40d3f5468083f3886ffe53a078fc6865eeb68deecc8c"], ["password_salt", "$2a$10$RaRslDs6sX..tITwXeSPHO"], ["updated_at", Wed, 12 Nov 2014 12:26:59 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:26:59 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (267.4ms)
Completed 500 Internal Server Error in 375ms
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk2\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:26:59 UTC +00:00], ["email", "admin2@test.com"], ["encrypted_password", "a39f2ccaa5405b0f17bcb00e6aa1aff7d5fae82d7253ccd79584acc5639999e012459d7ccae872234e50ef4def390165ecf714cabdaf996a5688b0f880a93713"], ["password_salt", "$2a$10$VgT/XFmdtY1ujcfOrl.Ngu"], ["updated_at", Wed, 12 Nov 2014 12:26:59 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:26:59 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (1.3ms)
Completed 500 Internal Server Error in 15ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:27:13 UTC +00:00], ["email", "admin@important.me"], ["encrypted_password", "bef5ca88a20f2cc4154c3ae2b57800efb6632e0641d30ae6bbbe4eb9fa6596659abe9ccfc7c41865edff0fe8de466909a38b5e0e42799f9923aac435d3ed5a5a"], ["password_salt", "$2a$10$OpwxUjjpvjUrBosRPF/Nzu"], ["updated_at", Wed, 12 Nov 2014 12:27:13 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "baskets";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'baskets';
  [1m[36m (0.6ms)[0m  [1mDELETE FROM "categories";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'categories';[0m
  [1m[35m (0.6ms)[0m  DELETE FROM "clerks";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM sqlite_sequence where name = 'clerks';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "items";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'items';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "orders";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'orders';
  [1m[36m (0.8ms)[0m  [1mDELETE FROM "products";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'products';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "purchases";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'purchases';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "suppliers";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'suppliers';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk1\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:27:13 UTC +00:00], ["email", "admin1@test.com"], ["encrypted_password", "e0bb14dbe01d5b54d835b7e0e6b679751c6a95db366a5f833ca1e2d18fded913a616cdd64515a7f46f9cbf7cc94445e6882ecddbf8ac270104078d7fa44ae1fb"], ["password_salt", "$2a$10$S5kL/WZnKxMwIaRUm4w6zO"], ["updated_at", Wed, 12 Nov 2014 12:27:13 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:27:13 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (267.6ms)
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "baskets" ("created_at", "kori_type", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 12:27:13 UTC +00:00], ["kori_type", "Order"], ["updated_at", Wed, 12 Nov 2014 12:27:13 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
Completed 500 Internal Server Error in 398ms
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk2\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:27:13 UTC +00:00], ["email", "admin2@test.com"], ["encrypted_password", "8889fd63ec7fb5a08c1971ebc3efbea767f060572bdf50b19a03640d6e8de5f4996f8523d87f9c9390eeae8218021adec7cec6d327d285a1ef6320650a2e6dee"], ["password_salt", "$2a$10$54cPeB0.81MPOY4jVRxabe"], ["updated_at", Wed, 12 Nov 2014 12:27:13 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:27:13 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.8ms)
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "baskets" ("created_at", "kori_type", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 12 Nov 2014 12:27:13 UTC +00:00], ["kori_type", "Order"], ["updated_at", Wed, 12 Nov 2014 12:27:13 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
Completed 500 Internal Server Error in 17ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:27:33 UTC +00:00], ["email", "admin@important.me"], ["encrypted_password", "3808f18e4ece2334360b15dc3fcf2f2d803f8b694f248b154075c0ff3f6d76095a9dd77bd8f736589eab87c919b25e942260709816a02ad6b6c84de3b0366f32"], ["password_salt", "$2a$10$i6rWjMC905EPwdZWNhT9Su"], ["updated_at", Wed, 12 Nov 2014 12:27:33 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "baskets";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'baskets';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "categories";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'categories';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "clerks";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM sqlite_sequence where name = 'clerks';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "items";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'items';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "orders";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'orders';
  [1m[36m (0.8ms)[0m  [1mDELETE FROM "products";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'products';[0m
  [1m[35m (0.6ms)[0m  DELETE FROM "purchases";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'purchases';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "suppliers";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'suppliers';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk1\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:27:33 UTC +00:00], ["email", "admin1@test.com"], ["encrypted_password", "ed543cc3691d568e3ffe0b114254c8e0907cc1b26b3e49886aada27bb56812e1d0db972bf6f642a8da7ca9e53ba22631f52c4a18d6ea76d9813805bd2c9ee59a"], ["password_salt", "$2a$10$PUnJbHiwYmqMuBsiltZbp."], ["updated_at", Wed, 12 Nov 2014 12:27:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:27:33 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (270.2ms)
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "baskets" ("created_at", "kori_type", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 12:27:34 UTC +00:00], ["kori_type", "Order"], ["updated_at", Wed, 12 Nov 2014 12:27:34 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
Completed 200 OK in 364ms (Views: 353.8ms | ActiveRecord: 1.4ms)
Started POST "/create_session" for 127.0.0.1 at 2014-11-12 14:27:34 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin1@test.com", "password"=>"[FILTERED]", "commit"=>"Kirjaudu sisään"}
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' ORDER BY "clerks"."id" ASC LIMIT 1
Completed 500 Internal Server Error in 37ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk2\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:27:34 UTC +00:00], ["email", "admin2@test.com"], ["encrypted_password", "815336e962b4c9c96bac6fb701967b825f47e6735635873c9b31909fd3510ff894a388ab6472089c578fd38f06305c88ecd4fc2d1dfedb7e386a8ba3cf493dba"], ["password_salt", "$2a$10$.UZ3h75AGT28knYqvU1ahO"], ["updated_at", Wed, 12 Nov 2014 12:27:34 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:27:34 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.9ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "kori_type", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 12:27:34 UTC +00:00], ["kori_type", "Order"], ["updated_at", Wed, 12 Nov 2014 12:27:34 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.5ms)
Started POST "/create_session" for 127.0.0.1 at 2014-11-12 14:27:34 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin2@test.com", "password"=>"[FILTERED]", "commit"=>"Kirjaudu sisään"}
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' ORDER BY "clerks"."id" ASC LIMIT 1
Completed 500 Internal Server Error in 3ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (3.1ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:27:51 UTC +00:00], ["email", "admin@important.me"], ["encrypted_password", "37bd783086cb728914a5c8cd27374ab5cffc24e52f01ea313114f49b372bb237b9c02f538e2cf5e8326d64f64bb7a177bf66be2a774266fce98453aaf0b15d94"], ["password_salt", "$2a$10$NQX0pjR54N2fOFK5RktDYe"], ["updated_at", Wed, 12 Nov 2014 12:27:51 UTC +00:00]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "baskets";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'baskets';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "categories";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'categories';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "clerks";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM sqlite_sequence where name = 'clerks';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "items";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'items';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "orders";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'orders';
  [1m[36m (0.8ms)[0m  [1mDELETE FROM "products";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'products';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "purchases";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'purchases';
  [1m[36m (0.6ms)[0m  [1mDELETE FROM "suppliers";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'suppliers';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk1\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:27:51 UTC +00:00], ["email", "admin1@test.com"], ["encrypted_password", "e805165c81291958f0f3d6c7536da0a263136193d6f48b3cd2e2c13e19da9ad26f94bccd16ff6d22138cc3a1adab11ac192d003829f885743e791c1ac40b9242"], ["password_salt", "$2a$10$pEM.egNS0DI25MVpOoV.eu"], ["updated_at", Wed, 12 Nov 2014 12:27:51 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:27:52 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (272.8ms)
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "baskets" ("created_at", "kori_type", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 12:27:52 UTC +00:00], ["kori_type", "Order"], ["updated_at", Wed, 12 Nov 2014 12:27:52 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
Completed 200 OK in 364ms (Views: 354.4ms | ActiveRecord: 1.4ms)
Started POST "/create_session" for 127.0.0.1 at 2014-11-12 14:27:52 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin1@test.com", "password"=>"[FILTERED]", "commit"=>"Kirjaudu sisään"}
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' ORDER BY "clerks"."id" ASC LIMIT 1
Redirected to http://www.example.com/baskets
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/baskets" for 127.0.0.1 at 2014-11-12 14:27:52 +0200
Processing by BasketsController#index as HTML
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35mBasket Load (0.1ms)[0m  SELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC
  [1m[36mBasket Load (0.2ms)[0m  [1mSELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" IN (1)
  Rendered /Users/raisa/office_clerk/app/views/baskets/index.html.haml within layouts/admin (37.9ms)
Completed 500 Internal Server Error in 42ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk2\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:27:52 UTC +00:00], ["email", "admin2@test.com"], ["encrypted_password", "98c68066c5c52bad3bd122eb1ce825c2593901668e05aca966114c044c0d459055f54dd2ab383ccd238ece0492c9006b74819ad92d2f70155d0963a88766ef1a"], ["password_salt", "$2a$10$0kuI7MWC.m08z6FcqSK6Me"], ["updated_at", Wed, 12 Nov 2014 12:27:52 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:27:52 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.8ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "baskets" ("created_at", "kori_type", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 12:27:52 UTC +00:00], ["kori_type", "Order"], ["updated_at", Wed, 12 Nov 2014 12:27:52 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.7ms)
Started POST "/create_session" for 127.0.0.1 at 2014-11-12 14:27:52 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin2@test.com", "password"=>"[FILTERED]", "commit"=>"Kirjaudu sisään"}
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' ORDER BY "clerks"."id" ASC LIMIT 1
Redirected to http://www.example.com/baskets
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/baskets" for 127.0.0.1 at 2014-11-12 14:27:52 +0200
Processing by BasketsController#index as HTML
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35mBasket Load (0.1ms)[0m  SELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" IN (1)
  Rendered /Users/raisa/office_clerk/app/views/baskets/index.html.haml within layouts/admin (13.7ms)
Completed 500 Internal Server Error in 15ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:28:09 UTC +00:00], ["email", "admin@important.me"], ["encrypted_password", "50e268843fcd6d94a38a90db8368db872b1b32fa7ff6f809b88215712278dab2001e128f31b4aa2643290f8cc78885a74316338e6a9467c290d0b208a87934c7"], ["password_salt", "$2a$10$D1AMYHXmzggUQl/tM9DKt."], ["updated_at", Wed, 12 Nov 2014 12:28:09 UTC +00:00]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "baskets";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'baskets';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "categories";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'categories';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "clerks";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM sqlite_sequence where name = 'clerks';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "items";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'items';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "orders";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'orders';
  [1m[36m (0.8ms)[0m  [1mDELETE FROM "products";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'products';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "purchases";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'purchases';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "suppliers";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'suppliers';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk1\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:28:10 UTC +00:00], ["email", "admin1@test.com"], ["encrypted_password", "c5c2cf0edc756ea0234f946055b45c61bf24f010c20f63c6f0e938ddab8af41424974875d04fbeed35c4792bb305100b6dc09445ce3c0c52d6215026c72186a6"], ["password_salt", "$2a$10$w1VzpqKFwVFuh2RMWYpMXO"], ["updated_at", Wed, 12 Nov 2014 12:28:10 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:28:10 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (275.0ms)
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "baskets" ("created_at", "kori_type", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 12:28:10 UTC +00:00], ["kori_type", "Order"], ["updated_at", Wed, 12 Nov 2014 12:28:10 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
Completed 200 OK in 402ms (Views: 391.8ms | ActiveRecord: 1.5ms)
Started POST "/create_session" for 127.0.0.1 at 2014-11-12 14:28:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin1@test.com", "password"=>"[FILTERED]", "commit"=>"Kirjaudu sisään"}
  [1m[35mClerk Load (0.3ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' ORDER BY "clerks"."id" ASC LIMIT 1
Redirected to http://www.example.com/baskets
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/baskets" for 127.0.0.1 at 2014-11-12 14:28:10 +0200
Processing by BasketsController#index as HTML
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35mBasket Load (0.1ms)[0m  SELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC
  [1m[36mBasket Load (0.2ms)[0m  [1mSELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" IN (1)
  Rendered /Users/raisa/office_clerk/app/views/baskets/index.html.haml within layouts/admin (31.1ms)
Completed 500 Internal Server Error in 35ms
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk2\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:28:10 UTC +00:00], ["email", "admin2@test.com"], ["encrypted_password", "6220cc3bd85b02321cc6d630fe901599eaae5748773fbc05d00f6ae06d61259b6eab22e940e6728a20337736367f77592ec48dd74fc6e54fc806e4ddd94c6610"], ["password_salt", "$2a$10$qSGAGoa6QxDM51NipArQGe"], ["updated_at", Wed, 12 Nov 2014 12:28:10 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:28:10 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (1.0ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "baskets" ("created_at", "kori_type", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 12:28:10 UTC +00:00], ["kori_type", "Order"], ["updated_at", Wed, 12 Nov 2014 12:28:10 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.5ms)
Started POST "/create_session" for 127.0.0.1 at 2014-11-12 14:28:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin2@test.com", "password"=>"[FILTERED]", "commit"=>"Kirjaudu sisään"}
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' ORDER BY "clerks"."id" ASC LIMIT 1
Redirected to http://www.example.com/baskets
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/baskets" for 127.0.0.1 at 2014-11-12 14:28:10 +0200
Processing by BasketsController#index as HTML
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35mBasket Load (0.1ms)[0m  SELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC
  [1m[36mBasket Load (0.2ms)[0m  [1mSELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" IN (1)
  Rendered /Users/raisa/office_clerk/app/views/baskets/index.html.haml within layouts/admin (15.6ms)
Completed 500 Internal Server Error in 18ms
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin3@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk3\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:28:10 UTC +00:00], ["email", "admin3@test.com"], ["encrypted_password", "f1f3879eda8720e6caa8c8f712d2df372d819387068e4f5ec3d09c8540184132e1ea6869533fdc771f2225e3832b5569867c58fa86e73f2f7bc0956b1b0264cc"], ["password_salt", "$2a$10$CSIxgzOzTevTXQ4aO7yHhO"], ["updated_at", Wed, 12 Nov 2014 12:28:10 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:28:10 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (1.3ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "baskets" ("created_at", "kori_type", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 12:28:10 UTC +00:00], ["kori_type", "Order"], ["updated_at", Wed, 12 Nov 2014 12:28:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
Completed 200 OK in 12ms (Views: 11.1ms | ActiveRecord: 1.0ms)
Started POST "/create_session" for 127.0.0.1 at 2014-11-12 14:28:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin3@test.com", "password"=>"[FILTERED]", "commit"=>"Kirjaudu sisään"}
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin3@test.com' ORDER BY "clerks"."id" ASC LIMIT 1
Redirected to http://www.example.com/baskets
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/baskets" for 127.0.0.1 at 2014-11-12 14:28:10 +0200
Processing by BasketsController#index as HTML
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin3@test.com' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35mBasket Load (0.1ms)[0m  SELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC
  [1m[36mBasket Load (0.2ms)[0m  [1mSELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mItem Load (0.2ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" IN (1)
  Rendered /Users/raisa/office_clerk/app/views/baskets/index.html.haml within layouts/admin (15.8ms)
Completed 500 Internal Server Error in 19ms
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin4@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk4\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:28:10 UTC +00:00], ["email", "admin4@test.com"], ["encrypted_password", "372fed245545463bd59ab9f042c32954bb4adafcf9522d67e5084caab1fde2e6a641b945b58e73ceecc18f4b0ee6761b0cb37c6182428e55cb66fdaf0f7fbbfc"], ["password_salt", "$2a$10$MLeRGeLPvBQ8y2PgkN.rXu"], ["updated_at", Wed, 12 Nov 2014 12:28:10 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:28:10 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (1.9ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "baskets" ("created_at", "kori_type", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 12:28:10 UTC +00:00], ["kori_type", "Order"], ["updated_at", Wed, 12 Nov 2014 12:28:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 0.7ms)
Started POST "/create_session" for 127.0.0.1 at 2014-11-12 14:28:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin4@test.com", "password"=>"[FILTERED]", "commit"=>"Kirjaudu sisään"}
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin4@test.com' ORDER BY "clerks"."id" ASC LIMIT 1
Redirected to http://www.example.com/baskets
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/baskets" for 127.0.0.1 at 2014-11-12 14:28:10 +0200
Processing by BasketsController#index as HTML
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin4@test.com' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35mBasket Load (0.1ms)[0m  SELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC
  [1m[36mBasket Load (0.4ms)[0m  [1mSELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mItem Load (0.2ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" IN (1)
  Rendered /Users/raisa/office_clerk/app/views/baskets/index.html.haml within layouts/admin (19.8ms)
Completed 500 Internal Server Error in 22ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin5@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk5\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:28:10 UTC +00:00], ["email", "admin5@test.com"], ["encrypted_password", "53d572462d3ca8c4539c887b8aab281d60717aacc760a34827c75391750520f4590a08926360d4f73709e4e79ed08af7b6c9fe2675b1bb252065fa3a59f02bb8"], ["password_salt", "$2a$10$AmATpAEuYQhRNFD1pCNLOu"], ["updated_at", Wed, 12 Nov 2014 12:28:10 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:28:10 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (1.5ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "baskets" ("created_at", "kori_type", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 12:28:10 UTC +00:00], ["kori_type", "Order"], ["updated_at", Wed, 12 Nov 2014 12:28:10 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.7ms)
Started POST "/create_session" for 127.0.0.1 at 2014-11-12 14:28:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin5@test.com", "password"=>"[FILTERED]", "commit"=>"Kirjaudu sisään"}
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin5@test.com' ORDER BY "clerks"."id" ASC LIMIT 1
Redirected to http://www.example.com/baskets
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/baskets" for 127.0.0.1 at 2014-11-12 14:28:10 +0200
Processing by BasketsController#index as HTML
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin5@test.com' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35mBasket Load (0.1ms)[0m  SELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" IN (1)
  Rendered /Users/raisa/office_clerk/app/views/baskets/index.html.haml within layouts/admin (15.4ms)
Completed 500 Internal Server Error in 17ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:29:44 UTC +00:00], ["email", "admin@important.me"], ["encrypted_password", "fc2d9991255e423697fda54d3a6a3da810fcc0103bd02ceda3ed27702d54e63f295bbfe0e6310bf35b6e60c0732e3fe2888166b58825c0f96dafedd6862f69ba"], ["password_salt", "$2a$10$O0erc4aC9Rq0XdA4nvQ/jO"], ["updated_at", Wed, 12 Nov 2014 12:29:44 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "baskets";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'baskets';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "categories";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'categories';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "clerks";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM sqlite_sequence where name = 'clerks';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "items";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'items';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "orders";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'orders';
  [1m[36m (0.8ms)[0m  [1mDELETE FROM "products";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'products';[0m
  [1m[35m (0.6ms)[0m  DELETE FROM "purchases";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'purchases';
  [1m[36m (0.6ms)[0m  [1mDELETE FROM "suppliers";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'suppliers';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk1\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:29:44 UTC +00:00], ["email", "admin1@test.com"], ["encrypted_password", "88c8401c0c9628142bb80acd706e42d12f0786ac152a2d27c5307f38830e9bd85a97a309e98bd68d6a1ec5567fce938328c31998c9b5a9a83acb31705bfefd3a"], ["password_salt", "$2a$10$WJq.wT9QAH.vaILZGwuCke"], ["updated_at", Wed, 12 Nov 2014 12:29:44 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:29:44 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (269.0ms)
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "baskets" ("created_at", "kori_type", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 12:29:44 UTC +00:00], ["kori_type", "Order"], ["updated_at", Wed, 12 Nov 2014 12:29:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
Completed 200 OK in 387ms (Views: 377.3ms | ActiveRecord: 1.4ms)
Started POST "/create_session" for 127.0.0.1 at 2014-11-12 14:29:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin1@test.com", "password"=>"[FILTERED]", "commit"=>"Kirjaudu sisään"}
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' ORDER BY "clerks"."id" ASC LIMIT 1
Redirected to http://www.example.com/baskets
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/baskets" for 127.0.0.1 at 2014-11-12 14:29:44 +0200
Processing by BasketsController#index as HTML
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35mBasket Load (0.1ms)[0m  SELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC
  [1m[36mBasket Load (0.2ms)[0m  [1mSELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" IN (1)
  Rendered /Users/raisa/office_clerk/app/views/baskets/index.html.haml within layouts/admin (30.2ms)
Completed 500 Internal Server Error in 34ms
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk2\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:29:44 UTC +00:00], ["email", "admin2@test.com"], ["encrypted_password", "c986c4b2c6d88bdce825b3126c526e641a44b90fedf59427e70524e30c5999a95440ae6ba206b93406755dbf2327a2d68a3a3c7a7c8aabe526146591c7af2c11"], ["password_salt", "$2a$10$Yg2r8B.Q5KNrGxDerobETe"], ["updated_at", Wed, 12 Nov 2014 12:29:44 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:29:44 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.8ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "baskets" ("created_at", "kori_type", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 12:29:44 UTC +00:00], ["kori_type", "Order"], ["updated_at", Wed, 12 Nov 2014 12:29:44 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.5ms)
Started POST "/create_session" for 127.0.0.1 at 2014-11-12 14:29:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin2@test.com", "password"=>"[FILTERED]", "commit"=>"Kirjaudu sisään"}
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' ORDER BY "clerks"."id" ASC LIMIT 1
Redirected to http://www.example.com/baskets
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/baskets" for 127.0.0.1 at 2014-11-12 14:29:44 +0200
Processing by BasketsController#index as HTML
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35mBasket Load (0.1ms)[0m  SELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" IN (1)
  Rendered /Users/raisa/office_clerk/app/views/baskets/index.html.haml within layouts/admin (12.9ms)
Completed 500 Internal Server Error in 15ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin3@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk3\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:29:44 UTC +00:00], ["email", "admin3@test.com"], ["encrypted_password", "1e6ede810da826fa84358f526fa3e0c40232c466c159628f3bef40361ca7c6016a338b9ea2e1112c9ae42d4edb1d0a25ab4613cd39415c4eb1d29a88311d3722"], ["password_salt", "$2a$10$GS6m.bDP8PEPNBZU7.elTe"], ["updated_at", Wed, 12 Nov 2014 12:29:44 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:29:44 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.8ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "baskets" ("created_at", "kori_type", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 12:29:44 UTC +00:00], ["kori_type", "Order"], ["updated_at", Wed, 12 Nov 2014 12:29:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.7ms)
Started POST "/create_session" for 127.0.0.1 at 2014-11-12 14:29:44 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin3@test.com", "password"=>"[FILTERED]", "commit"=>"Kirjaudu sisään"}
  [1m[35mClerk Load (0.3ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin3@test.com' ORDER BY "clerks"."id" ASC LIMIT 1
Redirected to http://www.example.com/baskets
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/baskets" for 127.0.0.1 at 2014-11-12 14:29:44 +0200
Processing by BasketsController#index as HTML
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin3@test.com' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35mBasket Load (0.3ms)[0m  SELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC
  [1m[36mBasket Load (0.4ms)[0m  [1mSELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mItem Load (0.2ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" IN (1)
  Rendered /Users/raisa/office_clerk/app/views/baskets/index.html.haml within layouts/admin (21.9ms)
Completed 500 Internal Server Error in 25ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin4@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk4\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:29:44 UTC +00:00], ["email", "admin4@test.com"], ["encrypted_password", "bcc06d77913926f36982acc222f5d6d69045c55cd3e4fa782e19b4a593200b9a9e61fe5bf2165c2d9db6842c2cff0d11537e03e3f9852fd2d2d34824bc73006a"], ["password_salt", "$2a$10$mip8BnrcvS5Ggg3cKwLrEO"], ["updated_at", Wed, 12 Nov 2014 12:29:44 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:29:44 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.8ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "kori_type", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 12:29:44 UTC +00:00], ["kori_type", "Order"], ["updated_at", Wed, 12 Nov 2014 12:29:44 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.5ms)
Started POST "/create_session" for 127.0.0.1 at 2014-11-12 14:29:45 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin4@test.com", "password"=>"[FILTERED]", "commit"=>"Kirjaudu sisään"}
  [1m[35mClerk Load (0.4ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin4@test.com' ORDER BY "clerks"."id" ASC LIMIT 1
Redirected to http://www.example.com/baskets
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/baskets" for 127.0.0.1 at 2014-11-12 14:29:45 +0200
Processing by BasketsController#index as HTML
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin4@test.com' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35mBasket Load (0.1ms)[0m  SELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC
  [1m[36mBasket Load (0.4ms)[0m  [1mSELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mItem Load (0.2ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" IN (1)
  Rendered /Users/raisa/office_clerk/app/views/baskets/index.html.haml within layouts/admin (17.5ms)
Completed 500 Internal Server Error in 20ms
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Load (0.4ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin5@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk5\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:29:45 UTC +00:00], ["email", "admin5@test.com"], ["encrypted_password", "5e61f7c4a6a7dec5c33e3096f5e0dbe5b25ab4ee6faac75f85e92bdec2851c46c40f0f509a46cb90e1c796b8c51f68e8bfc751bc4ab3f4b813a0ef33523d6b73"], ["password_salt", "$2a$10$NKUZ2pgR6EFiL.YIXqDeD."], ["updated_at", Wed, 12 Nov 2014 12:29:45 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:29:45 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (1.0ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "baskets" ("created_at", "kori_type", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 12:29:45 UTC +00:00], ["kori_type", "Order"], ["updated_at", Wed, 12 Nov 2014 12:29:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.5ms)
Started POST "/create_session" for 127.0.0.1 at 2014-11-12 14:29:45 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin5@test.com", "password"=>"[FILTERED]", "commit"=>"Kirjaudu sisään"}
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin5@test.com' ORDER BY "clerks"."id" ASC LIMIT 1
Redirected to http://www.example.com/baskets
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/baskets" for 127.0.0.1 at 2014-11-12 14:29:45 +0200
Processing by BasketsController#index as HTML
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin5@test.com' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35mBasket Load (0.4ms)[0m  SELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC
  [1m[36mBasket Load (0.3ms)[0m  [1mSELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" IN (1)
  Rendered /Users/raisa/office_clerk/app/views/baskets/index.html.haml within layouts/admin (53.0ms)
Completed 500 Internal Server Error in 55ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:30:45 UTC +00:00], ["email", "admin@important.me"], ["encrypted_password", "b5ff58f329903a881e145ce317685ef063047b8e02c9aa0ae1bd050d9c50c6a78139b9b3903247ad8694ab939ba6e27b0ed0c863db90a6ee4fbb619b27361c25"], ["password_salt", "$2a$10$DWnLRojP4Bob.EVgmF/QtO"], ["updated_at", Wed, 12 Nov 2014 12:30:45 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "baskets";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'baskets';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "categories";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'categories';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "clerks";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM sqlite_sequence where name = 'clerks';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "items";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'items';[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "orders";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'orders';
  [1m[36m (0.8ms)[0m  [1mDELETE FROM "products";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'products';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM "purchases";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'purchases';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "suppliers";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'suppliers';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk1\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:30:45 UTC +00:00], ["email", "admin1@test.com"], ["encrypted_password", "d8d388ff841f862f90d487b6a4860a2a37f4d14b2ba156594679a9daf532f4b5b822e3caa80e74542168aa0e942dbf43e6ef65b8bd3ee1bea0bb80aff97fb29c"], ["password_salt", "$2a$10$YOXSYwIeMTHOmkBAfiLEuO"], ["updated_at", Wed, 12 Nov 2014 12:30:45 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:30:45 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (274.7ms)
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "baskets" ("created_at", "kori_type", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 12:30:45 UTC +00:00], ["kori_type", "Order"], ["updated_at", Wed, 12 Nov 2014 12:30:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
Completed 200 OK in 403ms (Views: 392.4ms | ActiveRecord: 1.4ms)
Started POST "/create_session" for 127.0.0.1 at 2014-11-12 14:30:45 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin1@test.com", "password"=>"[FILTERED]", "commit"=>"Kirjaudu sisään"}
  [1m[35mClerk Load (0.3ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' ORDER BY "clerks"."id" ASC LIMIT 1
Redirected to http://www.example.com/baskets
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/baskets" for 127.0.0.1 at 2014-11-12 14:30:45 +0200
Processing by BasketsController#index as HTML
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT DISTINCT COUNT(DISTINCT "baskets"."id") FROM "baskets"
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC[0m
  [1m[35mBasket Load (0.1ms)[0m  SELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC LIMIT 20 OFFSET 0
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" IN (1)[0m
  Rendered /Users/raisa/office_clerk/app/views/baskets/index.html.haml within layouts/admin (32.6ms)
Completed 500 Internal Server Error in 37ms
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.1ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk2\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:30:45 UTC +00:00], ["email", "admin2@test.com"], ["encrypted_password", "9fe8ce0895900c6a6140947692ec72d8a177a1c446d67021c4eb433a8f0027a8db7907a77fb3882fdcd001152fefb96cb2f91b2a4f6f2f763a8b3e8ffedbaf09"], ["password_salt", "$2a$10$cPqMOWEdz0.B1n4UmtgU4e"], ["updated_at", Wed, 12 Nov 2014 12:30:45 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:30:46 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (1.2ms)
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "baskets" ("created_at", "kori_type", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 12 Nov 2014 12:30:46 UTC +00:00], ["kori_type", "Order"], ["updated_at", Wed, 12 Nov 2014 12:30:46 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.5ms)
Started POST "/create_session" for 127.0.0.1 at 2014-11-12 14:30:46 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin2@test.com", "password"=>"[FILTERED]", "commit"=>"Kirjaudu sisään"}
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Redirected to http://www.example.com/baskets
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/baskets" for 127.0.0.1 at 2014-11-12 14:30:46 +0200
Processing by BasketsController#index as HTML
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT DISTINCT COUNT(DISTINCT "baskets"."id") FROM "baskets"[0m
  [1m[35mBasket Load (0.1ms)[0m  SELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" IN (1)
  Rendered /Users/raisa/office_clerk/app/views/baskets/index.html.haml within layouts/admin (15.6ms)
Completed 500 Internal Server Error in 17ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin3@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk3\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:30:46 UTC +00:00], ["email", "admin3@test.com"], ["encrypted_password", "f6c85e4e4b66f45f57a67542c69d6c16d437ed3cb5e9af0790dbe0d6602ec9db4009cdbe3e38019f492818a5c373a87b3cdde3d8ffd1d0508f3cb9d928883cc2"], ["password_salt", "$2a$10$MHthXJxqsVE9Hk8emgMFIu"], ["updated_at", Wed, 12 Nov 2014 12:30:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:30:46 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (1.6ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "baskets" ("created_at", "kori_type", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 12:30:46 UTC +00:00], ["kori_type", "Order"], ["updated_at", Wed, 12 Nov 2014 12:30:46 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.5ms)
Started POST "/create_session" for 127.0.0.1 at 2014-11-12 14:30:46 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin3@test.com", "password"=>"[FILTERED]", "commit"=>"Kirjaudu sisään"}
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin3@test.com' ORDER BY "clerks"."id" ASC LIMIT 1
Redirected to http://www.example.com/baskets
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/baskets" for 127.0.0.1 at 2014-11-12 14:30:46 +0200
Processing by BasketsController#index as HTML
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin3@test.com' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT DISTINCT COUNT(DISTINCT "baskets"."id") FROM "baskets"
  [1m[36mBasket Load (0.2ms)[0m  [1mSELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC[0m
  [1m[35mBasket Load (0.2ms)[0m  SELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC LIMIT 20 OFFSET 0
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" IN (1)[0m
  Rendered /Users/raisa/office_clerk/app/views/baskets/index.html.haml within layouts/admin (17.0ms)
Completed 500 Internal Server Error in 19ms
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mClerk Exists (0.3ms)[0m  SELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin4@test.com' LIMIT 1
Binary data inserted for `string` type on column `password_salt`
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk4\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:30:46 UTC +00:00], ["email", "admin4@test.com"], ["encrypted_password", "ced19400abc30cbfa446f9adcbd55ad43448ed7a43ccda6d4e0052d96c690447877ad974a9d9b6fa6d9346d2a2133a03884bcc883e70c925eda2ac6052f3e490"], ["password_salt", "$2a$10$sB3D/nBQ3O9Xidpll8a1xe"], ["updated_at", Wed, 12 Nov 2014 12:30:46 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:30:46 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (1.0ms)
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "baskets" ("created_at", "kori_type", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 12 Nov 2014 12:30:46 UTC +00:00], ["kori_type", "Order"], ["updated_at", Wed, 12 Nov 2014 12:30:46 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "items" WHERE "items"."basket_id" = ?  [["basket_id", 1]]
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.5ms)
Started POST "/create_session" for 127.0.0.1 at 2014-11-12 14:30:46 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin4@test.com", "password"=>"[FILTERED]", "commit"=>"Kirjaudu sisään"}
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin4@test.com' ORDER BY "clerks"."id" ASC LIMIT 1[0m
Redirected to http://www.example.com/baskets
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/baskets" for 127.0.0.1 at 2014-11-12 14:30:46 +0200
Processing by BasketsController#index as HTML
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin4@test.com' ORDER BY "clerks"."id" ASC LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT DISTINCT COUNT(DISTINCT "baskets"."id") FROM "baskets"[0m
  [1m[35mBasket Load (0.1ms)[0m  SELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC
  [1m[36mBasket Load (0.2ms)[0m  [1mSELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mItem Load (0.1ms)[0m  SELECT "items".* FROM "items" WHERE "items"."basket_id" IN (1)
  Rendered /Users/raisa/office_clerk/app/views/baskets/index.html.haml within layouts/admin (17.9ms)
Completed 500 Internal Server Error in 20ms
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mClerk Load (0.5ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin5@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk5\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:30:46 UTC +00:00], ["email", "admin5@test.com"], ["encrypted_password", "6e347725da7e870f01124ab0b711c0b0ebb17828d669c624ab26b089acfe35f8207ea6e2a00d5d777518d4e2c392bd63a7f28878616d9173ff0a7bb9cfe58bdb"], ["password_salt", "$2a$10$EFY20zNa5RxeluTczUMZGe"], ["updated_at", Wed, 12 Nov 2014 12:30:46 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:30:46 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.9ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "kori_type", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 12:30:46 UTC +00:00], ["kori_type", "Order"], ["updated_at", Wed, 12 Nov 2014 12:30:46 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.5ms)
Started POST "/create_session" for 127.0.0.1 at 2014-11-12 14:30:46 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin5@test.com", "password"=>"[FILTERED]", "commit"=>"Kirjaudu sisään"}
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin5@test.com' ORDER BY "clerks"."id" ASC LIMIT 1
Redirected to http://www.example.com/baskets
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/baskets" for 127.0.0.1 at 2014-11-12 14:30:46 +0200
Processing by BasketsController#index as HTML
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin5@test.com' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT DISTINCT COUNT(DISTINCT "baskets"."id") FROM "baskets"
  [1m[36mBasket Load (0.1ms)[0m  [1mSELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC[0m
  [1m[35mBasket Load (0.1ms)[0m  SELECT DISTINCT "baskets".* FROM "baskets" ORDER BY created_at DESC LIMIT 20 OFFSET 0
  [1m[36mItem Load (0.1ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."basket_id" IN (1)[0m
  Rendered /Users/raisa/office_clerk/app/views/baskets/index.html.haml within layouts/admin (16.1ms)
Completed 500 Internal Server Error in 18ms
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin@important.me' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (3.1ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess {}\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:31:00 UTC +00:00], ["email", "admin@important.me"], ["encrypted_password", "9a8aeaff1b567ba7463e33cc8a095ae7735ce90bb559d6a721da4e547d3400a945a568cf1ebdcb94d8d14b626317f347e7f611129e244c9957f0dc345c57c805"], ["password_salt", "$2a$10$T8i/uD/NROnUuC1lQ1fadO"], ["updated_at", Wed, 12 Nov 2014 12:31:00 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "baskets";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'baskets';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "categories";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'categories';[0m
  [1m[35m (0.5ms)[0m  DELETE FROM "clerks";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.7ms)[0m  DELETE FROM sqlite_sequence where name = 'clerks';
  [1m[36m (0.5ms)[0m  [1mDELETE FROM "items";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'items';[0m
  [1m[35m (0.6ms)[0m  DELETE FROM "orders";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'orders';
  [1m[36m (0.8ms)[0m  [1mDELETE FROM "products";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'products';[0m
  [1m[35m (0.6ms)[0m  DELETE FROM "purchases";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'purchases';
  [1m[36m (0.7ms)[0m  [1mDELETE FROM "suppliers";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'suppliers';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk1\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:31:00 UTC +00:00], ["email", "admin1@test.com"], ["encrypted_password", "42fea6306bc5214df974df546bee8c46b9ac3f8de53e11613b683b6e46eb3faf80b2653f14f58fb28480ce600e1db231b0988785cb8ad07235e173ef0c7a47eb"], ["password_salt", "$2a$10$Nl98P0pt8UlxtjO8rx36n."], ["updated_at", Wed, 12 Nov 2014 12:31:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:31:00 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (270.1ms)
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "baskets" ("created_at", "kori_type", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 12:31:00 UTC +00:00], ["kori_type", "Order"], ["updated_at", Wed, 12 Nov 2014 12:31:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
Completed 200 OK in 362ms (Views: 352.3ms | ActiveRecord: 1.4ms)
Started POST "/create_session" for 127.0.0.1 at 2014-11-12 14:31:00 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin1@test.com", "password"=>"[FILTERED]", "commit"=>"Kirjaudu sisään"}
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' ORDER BY "clerks"."id" ASC LIMIT 1
Redirected to http://www.example.com/baskets
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/baskets" for 127.0.0.1 at 2014-11-12 14:31:01 +0200
Processing by BasketsController#index as HTML
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin1@test.com' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT DISTINCT COUNT(DISTINCT "baskets"."id") FROM "baskets"
  Rendered /Users/raisa/office_clerk/app/views/baskets/index.html.haml within layouts/admin (12.9ms)
Completed 500 Internal Server Error in 17ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk2\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:31:01 UTC +00:00], ["email", "admin2@test.com"], ["encrypted_password", "df524096af6c13eed675317ede97f39712600c57d9c0f0ffe3158bee4440f54c983968abaaade28d8556e7f3258dd9a887d2f42fe4da38a4449461fb10423055"], ["password_salt", "$2a$10$fUS6a1DD859SPV87nZd1gu"], ["updated_at", Wed, 12 Nov 2014 12:31:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:31:01 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.8ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "kori_type", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 12:31:01 UTC +00:00], ["kori_type", "Order"], ["updated_at", Wed, 12 Nov 2014 12:31:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.5ms)
Started POST "/create_session" for 127.0.0.1 at 2014-11-12 14:31:01 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin2@test.com", "password"=>"[FILTERED]", "commit"=>"Kirjaudu sisään"}
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' ORDER BY "clerks"."id" ASC LIMIT 1
Redirected to http://www.example.com/baskets
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/baskets" for 127.0.0.1 at 2014-11-12 14:31:01 +0200
Processing by BasketsController#index as HTML
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin2@test.com' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT DISTINCT COUNT(DISTINCT "baskets"."id") FROM "baskets"
  Rendered /Users/raisa/office_clerk/app/views/baskets/index.html.haml within layouts/admin (3.0ms)
Completed 500 Internal Server Error in 5ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin3@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk3\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:31:01 UTC +00:00], ["email", "admin3@test.com"], ["encrypted_password", "6b9043a89ea1bf2b84f1c89c3a964cc2a7f93b914a51364425cb14d80a43c1bee592ab81b97a73c3a19f1dc8cd9f2b21c4e18f37523776af26d12b5b841c8a37"], ["password_salt", "$2a$10$IDOuLDOIlmOqbaMgYgAtbe"], ["updated_at", Wed, 12 Nov 2014 12:31:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:31:01 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.8ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "baskets" ("created_at", "kori_type", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 12:31:01 UTC +00:00], ["kori_type", "Order"], ["updated_at", Wed, 12 Nov 2014 12:31:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.6ms)
Started POST "/create_session" for 127.0.0.1 at 2014-11-12 14:31:01 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin3@test.com", "password"=>"[FILTERED]", "commit"=>"Kirjaudu sisään"}
  [1m[35mClerk Load (0.2ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin3@test.com' ORDER BY "clerks"."id" ASC LIMIT 1
Redirected to http://www.example.com/baskets
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/baskets" for 127.0.0.1 at 2014-11-12 14:31:01 +0200
Processing by BasketsController#index as HTML
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin3@test.com' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT DISTINCT COUNT(DISTINCT "baskets"."id") FROM "baskets"
  Rendered /Users/raisa/office_clerk/app/views/baskets/index.html.haml within layouts/admin (4.2ms)
Completed 500 Internal Server Error in 7ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin4@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk4\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:31:01 UTC +00:00], ["email", "admin4@test.com"], ["encrypted_password", "14c6ede8940e4fcd9235c5c0316168f2cec818a28ee9c4f25157a4fed7aa11c37061980fa7c8fd110ce53fad587c5d631aecc2dbc42bd899dd5d1faed852db23"], ["password_salt", "$2a$10$YsPe1O2byBEDp5BlSRCawe"], ["updated_at", Wed, 12 Nov 2014 12:31:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:31:01 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (0.9ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "baskets" ("created_at", "kori_type", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 12:31:01 UTC +00:00], ["kori_type", "Order"], ["updated_at", Wed, 12 Nov 2014 12:31:01 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.5ms)
Started POST "/create_session" for 127.0.0.1 at 2014-11-12 14:31:01 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin4@test.com", "password"=>"[FILTERED]", "commit"=>"Kirjaudu sisään"}
  [1m[35mClerk Load (0.1ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin4@test.com' ORDER BY "clerks"."id" ASC LIMIT 1
Redirected to http://www.example.com/baskets
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/baskets" for 127.0.0.1 at 2014-11-12 14:31:01 +0200
Processing by BasketsController#index as HTML
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin4@test.com' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT DISTINCT COUNT(DISTINCT "baskets"."id") FROM "baskets"
  Rendered /Users/raisa/office_clerk/app/views/baskets/index.html.haml within layouts/admin (4.6ms)
Completed 500 Internal Server Error in 6ms
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mClerk Load (0.1ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."admin" = 't' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mClerk Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "clerks" WHERE "clerks"."email" = 'admin5@test.com' LIMIT 1[0m
Binary data inserted for `string` type on column `password_salt`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "clerks" ("address", "admin", "created_at", "email", "encrypted_password", "password_salt", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "--- !ruby/hash:ActiveSupport::HashWithIndifferentAccess\nname: Test Clerk5\n"], ["admin", true], ["created_at", Wed, 12 Nov 2014 12:31:01 UTC +00:00], ["email", "admin5@test.com"], ["encrypted_password", "fdd1bd61dee70a24cf8ee33283074a38525ee8be441be803e457c8a336b49750b9fea4cb9d52622c66f9a0184e2905784b26d4f1370fdf85b7b990f0ea1fffcb"], ["password_salt", "$2a$10$f0ZlMwzv7GFCMhPO28Q3ke"], ["updated_at", Wed, 12 Nov 2014 12:31:01 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/sign_in" for 127.0.0.1 at 2014-11-12 14:31:01 +0200
Processing by SessionsController#sign_in as HTML
  Rendered /Users/raisa/office_clerk/app/views/sessions/sign_in.haml within layouts/shop (1.3ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "baskets" ("created_at", "kori_type", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 12 Nov 2014 12:31:01 UTC +00:00], ["kori_type", "Order"], ["updated_at", Wed, 12 Nov 2014 12:31:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "items" WHERE "items"."basket_id" = ?[0m  [["basket_id", 1]]
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.6ms)
Started POST "/create_session" for 127.0.0.1 at 2014-11-12 14:31:01 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin5@test.com", "password"=>"[FILTERED]", "commit"=>"Kirjaudu sisään"}
  [1m[35mClerk Load (0.4ms)[0m  SELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin5@test.com' ORDER BY "clerks"."id" ASC LIMIT 1
Redirected to http://www.example.com/baskets
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/baskets" for 127.0.0.1 at 2014-11-12 14:31:01 +0200
Processing by BasketsController#index as HTML
  [1m[36mClerk Load (0.2ms)[0m  [1mSELECT "clerks".* FROM "clerks" WHERE "clerks"."email" = 'admin5@test.com' ORDER BY "clerks"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT DISTINCT COUNT(DISTINCT "baskets"."id") FROM "baskets"
  Rendered /Users/raisa/office_clerk/app/views/baskets/index.html.haml within layouts/admin (4.5ms)
Completed 500 Internal Server Error in 8ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
